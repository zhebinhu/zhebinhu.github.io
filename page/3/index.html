<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="google-site-verification" content="eUR5SKlr43nnaOTR9jYvH7hmuRFkEWSOzCOoR7kUeNk" />
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://yoursite.com">
  <title>huzb的小书斋</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一枚前行的小码农">
<meta property="og:type" content="website">
<meta property="og:title" content="huzb的小书斋">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="huzb的小书斋">
<meta property="og:description" content="一枚前行的小码农">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="huzb的小书斋">
<meta name="twitter:description" content="一枚前行的小码农">
  
    <link rel="alternative" href="/atom.xml" title="huzb的小书斋" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/headicon.jpg">
  
  <link rel="stylesheet" type="text/css" href="/./main.0cf68a.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

  <script src="https://cdn.bootcss.com/pangu/3.3.0/pangu.min.js"></script>
</head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="/img/headicon.jpg" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/">huzb</a></h1>
		</hgroup>
		
		<p class="header-subtitle">念念不忘，必有回响</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/photos/">相册</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/zhebinhu" title="github"><i class="icon-github"></i></a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/hu-zhe-bin-91/activities" title="zhihu"><i class="icon-zhihu"></i></a>
		        
					<a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=huzhebin2017@gmail.com" title="mail"><i class="icon-mail"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="/img/headicon.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">huzb</h1>
			</hgroup>
			
			<p class="header-subtitle"><i class="icon icon-quo-left"></i>念念不忘，必有回响<i class="icon icon-quo-right"></i></p>
			
			
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/zhebinhu" title="github"><i class="icon-github"></i></a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/hu-zhe-bin-91/activities" title="zhihu"><i class="icon-zhihu"></i></a>
			        
						<a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=huzhebin2017@gmail.com" title="mail"><i class="icon-mail"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 50%">
				
				
					<li style="width: 50%"><a href="/">主页</a></li>
		        
					<li style="width: 50%"><a href="/photos/">相册</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-Java9 新特性概述" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/04/11/Java9 新特性概述/">Java9 新特性概述</a>
    </h1>
  

        
        <a href="/2018/04/11/Java9 新特性概述/" class="archive-article-date">
  	<time datetime="2018-04-11T02:51:48.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-04-11</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>Java9 正式发布于 2017 年 9 月 21 日。作为 Java8 之后 3 年半才发布的新版本，Java9 带来了很多重大的变化。其中最重要的改动是 Java 平台模块系统的引入。除此之外，还有一些新的特性。本文对 Java9 中包含的新特性做了概括性的介绍，可以帮助你快速了解 Java9。</p>
<h2 id="Java-平台模块系统"><a href="#Java-平台模块系统" class="headerlink" title="Java 平台模块系统"></a>Java 平台模块系统</h2><p>Java 平台模块系统，也就是 Project Jigsaw，把模块化开发实践引入到了 Java 平台中。在引入了模块系统之后，JDK 被重新组织成 94 个模块。Java 应用可以通过新增的 jlink 工具，创建出只包含所依赖的 JDK 模块的自定义运行时镜像。这样可以极大的减少 Java 运行时环境的大小。这对于目前流行的不可变基础设施的实践来说，镜像的大小的减少可以节省很多存储空间和带宽资源。</p>
<p>模块化开发的实践在软件开发领域并不是一个新的概念。Java 开发社区已经使用这样的模块化实践有相当长的一段时间。主流的构建工具，包括 Apache Maven 和 Gradle 都支持把一个大的项目划分成若干个子项目。子项目之间通过不同的依赖关系组织在一起。每个子项目在构建之后都会产生对应的 JAR 文件。在 Java9 中，已有的这些项目可以很容易的升级转换为 Java9 模块，并保持原有的组织结构不变。</p>
<p>Java9 模块的重要特征是在其工件（artifact）的根目录中包含了一个描述模块的 module-info.class 文件。工件的格式可以是传统的 JAR 文件或是 Java9 新增的 JMOD 文件。这个文件由根目录中的源代码文件 module-info.java 编译而来。该模块声明文件可以描述模块的不同特征。模块声明文件中可以包含的内容如下：</p>
<ul>
<li><p>模块导出的包：使用<code>exports</code>可以声明模块对其他模块所导出的包。包中的 public 和 protected 类型，以及这些类型的 public 和 protected 成员可以被其他模块所访问。没有声明为导出的包相当于模块中的私有成员，不能被其他模块使用。</p>
</li>
<li><p>模块的依赖关系：使用<code>requires</code>可以声明模块对其他模块的依赖关系。使用<code>requires transitive</code>可以把一个模块依赖声明为传递的。传递的模块依赖可以被依赖当前模块的其他模块所读取。如果一个模块所导出的类型的型构中包含了来自它所依赖的模块的类型，那么对该模块的依赖应该声明为传递的。</p>
</li>
<li><p>服务的提供和使用：如果一个模块中包含了可以被 ServiceLocator 发现的服务接口的实现，需要使用<code>provides with</code>语句来声明具体的实现类；如果一个模块需要使用服务接口，可以使用<code>uses</code>语句来声明。</p>
</li>
</ul>
<p>代码清单 1 中给出了一个模块声明文件的示例。在该声明文件中，模块 com.mycompany.sample 导出了 Java 包 com.mycompany.sample。该模块依赖于模块 com.mycompany.sample。该模块也提供了服务接口 com.mycompany.common.DemoService 的实现类 com.mycompany.sample.DemoServiceImpl。</p>
<p>清单 1.模块声明示例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> com.mycompany.sample &#123; </span><br><span class="line">    <span class="keyword">exports</span> com.mycompany.sample; </span><br><span class="line">    <span class="keyword">requires</span> com.mycompany.common; </span><br><span class="line">    provides com.mycompany.common.DemoService with</span><br><span class="line">        com.mycompany.sample.DemoServiceImpl; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>模块系统中增加了模块路径的概念。模块系统在解析模块时，会从模块路径中进行查找。为了保持与之前 Java 版本的兼容性，CLASSPATH 依然被保留。所有的类型在运行时都属于某个特定的模块。对于从 CLASSPATH 中加载的类型，它们属于加载它们的类加载器对应的未命名模块。可以通过 Class 的 getModule() 方法来获取到表示其所在模块的 Module 对象。</p>
<p>在 JVM 启动时，会从应用的根模块开始，根据依赖关系递归的进行解析，直到得到一个表示依赖关系的图。如果解析过程中出现找不到模块的情况，或是在模块路径的同一个地方找到了名称相同的模块，模块解析过程会终止，JVM 也会退出。Java 也提供了相应的 API 与模块系统进行交互。</p>
<h2 id="Jshell"><a href="#Jshell" class="headerlink" title="Jshell"></a>Jshell</h2><p>jshell 是 Java9 新增的一个实用工具。jshell 为 Java 增加了类似 NodeJS 和 Python 中的读取-求值-打印循环（ Read-Evaluation-Print Loop ）。在 jshell 中可以直接输入表达式并查看其执行结果。当需要测试一个方法的运行效果，或是快速的对表达式进行求值时，jshell 都非常实用。只需要通过 jshell 命令启动 jshell，然后直接输入表达式即可。每个表达式的结果会被自动保存下来，以数字编号作为引用，类似$1 和$2 这样的名称。可以在后续的表达式中引用之前语句的运行结果。在 jshell 中，除了表达式之外，还可以创建 Java 类和方法。jshell 也有基本的代码完成功能。</p>
<p>在代码清单 2 中，我们直接创建了一个方法 add。</p>
<p>清单 2.在 jshell 中添加方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jshell&gt; <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123; </span><br><span class="line">    ...&gt; <span class="keyword">return</span> x + y; </span><br><span class="line">    ...&gt; &#125; </span><br><span class="line"> | <span class="function">created method <span class="title">add</span><span class="params">(<span class="keyword">int</span>,<span class="keyword">int</span>)</span></span></span><br></pre></td></tr></table></figure></p>
<p>接着就可以在 jshell 中直接使用这个方法，如代码清单 3 所示。</p>
<p>清单 3.在 jshell 中使用创建的方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jshell&gt; add(<span class="number">1</span>, <span class="number">2</span>) </span><br><span class="line">$<span class="number">19</span> ==&gt; <span class="number">3</span></span><br></pre></td></tr></table></figure></p>
<h2 id="集合、Stream-和-Optional"><a href="#集合、Stream-和-Optional" class="headerlink" title="集合、Stream 和 Optional"></a>集合、Stream 和 Optional</h2><p>在集合上，Java9 增加了 List.of()、Set.of()、Map.of() 和 Map.ofEntries() 等工厂方法来创建不可变集合，如代码清单 4 所示。</p>
<p>清单 4.创建不可变集合：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List.of(); </span><br><span class="line">List.of(<span class="string">"Hello"</span>, <span class="string">"World"</span>); </span><br><span class="line">List.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">Set.of(); </span><br><span class="line">Set.of(<span class="string">"Hello"</span>, <span class="string">"World"</span>); </span><br><span class="line">Set.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">Map.of();</span><br><span class="line">Map.of(<span class="string">"Hello"</span>, <span class="number">1</span>, <span class="string">"World"</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure></p>
<p>Stream 中增加了新的方法 ofNullable、dropWhile、takeWhile 和 iterate。在代码清单 5 中，流中包含了从 1 到 5 的元素。断言检查元素是否为奇数。第一个元素 1 被删除，结果流中包含 4 个元素。</p>
<p>清单 5.Stream 中的 dropWhile 方法示例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDropWhile</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123; </span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">long</span> count = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) </span><br><span class="line">        .dropWhile(i -&gt; i % <span class="number">2</span> != <span class="number">0</span>) </span><br><span class="line">        .count(); </span><br><span class="line">    assertEquals(<span class="number">4</span>, count); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Collectors 中增加了新的方法 filtering 和 flatMapping。在代码清单 6 中，对于输入的 String 流，先通过 flatMapping 把 String 映射成 Integer 流，再把所有的 Integer 收集到一个集合中。</p>
<p>清单 6.Collectors 的 flatMapping 方法示例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFlatMapping</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123; </span><br><span class="line">    <span class="keyword">final</span> Set&lt;Integer&gt; result = Stream.of(<span class="string">"a"</span>, <span class="string">"ab"</span>, <span class="string">"abc"</span>) </span><br><span class="line">        .collect(Collectors.flatMapping(v -&gt; v.chars().boxed(), </span><br><span class="line">            Collectors.toSet())); </span><br><span class="line">    assertEquals(<span class="number">3</span>, result.size()); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Optional 类中新增了 ifPresentOrElse、or 和 stream 等方法。在代码清单 7 中，Optional 流中包含 3 个元素，其中只有 2 个有值。在使用 flatMap 之后，结果流中包含了 2 个值。</p>
<p>清单 7.Optional 的 stream 方法示例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testStream</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123; </span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">long</span> count = Stream.of( </span><br><span class="line">        Optional.of(<span class="number">1</span>), </span><br><span class="line">        Optional.empty(), </span><br><span class="line">        Optional.of(<span class="number">2</span>) </span><br><span class="line">    ).flatMap(Optional::stream) </span><br><span class="line">        .count(); </span><br><span class="line">    assertEquals(<span class="number">2</span>, count); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="进程-API"><a href="#进程-API" class="headerlink" title="进程 API"></a>进程 API</h2><p>Java9 增加了 ProcessHandle 接口，可以对原生进程进行管理，尤其适合于管理长时间运行的进程。在使用 P rocessBuilder 来启动一个进程之后，可以通过 Process.toHandle() 方法来得到一个 ProcessHandle 对象的实例。通过 ProcessHandle 可以获取到由 ProcessHandle.Info 表示的进程的基本信息，如命令行参数、可执行文件路径和启动时间等。ProcessHandle 的 onExit() 方法返回一个 CompletableFuture<processhandle> 对象，可以在进程结束时执行自定义的动作。代码清单 8 中给出了进程 API 的使用示例。</processhandle></p>
<p>清单 8.进程 API 示例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> ProcessBuilder processBuilder = <span class="keyword">new</span> ProcessBuilder(<span class="string">"top"</span>).inheritIO(); </span><br><span class="line"><span class="keyword">final</span> ProcessHandle processHandle = processBuilder.start().toHandle(); </span><br><span class="line">processHandle.onExit().whenCompleteAsync((handle, throwable) -&gt; &#123; </span><br><span class="line">    <span class="keyword">if</span> (throwable == <span class="keyword">null</span>) &#123; </span><br><span class="line">        System.out.println(handle.pid()); </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">        throwable.printStackTrace(); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h2 id="平台日志-API-和服务"><a href="#平台日志-API-和服务" class="headerlink" title="平台日志 API 和服务"></a>平台日志 API 和服务</h2><p>Java9 允许为 JDK 和应用配置同样的日志实现。新增的 System.LoggerFinder 用来管理 JDK 使用的日志记录器实现。JVM 在运行时只有一个系统范围的 LoggerFinder 实例。LoggerFinder 通过服务查找机制来加载日志记录器实现。默认情况下，JDK 使用 java.logging 模块中的 java.util.logging 实现。通过 LoggerFinder 的 getLogger() 方法就可以获取到表示日志记录器的 System.Logger 实现。应用同样可以使用 System.Logger 来记录日志。这样就保证了 JDK 和应用使用同样的日志实现。我们也可以通过添加自己的 System.LoggerFinder 实现来让 JDK 和应用使用 SLF4J 等其他日志记录框架。代码清单 9 中给出了平台日志 API 的使用示例。</p>
<p>清单 9.使用平台日志 API：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> System.Logger LOGGER = System.getLogger(<span class="string">"Main"</span>); </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">final</span> String[] args)</span> </span>&#123; </span><br><span class="line">        LOGGER.log(Level.INFO, <span class="string">"Run!"</span>);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="反应式流（Reactive-Streams）"><a href="#反应式流（Reactive-Streams）" class="headerlink" title="反应式流（Reactive Streams）"></a>反应式流（Reactive Streams）</h2><p>反应式编程的思想最近得到了广泛的流行。在 Java 平台上有流行的反应式库 RxJava 和 Reactor。反应式流规范的出发点是提供一个带非阻塞负压（non-blocking backpressure）的异步流处理规范。反应式流规范的核心接口已经添加到了 Java9 中的 java.util.concurrent.Flow 类中。</p>
<p>Flow 中包含了 Flow.Publisher、Flow.Subscriber、Flow.Subscription 和 Flow.Processor 等 4 个核心接口。Java9 还提供了 SubmissionPublisher 作为 Flow.Publisher 的一个实现。RxJava2 和 Reactor 都可以很方便的与 Flow 类的核心接口进行互操作。</p>
<h2 id="变量句柄"><a href="#变量句柄" class="headerlink" title="变量句柄"></a>变量句柄</h2><p>变量句柄是一个变量或一组变量的引用，包括静态域，非静态域，数组元素和堆外数据结构中的组成部分等。变量句柄的含义类似于已有的方法句柄。变量句柄由 Java 类 java.lang.invoke.VarHandle 来表示。可以使用类 java.lang.invoke.MethodHandles.Lookup 中的静态工厂方法来创建 VarHandle 对象。通过变量句柄，可以在变量上进行各种操作。这些操作称为访问模式。不同的访问模式尤其在内存排序上的不同语义。目前一共有 31 种访问模式，而每种访问模式都在 VarHandle 中有对应的方法。这些方法可以对变量进行读取、写入、原子更新、数值原子更新和比特位原子操作等。VarHandle 还可以用来访问数组中的单个元素，以及把 byte[] 数组和 ByteBuffer 当成是不同原始类型的数组来访问。</p>
<p>在代码清单 10 中，我们创建了访问 HandleTarget 类中的域 count 的变量句柄，并在其上进行读取操作。</p>
<p>清单 10.变量句柄使用示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HandleTarget</span> </span>&#123; </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> count = <span class="number">1</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VarHandleTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> HandleTarget handleTarget = <span class="keyword">new</span> HandleTarget(); </span><br><span class="line">    <span class="keyword">private</span> VarHandle varHandle; </span><br><span class="line">    <span class="meta">@Before</span> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.handleTarget = <span class="keyword">new</span> HandleTarget(); </span><br><span class="line">        <span class="keyword">this</span>.varHandle = MethodHandles </span><br><span class="line">            .lookup() </span><br><span class="line">            .findVarHandle(HandleTarget.class, <span class="string">"count"</span>, <span class="keyword">int</span>.class); </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="meta">@Test</span> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGet</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123; </span><br><span class="line">        assertEquals(<span class="number">1</span>, <span class="keyword">this</span>.varHandle.get(<span class="keyword">this</span>.handleTarget)); </span><br><span class="line">        assertEquals(<span class="number">1</span>, <span class="keyword">this</span>.varHandle.getVolatile(<span class="keyword">this</span>.handleTarget)); </span><br><span class="line">        assertEquals(<span class="number">1</span>, <span class="keyword">this</span>.varHandle.getOpaque(<span class="keyword">this</span>.handleTarget)); </span><br><span class="line">        assertEquals(<span class="number">1</span>, <span class="keyword">this</span>.varHandle.getAcquire(<span class="keyword">this</span>.handleTarget)); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="改进方法句柄（Method-Handle）"><a href="#改进方法句柄（Method-Handle）" class="headerlink" title="改进方法句柄（Method Handle）"></a>改进方法句柄（Method Handle）</h2><p>类 java.lang.invoke.MethodHandles 增加了更多的静态方法来创建不同类型的方法句柄。</p>
<ul>
<li>arrayConstructor：创建指定类型的数组。</li>
<li>arrayLength：获取指定类型的数组的大小。</li>
<li>varHandleInvoker 和 varHandleExactInvoker：调用 VarHandle 中的访问模式方法。</li>
<li>zero：返回一个类型的默认值。</li>
<li>empty：返回 MethodType 的返回值类型的默认值。</li>
<li>loop、countedLoop、iteratedLoop、whileLoop 和 doWhileLoop：创建不同类型的循环，包括 for 循环、while 循环和 do-while 循环。</li>
<li>tryFinally：把对方法句柄的调用封装在 try-finally 语句中。<br>在代码清单 11 中，我们使用 iteratedLoop 来创建一个遍历 String 类型迭代器的方法句柄，并计算所有字符串的长度的总和。</li>
</ul>
<p>清单 11. 循环方法句柄使用示例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IteratedLoopTest</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">body</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span> sum, <span class="keyword">final</span> String value)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> sum + value.length(); </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="meta">@Test</span> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testIteratedLoop</span><span class="params">()</span> <span class="keyword">throws</span> Throwable </span>&#123; </span><br><span class="line">        <span class="keyword">final</span> MethodHandle iterator = MethodHandles.constant( </span><br><span class="line">            Iterator.class, </span><br><span class="line">            List.of(<span class="string">"a"</span>, <span class="string">"bc"</span>, <span class="string">"def"</span>).iterator()); </span><br><span class="line">        <span class="keyword">final</span> MethodHandle init = MethodHandles.zero(<span class="keyword">int</span>.class); </span><br><span class="line">        <span class="keyword">final</span> MethodHandle body = MethodHandles </span><br><span class="line">            .lookup() </span><br><span class="line">            .findStatic( </span><br><span class="line">                IteratedLoopTest.class, </span><br><span class="line">                <span class="string">"body"</span>, </span><br><span class="line">                MethodType.methodType( </span><br><span class="line">                    <span class="keyword">int</span>.class, </span><br><span class="line">                    <span class="keyword">int</span>.class, </span><br><span class="line">                    String.class)); </span><br><span class="line">        <span class="keyword">final</span> MethodHandle iteratedLoop = MethodHandles </span><br><span class="line">            .iteratedLoop(iterator, init, body); </span><br><span class="line">        assertEquals(<span class="number">6</span>, iteratedLoop.invoke()); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h2><p>在并发方面，类 CompletableFuture 中增加了几个新的方法。completeAsync 使用一个异步任务来获取结果并完成该 CompletableFuture。orTimeout 在 CompletableFuture 没有在给定的超时时间之前完成，使用 TimeoutException 异常来完成 CompletableFuture。completeOnTimeout 与 orTimeout 类似，只不过它在超时时使用给定的值来完成 CompletableFuture。新的 Thread.onSpinWait 方法在当前线程需要使用忙循环来等待时，可以提高等待的效率。</p>
<h2 id="Nashorn"><a href="#Nashorn" class="headerlink" title="Nashorn"></a>Nashorn</h2><p>Nashorn 是 Java8 中引入的新的 JavaScript 引擎。Java9 中的 Nashorn 已经实现了一些 ECMAScript6 规范中的新特性，包括模板字符串、二进制和八进制字面量、迭代器和 for..of 循环和箭头函数等。Nashorn 还提供了 API 把 ECMAScript 源代码解析成抽象语法树（Abstract Syntax Tree，AST），可以用来对 ECMAScript 源代码进行分析。</p>
<h2 id="I-O-流新特性"><a href="#I-O-流新特性" class="headerlink" title="I/O 流新特性"></a>I/O 流新特性</h2><p>类 java.io.InputStream 中增加了新的方法来读取和复制 InputStream 中包含的数据。</p>
<p>readAllBytes：读取 InputStream 中的所有剩余字节。<br>readNBytes：从 InputStream 中读取指定数量的字节到数组中。<br>transferTo：读取 InputStream 中的全部字节并写入到指定的 OutputStream 中。<br>代码清单 12 中给出了这些新方法的使用示例。</p>
<p>清单 12.InputStream 中的新方法使用示例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInputStream</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> InputStream inputStream; </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONTENT = <span class="string">"Hello World"</span>; </span><br><span class="line">    <span class="meta">@Before</span> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.inputStream = </span><br><span class="line">            TestInputStream.class.getResourceAsStream(<span class="string">"/input.txt"</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testReadAllBytes</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123; </span><br><span class="line">        <span class="keyword">final</span> String content = <span class="keyword">new</span> String(<span class="keyword">this</span>.inputStream.readAllBytes()); </span><br><span class="line">        assertEquals(CONTENT, content); </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="meta">@Test</span> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testReadNBytes</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123; </span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">5</span>]; </span><br><span class="line">        <span class="keyword">this</span>.inputStream.readNBytes(data, <span class="number">0</span>, <span class="number">5</span>); </span><br><span class="line">        assertEquals(<span class="string">"Hello"</span>, <span class="keyword">new</span> String(data)); </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="meta">@Test</span> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testTransferTo</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123; </span><br><span class="line">        <span class="keyword">final</span> ByteArrayOutputStream outputStream = <span class="keyword">new</span> ByteArrayOutputStream(); </span><br><span class="line">        <span class="keyword">this</span>.inputStream.transferTo(outputStream); </span><br><span class="line">        assertEquals(CONTENT, outputStream.toString()); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ObjectInputFilter 可以对 ObjectInputStream 中包含的内容进行检查，来确保其中包含的数据是合法的。可以使用 ObjectInputStream 的方法 setObjectInputFilter 来设置。ObjectInputFilter 在进行检查时，可以检查如对象图的最大深度、对象引用的最大数量、输入流中的最大字节数和数组的最大长度等限制，也可以对包含的类的名称进行限制。</p>
<h2 id="改进应用安全性能"><a href="#改进应用安全性能" class="headerlink" title="改进应用安全性能"></a>改进应用安全性能</h2><p>Java9 新增了 4 个 SHA-3 哈希算法，SHA3-224、SHA3-256、SHA3-384 和 SHA3-512。另外也增加了通过 java.security.SecureRandom 生成使用 DRBG 算法的强随机数。代码清单 13 中给出了 SHA-3 哈希算法的使用示例。</p>
<p>清单 13.SHA-3 哈希算法使用示例：<br>import org.apache.commons.codec.binary.Hex;<br>public class SHA3 {<br>    public static void main(final String[] args) throws NoSuchAlgorithmException {<br>        final MessageDigest instance = MessageDigest.getInstance(“SHA3-224”);<br>        final byte[] digest = instance.digest(“”.getBytes());<br>        System.out.println(Hex.encodeHexString(digest));<br>    }<br>}</p>
<h2 id="用户界面"><a href="#用户界面" class="headerlink" title="用户界面"></a>用户界面</h2><p>类 java.awt.Desktop 增加了新的与桌面进行互动的能力。可以使用 addAppEventListener 方法来添加不同应用事件的监听器，包括应用变为前台应用、应用隐藏或显示、屏幕和系统进入休眠与唤醒、以及用户会话的开始和终止等。还可以在显示关于窗口和配置窗口时，添加自定义的逻辑。在用户要求退出应用时，可以通过自定义处理器来接受或拒绝退出请求。在 AWT 图像支持方面，可以在应用中使用多分辨率图像。</p>
<h2 id="统一-JVM-日志"><a href="#统一-JVM-日志" class="headerlink" title="统一 JVM 日志"></a>统一 JVM 日志</h2><p>Java9 中，JVM 有了统一的日志记录系统，可以使用新的命令行选项-Xlog 来控制 JVM 上所有组件的日志记录。该日志记录系统可以设置输出的日志消息的标签、级别、修饰符和输出目标等。Java9 移除了在 Java8 中被废弃的垃圾回收器配置组合，同时把 G1 设为默认的垃圾回收器实现。另外，CMS 垃圾回收器已经被声明为废弃。Java9 也增加了很多可以通过 jcmd 调用的诊断命令。</p>
<h2 id="其他改动方面"><a href="#其他改动方面" class="headerlink" title="其他改动方面"></a>其他改动方面</h2><p>在 Java 语言本身，Java9 允许在接口中使用私有方法。在 try-with-resources 语句中可以使用 effectively-final 变量。类 java.lang.StackWalker 可以对线程的堆栈进行遍历，并且支持过滤和延迟访问。Java9 把对 Unicode 的支持升级到了 8.0。ResourceBundle 加载属性文件的默认编码从 ISO-8859-1 改成了 UTF-8，不再需要使用 native2ascii 命令来对属性文件进行额外处理。注解@Deprecated 也得到了增强，增加了 since 和 forRemoval 两个属性，可以分别指定一个程序元素被废弃的版本，以及是否会在今后的版本中被删除。</p>
<p>在代码清单 14 中，buildMessage 是接口 SayHi 中的私有方法，在默认方法 sayHi 中被使用。</p>
<p>清单 14.接口中私有方法的示例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SayHi</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">buildMessage</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello"</span>; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sayHi</span><span class="params">(<span class="keyword">final</span> String message)</span></span>; </span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">sayHi</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        sayHi(buildMessage()); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>作为 Java 平台最新的一个重大更新，Java9 中的很多新特性，尤其模块系统，对于 Java 应用的开发会产生深远的影响。本文对 Java9 中的新特性做了概括的介绍，可以作为了解 Java9 的基础。这些新特性的相关内容，可以通过官方文档来进一步的了解。</p>
<h2 id="参考资源-resources"><a href="#参考资源-resources" class="headerlink" title="参考资源 (resources)"></a>参考资源 (resources)</h2><ul>
<li>参考<a href="https://docs.oracle.com/javase/9/" target="_blank" rel="noopener">Java9 官方文档 </a>，了解 Java9 的更多内容。</li>
<li>参考<a href="https://docs.oracle.com/javase/9/docs/api/overview-summary.html" target="_blank" rel="noopener">Java9 官方 Java 文档 </a>，了解 Java API 的细节。</li>
<li>了解<a href="http://www.reactive-streams.org/" target="_blank" rel="noopener">反应式流规范 </a> 的更多内容。</li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color5">Java</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">收藏</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/04/11/Java9 新特性概述/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-Centos7 下使用 systemd 管理服务" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/30/Centos7 下使用 systemd 管理服务/">Centos7 下使用 systemd 管理服务</a>
    </h1>
  

        
        <a href="/2018/03/30/Centos7 下使用 systemd 管理服务/" class="archive-article-date">
  	<time datetime="2018-03-30T13:09:37.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-03-30</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>Centos7 新增了 systemd 用于为系统的启动和管理提供一套完整的解决方案，以替代原先的系统管理器 system V init（SysVInit）。相比于 SysVInit，systemd 支持服务并行启动，从而使效率大大提高；同时它还具有日志管理、快速备份与恢复、挂载点管理等多种实用功能，是一套更完善的系统管理方案。服务器后端会经常有将 mysql、redis、nginx 等部件开机启动的需求，现在可以统一交给 Systemd 管理，方便许多。</p>
<h2 id="Systemd-概述"><a href="#Systemd-概述" class="headerlink" title="Systemd 概述"></a>Systemd 概述</h2><p>在 Linux 系统中，我们经常会遇到结尾为 ‘d’ 的进程，比如 initd，mysqld。根据 Linux 惯例，字母‘d’是守护进程（daemon）的缩写。systemd 这个名字的含义，就是它是整个系统的守护进程。在 Centos7 中，它是系统的第一个进程（PID 等于 1），创建于系统启动的过程中，其他进程都是它的子进程。</p>
<p><img src="/2018/03/30/Centos7 下使用 systemd 管理服务/一号进程.png"></p>
<p>在 Centos7 中，系统的启动可以汇整成如下几个过程：</p>
<p>①、打开计算机电源，载入 BIOS 的硬件信息与进行自我测试，并依据设置取得第一个可开机的设备；<br>②、读取并执行第一个开机设备内 MBR 的 boot loader（亦即是 grub2，spfdisk 等程序）；<br>③、依据 boot loader 的设置载入 Kernel，Kernel 会开始侦测硬件与载入驱动程序；<br>④、在硬件驱动成功后，Kernel 会主动调用 systemd 程序，并以 default.target 流程开机；<br>　　1) systemd 执行 sysinit.target 初始化系统及 basic.target 准备操作系统；<br>　　2) systemd 启动 multi-user.target 下的本机与服务器服务；<br>　　3) systemd 执行 multi-user.target 下的/etc/rc.d/rc.local 文件；<br>　　4) systemd 执行 multi-user.target 下的 getty.target 及登录服务；<br>　　5) systemd 执行 graphical 需要的服务（图形化版本特有）</p>
<p>大概就是上面这样子了。你会发现 systemd 出现的频率很高，这是因为 systemd 负责了开机时所有的资源（unit）调度任务，操作系统只需要启动 systemd，剩下的 systemd 都会帮它处理。不仅如此，<strong>事实上，systemd 扮演的就是一个资源管理者的角色，它最主要的功能就是准备软件执行的环境，包括系统的主机名称、网络设置、语系处理、文件系统格式及其他服务的启动等</strong>。</p>
<h2 id="Systemd-的基本概念和操作"><a href="#Systemd-的基本概念和操作" class="headerlink" title="Systemd 的基本概念和操作"></a>Systemd 的基本概念和操作</h2><h3 id="一、Unit"><a href="#一、Unit" class="headerlink" title="一、Unit"></a>一、Unit</h3><p>Systemd 可以管理所有系统资源。不同的资源统称为 Unit（单元）。systemd 将资源归纳为以下一些不同的类型。然而，systemd 正在快速发展，新功能不断增加。所以资源类型可能在不久的将来继续增加。</p>
<blockquote>
<p>Service unit：系统服务（最常见）<br>Target unit：多个 Unit 构成的一个组<br>Device Unit：硬件设备<br>Mount Unit：文件系统的挂载点<br>Automount Unit：自动挂载点<br>Path Unit：文件或路径<br>Scope Unit：不是由 Systemd 启动的外部进程<br>Slice Unit：进程组<br>Snapshot Unit：Systemd 快照，可以切回某个快照<br>Socket Unit：进程间通信的 socket<br>Swap Unit：swap 文件<br>Timer Unit：定时器</p>
</blockquote>
<h4 id="Unit-配置文件"><a href="#Unit-配置文件" class="headerlink" title="Unit 配置文件"></a>Unit 配置文件</h4><p>每一个 unit 都有一个配置文件，配置文件一般存放在目录/usr/lib/systemd/system/，它会告诉 systemd 怎么启动这个 unit。配置文件的后缀名，就是该 unit 的种类，比如 sshd.socket。如果省略，systemd 默认后缀名为.service，所以 sshd 会被理解成 sshd.service。</p>
<p><img src="/2018/03/30/Centos7 下使用 systemd 管理服务/redis.service.png"></p>
<p>上图为我系统中 redis.service 配置文件的内容。它大致包含了这些信息：1）对这个资源的描述；2）所需的前置资源；3）实际执行此 service 的指令或脚本程序；4）实际停止此 service 的指令或脚本程序；5）该资源所在的组（target）。</p>
<p>unit 配置文件中常用的字段整理如下：</p>
<table>
<thead>
<tr>
<th>Unit 字段</th>
<th>参数意义说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Description</td>
<td>就是当我们使用<code>systemctl list-units</code>时，会输出给管理员看的简易说明。使用<code>systemctl status</code>输出的此服务的说明，也是这个字段。</td>
</tr>
<tr>
<td>After</td>
<td>说明此 unit 是在哪个 daemon 启动之后才启动的意思。基本上仅是说明服务启动的顺序而已，并没有强制要求里头的服务一定要启动后此 unit 才能启动。</td>
</tr>
<tr>
<td>Before</td>
<td>与 After 的意义相反，是在什么服务启动前最好启动这个服务的意思。不过这仅是规范服务启动的顺序，并非强制要求的意思。</td>
</tr>
<tr>
<td>Requires</td>
<td>明确地定义此 unit 需要在哪个 daemon 启动后才能够启动。如果在此项设置的前导服务没有启动，那么此 unit 就不会被启动。</td>
</tr>
<tr>
<td>Wants　　　　　　　　</td>
<td>表示这个 unit 之后最好还要启动什么服务比较好的意思，不过并没有明确的规范。主要的目的是希望创建让使用者比较好操作的环境。因此，这个 Wants 后面接的服务如果没有启动，其实不会影响到这个 unit 本身。</td>
</tr>
<tr>
<td>Conflicts</td>
<td>代表冲突的服务。表示这个项目后面接的服务如果有启动，那么我们这个 unit 本身就不能启动！我们 unit 有启动，则此项目后的服务就不能启动！是一种冲突性的检查。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Service 字段（service 特有）</th>
<th>参数意义说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Type</td>
<td>Type 字段定义启动类型。它可以设置的值如下：<code>simple（默认值）</code>：ExecStart 字段启动的进程为主进程。<code>forking</code>：ExecStart 字段将以 fork() 方式启动，此时父进程将会退出，子进程将成为主进程。<code>oneshot</code>：类似于 simple，但只执行一次，systemd 会等它执行完，才启动其他服务。<code>dbus</code>：类似于 simple，但会等待 D-Bus 信号后启动。<code>notify</code>：类似于 simple，启动结束后会发出通知信号，然后 systemd 再启动其他服务。<code>idle</code>：类似于 simple，但是要等到其他任务都执行完，才会启动该服务。一种使用场合是为让该服务的输出，不与其他服务的输出相混合。</td>
</tr>
<tr>
<td>EnvironmentFile　　　</td>
<td>可以指定启动脚本的环境配置文件！例如 sshd.service 的配置文件写入到 /etc/sysconfig/sshd 当中！你也可以使用 Environment=后面接多个不同的 Shell 变量来给予设置！</td>
</tr>
<tr>
<td>ExecStart</td>
<td>就是实际执行此 daemon 的指令或脚本程序。你也可以使用 ExecStartPre（之前）以及 ExecStartPost（之后）两个设置项目来在实际启动服务前，进行额外的指令行为。但是你得要特别注意的是，指令串仅接受“指令 参数 参数…”的格式，不能接受 &lt;,&gt;,&gt;&gt;,&amp;等特殊字符，很多的 bash 语法也不支持喔！所以，要使用这些特殊的字符时，最好直接写入到指令脚本里面去！不过，上述的语法也不是完全不能用，亦即，若要支持比较完整的 bash 语法，那你得要使用 Type=oneshot 才行喔！其他的 Type 才不能支持这些字符。</td>
</tr>
<tr>
<td>ExecStop</td>
<td>与<code>systemctl stop</code>的执行有关，关闭此服务时所进行的指令。</td>
</tr>
<tr>
<td>ExecReload</td>
<td>与<code>systemctl reload</code>有关的指令行为。</td>
</tr>
<tr>
<td>Restart</td>
<td>当设置 Restart=1 时，则当此 daemon 服务终止后，会再次的启动此服务。</td>
</tr>
<tr>
<td>RemainAfterExit</td>
<td>当设置为 RemainAfterExit=1 时，则当这个 daemon 所属的所有程序都终止之后，此服务会再尝试启动。这对于 Type=oneshot 的服务很有帮助！</td>
</tr>
<tr>
<td>TimeoutSec</td>
<td>若这个服务在启动或者是关闭时，因为某些缘故导致无法顺利“正常启动或正常结束”的情况下，则我们要等多久才进入“强制结束”的状态！</td>
</tr>
<tr>
<td>KillMode</td>
<td>可以是<code>process</code>,<code>control-group</code>,<code>none</code>的其中一种，如果是<code>process</code>则 daemon 终止时，只会终止主要的程序（ExecStart 接的后面那串指令），如果是<code>control-group</code>时，则由此 daemon 所产生的其他 control-group 的程序，也都会被关闭。如果是<code>none</code>的话，则没有程序会被关闭。</td>
</tr>
<tr>
<td>RestartSec</td>
<td>与 Restart 有点相关性，如果这个服务被关闭，然后需要重新启动时，大概要 sleep 多少时间再重新启动的意思。默认是 100ms（毫秒）。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Install 字段</th>
<th>参数意义说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>WantedBy　　　　　　</td>
<td>这个设置后面接的大部分是*.target unit！意思是，这个 unit 本身是附挂在哪一个 target unit 下面的！一般来说，大多的服务性质的 unit 都是附挂在 multi-user.target 下面！</td>
</tr>
<tr>
<td>Also</td>
<td>当目前这个 unit 本身被 enable 时，Also 后面接的 unit 也请 enable 的意思！也就是具有相依性的服务可以写在这里呢！</td>
</tr>
<tr>
<td>Alias</td>
<td>进行一个链接的别名的意思！当 systemctl enable 相关的服务时，则此服务会进行链接文件的创建/usr/lib/systemd/system/multi-user.target。</td>
</tr>
</tbody>
</table>
<h4 id="配置-unit-开机启动"><a href="#配置-unit-开机启动" class="headerlink" title="配置 unit 开机启动"></a>配置 unit 开机启动</h4><p>开机时，systemd 默认从目录/etc/systemd/system/读取配置文件。但是，里面存放的大部分文件都是符号链接，指向目录/usr/lib/systemd/system/，真正的配置文件存放在那个目录。<code>systemctl enable</code>命令用于在上面两个目录之间，建立符号链接关系，相当于激活开机启动。与之对应的，<code>systemctl disable</code>命令用于在两个目录之间，撤销符号链接关系，相当于撤销开机启动。</p>
<h4 id="启动和停止-unit"><a href="#启动和停止-unit" class="headerlink" title="启动和停止 unit"></a>启动和停止 unit</h4><p>执行<code>systemctl start</code>命令启动软件，执行<code>systemctl status</code>命令查看该服务的状态</p>
<p><img src="/2018/03/30/Centos7 下使用 systemd 管理服务/systemctl_status.png"></p>
<p>上面的输出结果含义如下：</p>
<blockquote>
<p>Loaded 行：配置文件的位置，是否设为开机启动<br>Drop-In 行：符号链接地址<br>Active 行：表示正在运行<br>Main PID 行：主进程 ID<br>CGroup 块：应用的所有子进程</p>
</blockquote>
<p>当不需要服务继续运行时，可以执行<code>systemctl stop</code>命令终止正在运行的服务。有时候，该命令可能没有响应，服务停不下来，这时候可以执行<code>systemctl kill</code>命令强制终止。另外，需要重启服务时可以执行<code>systemctl restart</code>命令。</p>
<h3 id="二、Target"><a href="#二、Target" class="headerlink" title="二、Target"></a>二、Target</h3><p>启动计算机的时候，需要启动大量的 unit。如果每一次启动，都要一一写明本次启动需要哪些 unit，显然非常不方便。Systemd 的解决方案就是 target。</p>
<p>简单说，target 就是一个 unit 组，包含许多相关的 unit 。启动某个 target 的时候，systemd 就会启动里面所有的 unit。从这个意义上说，target 这个概念类似于”状态点”，启动某个 target 就好比启动到某种状态。</p>
<p>传统的 init 启动模式里面，有 runlevel 的概念，跟 target 的作用很类似。不同的是，runlevel 是互斥的，不可能多个 runlevel 同时启动，但是多个 target 可以同时启动。</p>
<h4 id="查看-target"><a href="#查看-target" class="headerlink" title="查看 target"></a>查看 target</h4><p>我们可以执行指令<code>systemctl list-unit-files --type=target</code>查看当前系统的所有 target。也可以执行指令<code>systemctl list-dependencies multi-user.target</code>查看一个 target 包含的所有 unit。</p>
<p>系统启动时 systemctl 会根据/etc/systemd/system/default.target 规划的策略进行启动，我们可以通过执行指令<code>systemctl get-default</code>查看启动时默认的 target（一般是 multi-user.target）。指令<code>systemctl set-default</code>可以设置启动时的默认 target。切换 target 时，默认不关闭前一个 target 启动的进程，我们可以通过<code>systemctl isolate</code>关闭前一个 target 里面所有不属于后一个 target 的进程。</p>
<h3 id="三、日志管理"><a href="#三、日志管理" class="headerlink" title="三、日志管理"></a>三、日志管理</h3><p>Systemd 统一管理所有 unit 的启动日志。带来的好处就是，可以只用<code>journalctl</code>一个命令，查看所有日志（内核日志和应用日志）。日志的配置文件是/etc/systemd/journald.conf。</p>
<h4 id="查看日志"><a href="#查看日志" class="headerlink" title="查看日志"></a>查看日志</h4><p>我们可以通过指令<code>journalctl</code>查看所有日志（默认情况下 ，只保存本次启动的日志）。<code>journalctl -k</code>可以查看内核日志，<code>journalctl -b</code>和<code>journalctl -b -0</code>可以查看系统本次启动的日志，<code>journalctl -b -1</code>可以查看上一次启动的日志，<code>journalctl _PID=X</code>查看指定进程的日志，<code>journalctl /usr/bin/bash</code>查看某个路径的脚本的日志，<code>journalctl -u redis.service</code>和<code>journalctl -u redis.service --since today</code>查看某个 unit 的日志。</p>
<h2 id="Systemd-的特性（对比-SysVInit）"><a href="#Systemd-的特性（对比-SysVInit）" class="headerlink" title="Systemd 的特性（对比 SysVInit）"></a>Systemd 的特性（对比 SysVInit）</h2><p>为了保证运行在先前 Linux 版本上的应用程序运行稳定，systemd 兼容了原先的 SysVInit 以及 LSB initscripts，但也引入了新的特性。这使得系统中已经存在的服务和进程无需修改，降低了系统向 systemd 迁移的成本。但我们也应该了解 systemd 所做的改变，以更好的适应当前的版本。大体而言，systemd 相比 SysVInit 更改了以下几个方面：</p>
<h3 id="一、支持并行启动"><a href="#一、支持并行启动" class="headerlink" title="一、支持并行启动"></a>一、支持并行启动</h3><p>系统启动时，需要启动很多启动项目，在 SysVInit 中，每一个启动项目都由一个独立的脚本负责，它们由 SysVinit 顺序地，串行地调用。因此总的启动时间是各脚本运行时间之和。而 systemd 通过 socket/D-Bus activation 等技术，能够将启动项目同时并行启动，大大提高了系统的启动速度。</p>
<h3 id="二、提供按需启动能力"><a href="#二、提供按需启动能力" class="headerlink" title="二、提供按需启动能力"></a>二、提供按需启动能力</h3><p>当 sysvinit 系统初始化的时候，它会将所有可能用到的后台服务进程全部启动运行。并且系统必须等待所有的服务都启动就绪之后，才允许用户登录。这种做法有两个缺点：首先是启动时间过长；其次是系统资源浪费。</p>
<p>某些服务很可能在很长一段时间内，甚至整个服务器运行期间都没有被使用过。比如 CUPS，打印服务在多数服务器上很少被真正使用到。您可能没有想到，在很多服务器上 SSHD 也是很少被真正访问到的。花费在启动这些服务上的时间是不必要的；同样，花费在这些服务上的系统资源也是一种浪费。</p>
<p>Systemd 可以提供按需启动的能力，只有在某个服务被真正请求的时候才启动它。当该服务结束，systemd 可以关闭它，等待下次需要时再次启动它。</p>
<h3 id="三、采用-Linux-的-Cgroup-特性跟踪和管理进程的生命周期"><a href="#三、采用-Linux-的-Cgroup-特性跟踪和管理进程的生命周期" class="headerlink" title="三、采用 Linux 的 Cgroup 特性跟踪和管理进程的生命周期"></a>三、采用 Linux 的 Cgroup 特性跟踪和管理进程的生命周期</h3><p>Init 系统的一个重要职责就是负责跟踪和管理服务进程的生命周期。它不仅可以启动一个服务，也必须也能够停止服务。这看上去没有什么特别的，然而在真正用代码实现的时候，我们会发现有时候停止服务比一开始想的要困难。</p>
<p>服务进程一般都会作为守护进程（daemon）在后台运行，为此服务程序有时候会派生 (fork) 两次。在 SysVInit 中，需要在配置文件中正确地配置 expect 小节。这样 SysVInit 通过对 fork 系统调用进行计数，从而获知真正的守护进程的 PID 号。</p>
<p>还有更加特殊的情况。比如，一个 CGI 程序会派生两次，从而脱离了和 Apache 的父子关系。当 Apache 进程被停止后，该 CGI 程序还在继续运行。而我们希望服务停止后，所有由它所启动的相关进程也被停止。</p>
<p>为了处理这类问题，SysVInit 通过 strace 来跟踪 fork、exit 等系统调用，但是这种方法很笨拙，且缺乏可扩展性。Systemd 则利用了 Linux 内核的特性即 CGroup 来完成跟踪的任务。当停止服务时，通过查询 CGroup，Systemd 可以确保找到所有的相关进程，从而干净地停止服务。</p>
<p>CGroup 已经出现了很久，它主要用来实现系统资源配额管理。CGroup 提供了类似文件系统的接口，使用方便。当进程创建子进程时，子进程会继承父进程的 CGroup。因此无论服务如何启动新的子进程，所有的这些相关进程都会属于同一个 CGroup，systemd 只需要简单地遍历指定的 CGroup 即可正确地找到所有的相关进程，将它们一一停止即可。</p>
<h3 id="四、启动挂载点和自动挂载的管理"><a href="#四、启动挂载点和自动挂载的管理" class="headerlink" title="四、启动挂载点和自动挂载的管理"></a>四、启动挂载点和自动挂载的管理</h3><p>传统的 Linux 系统中，用户可以用/etc/fstab 文件来维护固定的文件系统挂载点。这些挂载点在系统启动过程中被自动挂载，一旦启动过程结束，这些挂载点就会确保存在。这些挂载点都是对系统运行至关重要的文件系统，比如 HOME 目录。和 SysVInit 一样，Systemd 会管理这些挂载点，以便能够在系统启动时自动挂载它们。Systemd 兼容了/etc/fstab 文件，我们可以继续使用该文件管理挂载点。</p>
<p>有时候用户还需要动态挂载点，比如打算访问 DVD 内容时，才临时执行挂载以便访问其中的内容，而不访问光盘时该挂载点被取消 (umount)，以便节约资源。传统地，人们依赖 autofs 服务来实现这种功能。</p>
<p>Systemd 内建了自动挂载服务，无需另外安装 autofs 服务，可以直接使用 systemd 提供的自动挂载管理能力来实现 autofs 的功能。</p>
<h3 id="五、实现事务性依赖关系管理"><a href="#五、实现事务性依赖关系管理" class="headerlink" title="五、实现事务性依赖关系管理"></a>五、实现事务性依赖关系管理</h3><p>系统启动过程是由很多的独立工作共同组成的，这些工作之间可能存在依赖关系，比如挂载一个 NFS 文件系统必须依赖网络能够正常工作。Systemd 虽然能够最大限度地并发执行很多有依赖关系的工作，但是类似”挂载 NFS”和”启动网络”这样的工作还是存在天生的先后依赖关系，无法并发执行。对于这些任务，systemd 维护一个”事务一致性”的概念，保证所有相关的服务都可以正常启动而不会出现互相依赖，以至于死锁的情况。</p>
<h3 id="六、能够对系统进行快照和恢复"><a href="#六、能够对系统进行快照和恢复" class="headerlink" title="六、能够对系统进行快照和恢复"></a>六、能够对系统进行快照和恢复</h3><p>Systemd 支持按需启动，因此系统的运行状态是动态变化的，人们无法准确地知道系统当前运行了哪些服务。Systemd 快照提供了一种将当前系统运行状态保存并恢复的能力。</p>
<p>比如系统当前正运行服务 A 和 B，可以用 systemd 命令行对当前系统运行状况创建快照。然后将进程 A 停止，或者做其他的任意的对系统的改变，比如启动新的进程 C。在这些改变之后，运行 systemd 的快照恢复命令，就可立即将系统恢复到快照时刻的状态，即只有服务 A，B 在运行。一个可能的应用场景是调试：比如服务器出现一些异常，为了调试用户将当前状态保存为快照，然后可以进行任意的操作，比如停止服务等等。等调试结束，恢复快照即可。</p>
<p>这个快照功能目前在 systemd 中并不完善，似乎开发人员也没有特别关注它，因此有报告指出它还存在一些使用上的问题，使用时尚需慎重。</p>
<h3 id="七、日志服务"><a href="#七、日志服务" class="headerlink" title="七、日志服务"></a>七、日志服务</h3><p>systemd 自带日志服务 journald，该日志服务的设计初衷是克服现有的 syslog 服务的缺点。比如：</p>
<ul>
<li>syslog 不安全，消息的内容无法验证。每一个本地进程都可以声称自己是 Apache PID 4711，而 syslog 也就相信并保存到磁盘上。</li>
<li>数据没有严格的格式，非常随意。自动化的日志分析器需要分析人类语言字符串来识别消息。一方面此类分析困难低效；此外日志格式的变化会导致分析代码需要更新甚至重写。</li>
</ul>
<p>Systemd Journal 用二进制格式保存所有日志信息，用户使用 journalctl 命令来查看日志信息。无需自己编写复杂脆弱的字符串分析处理程序。</p>
<p>Systemd Journal 的优点如下：</p>
<ul>
<li>简单性：代码少，依赖少，抽象开销最小。</li>
<li>零维护：日志是除错和监控系统的核心功能，因此它自己不能再产生问题。举例说，自动管理磁盘空间，避免由于日志的不断产生而将磁盘空间耗尽。</li>
<li>移植性：日志文件应该在所有类型的 Linux 系统上可用，无论它使用的何种 CPU 或者字节序。</li>
<li>性能：添加和浏览日志非常快。</li>
<li>最小资源占用：日志数据文件需要较小。</li>
<li>统一化：各种不同的日志存储技术应该统一起来，将所有的可记录事件保存在同一个数据存储中。所以日志内容的全局上下文都会被保存并且可供日后查询。例如一条固件记录后通常会跟随一条内核记录，最终还会有一条用户态记录。重要的是当保存到硬盘上时这三者之间的关系不会丢失。Syslog 将不同的信息保存到不同的文件中，分析的时候很难确定哪些条目是相关的。</li>
<li>扩展性：日志的适用范围很广，从嵌入式设备到超级计算机集群都可以满足需求。</li>
<li>安全性：日志文件是可以验证的，让无法检测的修改不再可能。</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Systemd 作为 Centos7 最新采用的系统管理进程，相比前任有相当多的改变。它的优点是功能强大，使用方便，缺点是过于复杂，与操作系统的其他部分强耦合，可能在某种程度上违背了 Linux 原本”keep simple, keep stupid”设计哲学。但从一个系统使用者的角度，它的确在很多方面做得都要比它的前任更好。作为一个后端，我们需要对这些改变有所了解，才能将这个系统用得更好。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>1、<a href="https://wizardforcel.gitbooks.io/vbird-linux-basic-4e/content/165.html" target="_blank" rel="noopener">鸟哥的 Linux 私房菜：基础学习篇 第四版 第十九章 </a><br>2、<a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html" target="_blank" rel="noopener">Systemd 入门教程 - 阮一峰的网络日志 </a><br>3、<a href="https://www.thegeekdiary.com/rhel-centos-7-how-to-set-default-target-replaced-runlevel/" target="_blank" rel="noopener">CentOS / RHEL 7 : How to set default target (default runlevel)</a><br>4、<a href="https://www.ibm.com/developerworks/cn/linux/1407_liuming_init3/index.html" target="_blank" rel="noopener">IBM developerWorks Systemed</a></p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">Linux</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/03/30/Centos7 下使用 systemd 管理服务/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-简单的密码学生成唯一邀请码" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/23/简单的密码学生成唯一邀请码/">简单的密码学生成唯一邀请码</a>
    </h1>
  

        
        <a href="/2018/03/23/简单的密码学生成唯一邀请码/" class="archive-article-date">
  	<time datetime="2018-03-23T09:10:23.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-03-23</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>最近项目需要生成用户邀请码，网上找了几个算法都不太满意，就自己写了一个。里面借鉴了一些密码学里的思路，最后的算法效果还不错。想把思路记录下来，可以用在类似对加密强度要求不高的场合下。</p>
<h2 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h2><p>从业务需求和市面上其它产品邀请码的使用体验上来看，邀请码有以下几个强制性的要求：</p>
<ul>
<li>不可重复</li>
<li>唯一确定</li>
</ul>
<p>这两点要求首先就排除了 hash code 的可能，因为 hash code 是可以发生碰撞的。然后在强制性要求的基础之上，我们还有一些进一步的需求：</p>
<ul>
<li>长度不能太长，6-10 位是合适的区间</li>
<li>不容易被推测出</li>
<li>资源消耗尽可能小</li>
</ul>
<p>在这些需求的约束下，我们先来看看常见的通用的序列码生成算法。</p>
<h2 id="通用方案"><a href="#通用方案" class="headerlink" title="通用方案"></a>通用方案</h2><p>通用方案的解决思路可以分为两种：一种是生成一串不重复随机数，然后将其保存到数据库里。使用邀请码时从数据库里查询就可以得到邀请人；另一种是对身份信息作加密，通常是用户 id，将加密后的密文作为邀请码，使用时可以不查询数据库，直接解密得到。理论上说，第二种方式稍好一点，可以少进行一次数据库查询。但是考虑到安全性，我们还是会把解密后的 id 拿到数据库中查询，防止有人输错或者伪造邀请码产生 NPE。因此在选择算法的时候，这两种思路我都有考虑到。</p>
<h3 id="1、UUID"><a href="#1、UUID" class="headerlink" title="1、UUID"></a>1、UUID</h3><p>谈到不重复的随机数，最先想到的自然是 UUID。UUID 是一种软件构建的标准，也是开放软件基金会组织（OSF）在分布式计算环境领域的一部分。按照 OSF 制定的标准计算，它用到了以太网卡地址、纳秒级时间、芯片 ID 码和许多可能的数字，保证对在同一时空中的所有机器都是唯一的。Java 的工具类 java.util.UUID 是 Java 提供的一整套 UUID 生成方案，对于开发者来说可以很方便的调用。然而 UUID 并不适合用在这里，因为 UUID 的位数是固定的 32 位，这个对于我们的邀请码来说显然是太长了（想象一下用户面对面分享邀请码的时候居然需要报一串 32 位的数字+字母）。</p>
<p>网上也有用 UUID 的一部分当随机数的，但 UUID 只能保证完整的 32 位是不会重复的，不能保证其中的某一段不重复，因此这个方案也行不通。</p>
<h3 id="2、系统当前时间"><a href="#2、系统当前时间" class="headerlink" title="2、系统当前时间"></a>2、系统当前时间</h3><p>系统当前时间也是一种常见的随机数生成方案。它的做法是先获取到系统当前时间，再用它和某个时间点对比，将这两段时间的间隔以毫秒或者纳秒为单位存到内存中去。最后我们程序获取到的是一串数字。Java 提供了两个系统函数用于实现这个功能：System.currentTimeMillis() 和 System.nanoTime()。然而这两个系统函数在这个业务里都有各自的问题。</p>
<p>System.currentTimeMillis() 返回的是从 1970.1.1 UTC 零点开始到现在的时间，精确到毫秒。它的问题在于不能支持高并发的邀请码生成。在这套方案中，只要我们的系统在某 1 秒内生成的邀请码超过 32 个，那么出现相同邀请码的概率就超过 50%（详见<a href="https://zh.wikipedia.org/wiki/%E7%94%9F%E6%97%A5%E5%95%8F%E9%A1%8C" target="_blank" rel="noopener">生日攻击 </a>）。显然，这个规模的并发量是不能接受的。</p>
<p>System.nanoTime() 返回的是从某个固定但随意的时间点开始的时间，精确到纳秒。这个固定但随意的时间，在不同 JVM 中是不一样的。这也就是说不同计算机计算出来的 nanoTime() 是有可能重合的。甚至同一台计算机重启 JVM 后生成的 nanoTime() 也是可能重合的。这违背了我们的第一个要求。</p>
<h3 id="3、RC4-算法"><a href="#3、RC4-算法" class="headerlink" title="3、RC4 算法"></a>3、RC4 算法</h3><p>RC4 对于学过密码的同学来说肯定不会陌生。它是大名鼎鼎的 RSA 三人组中的头号人物 Ronald Rivest 在 1987 年设计的一种轻量级对称加密算法。它的特点是按字节流加密，也就是说明文多长，密文就多长。这一特点很好避免了 UUID 只能生成 32 位字符串的尴尬。而且 RC4 是一个轻量级加密算法，运行速度快，占用资源少，很好地满足了我们的第 5 点要求。乍一看 RC4 似乎是种理想的方案，然而实际一跑就出现了问题：</p>
<p><img src="/2018/03/23/简单的密码学生成唯一邀请码/RC4_1.png"></p>
<p>出现了乱码！这是因为字符的取值在 0~255，而我们熟悉的英文和数字只占了其中的 62 位，其它符号是我们不熟悉的，当然也不能作为邀请码。解决方法也很简单，把字符串转成 16 进制即可：</p>
<p><img src="/2018/03/23/简单的密码学生成唯一邀请码/RC4_2.png"></p>
<p>由于把 8 位的字符串转成了 4 位的 16 进制，字符串的长度增加了一倍，但长度尚在可接受范围之内。不太满意的一点是加密后的密文都是连续性的，高位的数字基本不变。这也意味着如果被邀请的同学输错了后几位数字，后台大概率检测不到他的这次操作失误，因为他输入的错误邀请码能在数据库里被找到。而且连续的密文容易被找出规律，安全性较低。因此这种方式也不建议。</p>
<h3 id="4、用户身份标志-随机数"><a href="#4、用户身份标志-随机数" class="headerlink" title="4、用户身份标志+随机数"></a>4、用户身份标志+随机数</h3><p>这种方法是我在网上找到的已经被用于实际业务中的方法，它的大致思路是这样：</p>
<ul>
<li>获取用户身份的唯一标志，比如用户 ID。</li>
<li>将用户 ID 补全，补全的位数取决于你希望得到的邀请码长度，如：106 可以补全为 00106.</li>
<li>随机生成一串大写字母串，长度和补全后的用户 ID 相同，如：SZUDF。</li>
<li>将随机数隔位插入用户 ID，得到邀请码：S0Z0U1D0F6。</li>
</ul>
<p>这种方式得到的邀请码基本能满足我们的要求：由用户 ID 的唯一性保证了邀请码的唯一性；随机生成的字母串又能保证不容易被找到规律，同时又提高了用户操作的容错率；长度也在可接受范围内。因此第一版的邀请码生成算法我们采用了这种方式。</p>
<p><img src="/2018/03/23/简单的密码学生成唯一邀请码/myCode_1.png"></p>
<p>但是它仍然有改进的空间。①、字母和数字的位置是固定的，有一定的容易被察觉的规律，且对于数字来说，仍然具有连续性；②、用户 ID 直接暴露在密文中，存在风险；③、没有校验位，邀请码的校验依赖于数据库，无法对恶意伪造大量错误邀请码的攻击进行有效防御。</p>
<p>因此我在这种算法上作了改进，克服了以上的缺点。</p>
<h2 id="我的方案"><a href="#我的方案" class="headerlink" title="我的方案"></a>我的方案</h2><p>为了让字母和数字的位置不再固定，我将用户 ID 作了 36 进制转换，即把用户 ID 映射为一串字母+数字的组合，高位用 0 补全。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[CODE_LENGTH];</span><br><span class="line">b[<span class="number">0</span>] = id;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) &#123;</span><br><span class="line">    b[i + <span class="number">1</span>] = b[i] / <span class="number">36</span>;</span><br><span class="line">    b[i] = (b[i]) % <span class="number">36</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同时把随机数生成的范围扩大到字母和数字，这样密文中的每一位都可能是数字和字母，规律性就不易察觉得多。</p>
<p>然后是用户 ID 暴露在密文中的问题。这个问题的解决办法是我们可以加一点<a href="https://zh.wikipedia.org/wiki/%E7%9B%90_(%E5%AF%86%E7%A0%81%E5%AD%A6" target="_blank" rel="noopener">盐 </a>。盐的取值最好不要太小，太小缺乏隐蔽性；也不能太大，太大会占用过多用户 ID 的取值空间。具体的取值取决于业务需求。</p>
<p>当然，最后是校验位的问题。这个问题我思考之后决定在随机数上作文章。目前的算法，会生成和补全后用户 ID 长度相等的随机数。这有两点问题：一是邀请码长度稍显过长，6 位用户 ID 就会产生 12 位的邀请码；二是随机数没有提供额外的信息，这对密文来说是一种资源浪费。鉴于此，我改变了随机数的生成方式，让它不再随机生成，而是承担起对密文其它部分的校验功能。同时改变了它的长度，把它固定在 2 位。当然，缩短后的校验码就没有办法隔位插入，我就把它放在了密文尾部。用这一套校验方式，理论上能保证 99.9%的误操作可以被后台检测出来而不需要查询数据库。</p>
<p><img src="/2018/03/23/简单的密码学生成唯一邀请码/myCode_2.png"></p>
<p>生成的邀请码如上，相比第一版，可以看到一些很明显的改进。而且理论上可以容纳 1000 万的用户量，比第一版的 10 万位有了很大提升。</p>
<p>但是这一版的算法仍有问题，细心的同学会发现 6 个验证码的 2~5 位是一样的。这是因为低位的变化不足以影响到高位，导致高位的字符没有发生变化。这样的算法在安全性上是比较薄弱的，攻击人可以利用这一规律大大降低猜测的区间。而且密文和密钥（超参数，本文中就是 salt 和 prime1）之间的关系比较直接，没有进行进一步的处理。现代密码学认为，密码的安全性应该由密钥来保障而不是加密算法，如果密钥和密文之间的联系过于直接，密码的安全性便会削弱。当然，密码学上对这些问题有解决方法，那就是<strong>扩散和混淆</strong>。</p>
<h3 id="扩散和混淆"><a href="#扩散和混淆" class="headerlink" title="扩散和混淆"></a>扩散和混淆</h3><p>扩散 (diffusion) 和混淆 (confusion) 是 C.E.Shannon 提出的设计密码体制的两种基本方法，其目的是为了抵抗对手对密码体制的统计分析。在分组密码的设计中，充分利用扩散和混淆，可以有效地抵抗对手从密文的统计特性推测明文或密钥。扩散和混淆是现代分组密码的设计基础。</p>
<p>所谓扩散就是让明文中的每一位影响密文中的许多位，或者说让密文中的每一位受明文中的许多位的影响。这样可以隐蔽明文的统计特性。当然，理想的情况是让明文中的每一位影响密文中的所有位，或者说让密文中的每一位受明文中所有位的影响。</p>
<p>所谓混淆就是将密文与密钥之间的统计关系变得尽可能复杂，使得对手即使获取了关于密文的一些统计特性，也无法推测密钥。使用复杂的非线性代替变换可以达到比较好的混淆效果，而简单的线性代替变换得到的混淆效果则不理想。可以用”揉面团”来形象地比喻扩散和混淆。当然，这个”揉面团”的过程应该是可逆的。乘积和迭代有助于实现扩散和混淆。选择某些较简单的受密钥控制的密码变换，通过乘积和迭代可以取得比较好的扩散和混淆的效果。</p>
<h3 id="改进后的算法"><a href="#改进后的算法" class="headerlink" title="改进后的算法"></a>改进后的算法</h3><p>我用扩散和混淆的方式对算法进行了改进。</p>
<p>扩散的方式很简单，只需要将个位和其它每一位作和后取余，即可把变化传导到每一位。为了隐蔽，我还把变化进行了放大：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id = id * PRIME1;</span><br></pre></td></tr></table></figure></p>
<p> PRIME1 可以为任意随机数，最好和 36 以及 10^n（n 为用户 id 位数）互质。这是因为根据<a href="https://zh.wikipedia.org/wiki/%E5%BE%AA%E7%92%B0%E7%BE%A4" target="_blank" rel="noopener">循环群 </a> 的性质：若 m 和 p 互质，则 ( id * m ) % p 的结果遍历[0, p) 的所有整数。保证了放大后结果的分布和原数据的分布同样均匀。为了使结果看起来更随机，我还给每一位分配了不同系数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">id = id * PRIME1;</span><br><span class="line">id = id + SALT;</span><br><span class="line"><span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[CODE_LENGTH];</span><br><span class="line">b[<span class="number">0</span>] = id;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) &#123;</span><br><span class="line">    b[i + <span class="number">1</span>] = b[i] / ARY;</span><br><span class="line">    b[i] = (b[i] + b[<span class="number">0</span>] * i) % ARY;</span><br><span class="line">&#125;</span><br><span class="line">b[<span class="number">5</span>] = (b[<span class="number">0</span>] + b[<span class="number">1</span>] + b[<span class="number">2</span>]) * PRIME1 % ARY;</span><br><span class="line">b[<span class="number">6</span>] = (b[<span class="number">3</span>] + b[<span class="number">4</span>] + b[<span class="number">5</span>]) * PRIME1 % ARY;</span><br></pre></td></tr></table></figure>
<p>ARY 表示进制，这里是 36，也可以设置成其它的数，比如 62（字母区分大小写）。<br>代码的第 7、9、10 行中我分别对每一位设置了不同的系数，使得每一次的增量显得更不固定。</p>
<p>然后是混淆。混淆我用了<a href="https://zh.wikipedia.org/wiki/P%E7%9B%92" target="_blank" rel="noopener">P-box</a> 的方式，其实就是将数字洗牌。比如把 1234567 洗成 5237641。这样处理之后可以隐藏密钥和密文之间的关系。洗牌的方式也很简单，选择一个和 CODE_LENGTH（本文中为 7）互质的数 PRIME2，和数组角标相乘取余即可（原理同 PRIME1）。最终的代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">inviCodeGenerator</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    id = id * PRIME1;</span><br><span class="line">    id = id + SALT;</span><br><span class="line">    <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[CODE_LENGTH];</span><br><span class="line">    b[<span class="number">0</span>] = id;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) &#123;</span><br><span class="line">        b[i + <span class="number">1</span>] = b[i] / ARY;</span><br><span class="line">        b[i] = (b[i] + b[<span class="number">0</span>] * i) % ARY;</span><br><span class="line">    &#125;</span><br><span class="line">    b[<span class="number">5</span>] = (b[<span class="number">0</span>] + b[<span class="number">1</span>] + b[<span class="number">2</span>]) * PRIME1 % ARY;</span><br><span class="line">    b[<span class="number">6</span>] = (b[<span class="number">3</span>] + b[<span class="number">4</span>] + b[<span class="number">5</span>]) * PRIME1 % ARY;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; CODE_LENGTH; ++i) &#123;</span><br><span class="line">        sb.append(HEX_36_Array.charAt(b[(i * PRIME2) % CODE_LENGTH]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试结果如下：</p>
<p><img src="/2018/03/23/简单的密码学生成唯一邀请码/myResult_1.png"></p>
<p>完美符合我们的需求^_^</p>
<p>邀请码和用户 ID 的转换也很简单，因为加密的过程都是可逆的，所以只需将加密过程作逆变换即可。这里要提一点就是我们是设置了校验位的，所以可以在解密的过程中对邀请码进行校验，如果是用户的误输入或者有人企图构造邀请码恶意攻击，我们在业务层就可以检测出来，不需要拿到数据层去做校验。具体的解密代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">inviDecoding</span><span class="params">(String inviCode)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (inviCode.length() != CODE_LENGTH) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> a[] = <span class="keyword">new</span> <span class="keyword">int</span>[CODE_LENGTH];</span><br><span class="line">    <span class="keyword">int</span> b[] = <span class="keyword">new</span> <span class="keyword">int</span>[CODE_LENGTH];</span><br><span class="line">    <span class="keyword">char</span>[] c = <span class="keyword">new</span> <span class="keyword">char</span>[CODE_LENGTH];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; CODE_LENGTH; ++i) &#123;</span><br><span class="line">        a[(i * PRIME2) % CODE_LENGTH] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; CODE_LENGTH; ++i) &#123;</span><br><span class="line">        c[i] = inviCode.charAt(a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; CODE_LENGTH; ++i) &#123;</span><br><span class="line">        a[i] = HEX_36_Array.indexOf(c[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    b[<span class="number">5</span>] = (a[<span class="number">0</span>] + a[<span class="number">1</span>] + a[<span class="number">2</span>]) * PRIME1 % ARY;</span><br><span class="line">    b[<span class="number">6</span>] = (a[<span class="number">3</span>] + a[<span class="number">4</span>] + a[<span class="number">5</span>]) * PRIME1 % ARY;</span><br><span class="line">    <span class="keyword">if</span> (a[<span class="number">5</span>] != b[<span class="number">5</span>] || a[<span class="number">6</span>] != b[<span class="number">6</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        b[i] = (a[i] - a[<span class="number">0</span>] * i + ARY * i) % ARY;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &gt; <span class="number">0</span>; --i) &#123;</span><br><span class="line">        res += b[i];</span><br><span class="line">        res *= ARY;</span><br><span class="line">    &#125;</span><br><span class="line">    res = ((res + b[<span class="number">0</span>]) - SALT) / PRIME1;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码 18~22 行就是在作校验。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>不同的业务有不同的需求，市面上通用的方案可能只能满足大部分共性的需求，但对于某些特定的需求，市面上找不到完善的解决方案，这时候就需要我们独立解决问题的能力。本科的时候觉得密码学没用，没想到在这用上了。越来越觉得世上没有无用的知识，多积累一些总是好的^_^</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">密码学</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/03/23/简单的密码学生成唯一邀请码/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-分布式缓存的一致性 Hash 算法" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/16/分布式缓存的一致性 Hash 算法/">分布式缓存的一致性 Hash 算法</a>
    </h1>
  

        
        <a href="/2018/03/16/分布式缓存的一致性 Hash 算法/" class="archive-article-date">
  	<time datetime="2018-03-16T03:58:32.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-03-16</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>分布式有利于提高网站的可用性、伸缩性和安全性。分布式缓存，顾名思义，就是将缓存服务器作分布式配置，提高集群性能和可伸缩性。然而对分布式缓存集群而言，不能像应用服务器一样使用简单的负载均衡手段来实现，因为分布式缓存服务器集群中不同服务器中缓存的数据各不相同，缓存访问请求不可以在缓存服务器集群中的任意一台处理，必须先找到缓存有需要数据的服务器，然后才能访问。这个特点会严重制约分布式缓存集群的伸缩性设计，因为新上线的缓存服务器没有缓存任何数据，而已下线的缓存服务器还缓存着网站的许多热点数据。</p>
<p>分布式缓存算法的主要设计目标，就是在保证负载均衡的同时，<strong>尽可能让新上线的缓存服务器对整个分布式缓存集群影响最小，也就是说新加入缓存服务器后应使整个缓存服务器集群中已经缓存的数据尽可能还被访问到，同时新增服务器对原有服务器的影响要尽可能均衡。</strong></p>
<h2 id="余数-hash-算法"><a href="#余数-hash-算法" class="headerlink" title="余数 hash 算法"></a>余数 hash 算法</h2><p>分布式缓存的算法要保证对于一个确定数据，它所在的服务器也必须是确定的。比如对于键值对 &lt;’BEIJING’,DATA&gt;，每一次查找 ‘BEIJING’ 这个关键词，系统总是访问相同的服务器去读取数据。这样，只要服务器还缓存着该数据，就能保证命中。</p>
<p>余数 hash 是一个不错的办法:用服务器数目除缓存数据 KEY 的 hash 值，余数为服务器列表下标编号。假设我们有三台服务器，要存键值对 &lt;’BEIJING’,DATA&gt; 到缓存。则先计算 ‘BEIJING’的 hash 值是 490806430（Java 中的 HashCode() 返回值），用服务器数目 3 除该值，得到余数 1，将其保存到 NODE1 上，以后想要读取数据 ‘BEIJING’ 的时候，只要服务器数量不变，一定会定位 NODE1 上。同时，由于 HashCode 具有随机性，使用余数 hash 算法可保证缓存数据在整个缓存服务器集群中比较均匀地分布。</p>
<p>对余数 Hash 算法稍加改进，还能满足对不同硬件性能的服务器集群作负载均衡的需求。比如 3 台服务器中，第 2 台服务器的性能是另外 2 台的 2 倍，这时我们可以调整算法，把除数设置为 4，当余数为 1、2 的时候，将数据存入 NODE2，实现加权负载均衡。</p>
<p>事实上，如果不需要考虑缓存服务器集群伸缩性，余数 hash 几乎可以满足绝大多数的缓存路由需求。</p>
<h3 id="余数-hash-算法的不足"><a href="#余数-hash-算法的不足" class="headerlink" title="余数 hash 算法的不足"></a>余数 hash 算法的不足</h3><p>然而，当考虑到缓存服务器集群伸缩性的时候，余数 hash 算法的不足就暴露出来了。假设由于业务发展，网站需要将 3 台缓存服务器扩容至 4 台。这时用户再次访问 ‘BEIJING’ 这个数据的时候，除数变成了 4，用 4 除‘BEIJING’的 Hash 值 490806430，余数为 2，对应 NODE2。由于数据 &lt;’BEIJING’,DATA&gt; 缓存在 NODE1，对 NODE2 的读缓存操作失败，缓存没有命中。</p>
<p>很容易就可以计算出，3 台服务器扩容至 4 台的时候，大约只能命中 25%的缓存（3/4），随着服务器集群规模的增大，这个比例线性上升。当 100 台服务器的集群加入一台新服务器，不能命中的概率是 99%（N/(N+1)）。</p>
<p>这个结果显然是无法接受的，因此我们需要改进这种算法，提高增加新机器后的缓存命中率。</p>
<h2 id="一致性-hash-算法"><a href="#一致性-hash-算法" class="headerlink" title="一致性 hash 算法"></a>一致性 hash 算法</h2><p>一致性 hash 算法通过一个叫作一致性 hash 环的数据结构提高了新增机器后的缓存命中率，如下图：</p>
<p><img src="/2018/03/16/分布式缓存的一致性 Hash 算法/一致性 hash 环.png"></p>
<p>具体算法过程为：先构造一个长度为 2^32 的整数环（这个环被称作一致性 hash 环），根据节点名称的 hash 值（其分布范围为[0,2^32-1]）将缓存服务器节点放置在这个 hash 环上。然后根据需要缓存的数据的 KEY 值计算得到其 hash 值（其分布范围也同样为[0,2^32-1]），然后在 hash 环上顺时针查找距离这个 KEY 的 hash 值最近的缓存服务器节点，完成 KEY 到服务器的 hash 映射查找。</p>
<p>在上图中，假设 NODE1 的 hash 值为 3594963423，NODE2 的 hash 值为 1845328979，而 KEY0 的 hash 值为 2534256785，那么 KEY0 在环上顺时针查找，找到的最近的节点就是 NODE1。</p>
<p>当缓存服务器集群需要扩容的时候，只需要将新加入的节点名称（NODE3）的 hash 值放入一致性 hash 环中，由于 KEY 是顺时针查找距离其最近的节点，因此新加入的节点只影响整个环中的一小段，如下图中加粗的一段：</p>
<p><img src="/2018/03/16/分布式缓存的一致性 Hash 算法/一致性 hash 环添加节点.png"></p>
<p>假设 NODE3 的 hash 值是 2790324235，那么加入 NODE3 后，KEY0（hash 值 2534256785）顺时针查找得到的节点就是 NODE3。</p>
<p>如上图所示，加入新节点 NODE3 后，原来的 KEY 大部分还能继续计算到原来的节点，只有 KEY3、KEY0 从原来的 NODE1 重新计算到 NODE3。这样就能保证大部分被缓存的数据还可以继续命中。3 台服务器扩容至 4 台，命中率可以达到 75%，远高于余数 hash 的 25%，而且随着集群规模增大，继续命中原有缓存数据的概率也逐渐增大，100 台服务器扩容增加 1 台，继续命中的概率是 99%。虽然仍有小部分数据缓存在服务器中不能被读到，但这个比例在可接受范围之内。</p>
<h3 id="一致性-hash-算法的不足"><a href="#一致性-hash-算法的不足" class="headerlink" title="一致性 hash 算法的不足"></a>一致性 hash 算法的不足</h3><p>虽然上述的算法使缓存服务器集群在增加新服务器后的命中率有了大幅提高，但还存在一个小小的问题。</p>
<p>新加入的节点 NODE3 只影响了原来的节点 NODE1，也就是说一部分原来需要访问 NODE1 的缓存数据现在需要访问 NODE3（概率上是 50%）。但是原来的节点 NODE0 和 NODE2 不受影响，这也就意味着，新引入的 NODE3 这个节点只减轻了 NODE1 的压力，假设原先三个节点的压力是一样大的，那么在引入 NODE3 这个节点后，NODE0 和 NODE2 的缓存数据量和负载压力是 NODE1 与 NODE3 的两倍。这个是有违我们负载均衡的初衷的。</p>
<p>怎么办？</p>
<p>改！</p>
<h3 id="改进后的一致性-hash-算法"><a href="#改进后的一致性-hash-算法" class="headerlink" title="改进后的一致性 hash 算法"></a>改进后的一致性 hash 算法</h3><p>我们可以通过<strong>增加一层虚拟层</strong>的方式解决这个问题：将每台物理缓存服务器虚拟为一组虚拟缓存服务器，将虚拟缓存服务器的 hash 值放置在 hash 环上，KEY 在环上先找到虚拟服务器节点，再得到物理服务器的信息。</p>
<p>这样新加入物理服务器节点时，是将一组虚拟节点加入环中，如果虚拟节点的数目足够多，这组虚拟节点将会影响同样多数目的已经在环上存在的虚拟节点，这些已经存在的虚拟节点又对应不同的物理节点。最终的结果是：新加入一台缓存服务器，将会较为均匀地影响原来集群中已经存在的所有服务器，也就是说分摊原有缓存服务器集群中所有服务器的一小部分负载，其总的影响范围和上面讨论过的相同。如下图所示：</p>
<p><img src="/2018/03/16/分布式缓存的一致性 Hash 算法/使用虚拟节点的一致性 hash 环.png"></p>
<p>显然每个物理节点对应的虚拟节点越多，各个物理节点之间的负载越均衡，新加入物理服务器对原有的物理服务器的影响越保持一致（这就是一致性 hash 这个名称的由来）。那么在实践中，一台物理服务器虚拟为多少个虚拟服务器节点合适呢？太多会影响性能，太少又会导致负载不均衡，一般说来，经验值是 150，当然根据集群规模和负载均衡的精度需求，这个值应该根据具体情况具体对待。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color5">读书笔记</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/03/16/分布式缓存的一致性 Hash 算法/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-MySQL 索引原理" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/13/MySQL 索引原理/">MySQL 索引原理</a>
    </h1>
  

        
        <a href="/2018/03/13/MySQL 索引原理/" class="archive-article-date">
  	<time datetime="2018-03-13T02:48:28.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-03-13</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>数据库索引是面试中的常考项，也是日常开发中提高程序可用性的实用技巧。我在<a href="https://tech.meituan.com/" target="_blank" rel="noopener">美团技术点评团队 </a> 中找到了这篇文章<a href="https://tech.meituan.com/mysql-index.html" target="_blank" rel="noopener">《MySQL 索引原理及慢查询优化》</a>，摘录了其中专讲索引原理的部分，以供随时复习。</p>
<h2 id="索引目的"><a href="#索引目的" class="headerlink" title="索引目的"></a>索引目的</h2><p>索引的目的在于提高查询效率，可以类比字典，如果要查“mysql”这个单词，我们肯定需要定位到 m 字母，然后从下往下找到 y 字母，再找到剩下的 sql。如果没有索引，那么你可能需要把所有单词看一遍才能找到你想要的，如果我想找到 m 开头的单词呢？或者 ze 开头的单词呢？是不是觉得如果没有索引，这个事情根本无法完成？</p>
<h2 id="索引原理"><a href="#索引原理" class="headerlink" title="索引原理"></a>索引原理</h2><p>除了词典，生活中随处可见索引的例子，如火车站的车次表、图书的目录等。它们的原理都是一样的，通过不断的缩小想要获得数据的范围来筛选出最终想要的结果，同时把随机的事件变成顺序的事件，也就是我们总是通过同一种查找方式来锁定数据。<br>数据库也是一样，但显然要复杂许多，因为不仅面临着等值查询，还有范围查询 (&gt;、&lt;、between、in)、模糊查询 (like)、并集查询 (or) 等等。数据库应该选择怎么样的方式来应对所有的问题呢？我们回想字典的例子，能不能把数据分成段，然后分段查询呢？最简单的如果 1000 条数据，1 到 100 分成第一段，101 到 200 分成第二段，201 到 300 分成第三段……这样查第 250 条数据，只要找第三段就可以了，一下子去除了 90%的无效数据。但如果是 1 千万的记录呢，分成几段比较好？稍有算法基础的同学会想到搜索树，其平均复杂度是 lgN，具有不错的查询性能。但这里我们忽略了一个关键的问题，复杂度模型是基于每次相同的操作成本来考虑的，数据库实现比较复杂，数据保存在磁盘上，而为了提高性能，每次又可以把部分数据读入内存来计算，因为我们知道访问磁盘的成本大概是访问内存的十万倍左右，所以简单的搜索树难以满足复杂的应用场景。</p>
<h3 id="磁盘-IO-与预读"><a href="#磁盘-IO-与预读" class="headerlink" title="磁盘 IO 与预读"></a>磁盘 IO 与预读</h3><p>前面提到了访问磁盘，那么这里先简单介绍一下磁盘 IO 和预读，磁盘读取数据靠的是机械运动，每次读取数据花费的时间可以分为寻道时间、旋转延迟、传输时间三个部分，寻道时间指的是磁臂移动到指定磁道所需要的时间，主流磁盘一般在 5ms 以下；旋转延迟就是我们经常听说的磁盘转速，比如一个磁盘 7200 转，表示每分钟能转 7200 次，也就是说 1 秒钟能转 120 次，旋转延迟就是 1/120/2 = 4.17ms；传输时间指的是从磁盘读出或将数据写入磁盘的时间，一般在零点几毫秒，相对于前两个时间可以忽略不计。那么访问一次磁盘的时间，即一次磁盘 IO 的时间约等于 5+4.17 = 9ms 左右，听起来还挺不错的，但要知道一台 500 -MIPS 的机器每秒可以执行 5 亿条指令，因为指令依靠的是电的性质，换句话说执行一次 IO 的时间可以执行 40 万条指令，数据库动辄十万百万乃至千万级数据，每次 9 毫秒的时间，显然是个灾难。下图是计算机硬件延迟的对比图，供大家参考：<br><!--more--><br><img src="/2018/03/13/MySQL 索引原理/various-system-software-hardware-latencies.png"><br>考虑到磁盘 IO 是非常高昂的操作，计算机操作系统做了一些优化，当一次 IO 时，不光把当前磁盘地址的数据，而是把相邻的数据也都读取到内存缓冲区内，因为局部预读性原理告诉我们，当计算机访问一个地址的数据的时候，与其相邻的数据也会很快被访问到。每一次 IO 读取的数据我们称之为一页 (page)。具体一页有多大数据跟操作系统有关，一般为 4k 或 8k，也就是我们读取一页内的数据时候，实际上才发生了一次 IO，这个理论对于索引的数据结构设计非常有帮助。</p>
<h3 id="索引的数据结构"><a href="#索引的数据结构" class="headerlink" title="索引的数据结构"></a>索引的数据结构</h3><p>前面讲了生活中索引的例子，索引的基本原理，数据库的复杂性，又讲了操作系统的相关知识，目的就是让大家了解，任何一种数据结构都不是凭空产生的，一定会有它的背景和使用场景，我们现在总结一下，我们需要这种数据结构能够做些什么，其实很简单，那就是：每次查找数据时把磁盘 IO 次数控制在一个很小的数量级，最好是常数数量级。那么我们就想到如果一个高度可控的多路搜索树是否能满足需求呢？就这样，b+树应运而生。</p>
<h3 id="详解-b-树"><a href="#详解-b-树" class="headerlink" title="详解 b+树"></a>详解 b+树</h3><p><img src="/2018/03/13/MySQL 索引原理/btree.jpg"><br>如上图，是一颗 b+树，关于 b+树的定义可以参见 B+树，这里只说一些重点，浅蓝色的块我们称之为一个磁盘块，可以看到每个磁盘块包含几个数据项（深蓝色所示）和指针（黄色所示），如磁盘块 1 包含数据项 17 和 35，包含指针 P1、P2、P3，P1 表示小于 17 的磁盘块，P2 表示在 17 和 35 之间的磁盘块，P3 表示大于 35 的磁盘块。真实的数据存在于叶子节点即 3、5、9、10、13、15、28、29、36、60、75、79、90、99。非叶子节点只不存储真实的数据，只存储指引搜索方向的数据项，如 17、35 并不真实存在于数据表中。</p>
<h3 id="b-树的查找过程"><a href="#b-树的查找过程" class="headerlink" title="b+树的查找过程"></a>b+树的查找过程</h3><p>如图所示，如果要查找数据项 29，那么首先会把磁盘块 1 由磁盘加载到内存，此时发生一次 IO，在内存中用二分查找确定 29 在 17 和 35 之间，锁定磁盘块 1 的 P2 指针，内存时间因为非常短（相比磁盘的 IO）可以忽略不计，通过磁盘块 1 的 P2 指针的磁盘地址把磁盘块 3 由磁盘加载到内存，发生第二次 IO，29 在 26 和 30 之间，锁定磁盘块 3 的 P2 指针，通过指针加载磁盘块 8 到内存，发生第三次 IO，同时内存中做二分查找找到 29，结束查询，总计三次 IO。真实的情况是，3 层的 b+树可以表示上百万的数据，如果上百万的数据查找只需要三次 IO，性能提高将是巨大的，如果没有索引，每个数据项都要发生一次 IO，那么总共需要百万次的 IO，显然成本非常非常高。</p>
<h3 id="b-树性质"><a href="#b-树性质" class="headerlink" title="b+树性质"></a>b+树性质</h3><p>1.通过上面的分析，我们知道 IO 次数取决于 b+数的高度 h，假设当前数据表的数据为 N，每个磁盘块的数据项的数量是 m，则有 h=㏒(m+1)N，当数据量 N 一定的情况下，m 越大，h 越小；而 m = 磁盘块的大小 / 数据项的大小，磁盘块的大小也就是一个数据页的大小，是固定的，如果数据项占的空间越小，数据项的数量越多，树的高度越低。这就是为什么每个数据项，即索引字段要尽量的小，比如 int 占 4 字节，要比 bigint8 字节少一半。这也是为什么 b+树要求把真实的数据放到叶子节点而不是内层节点，一旦放到内层节点，磁盘块的数据项会大幅度下降，导致树增高。当数据项等于 1 时将会退化成线性表。<br>2.当 b+树的数据项是复合的数据结构，比如 (name,age,sex) 的时候，b+数是按照从左到右的顺序来建立搜索树的，比如当 (张三,20,F) 这样的数据来检索的时候，b+树会优先比较 name 来确定下一步的所搜方向，如果 name 相同再依次比较 age 和 sex，最后得到检索的数据；但当 (20,F) 这样的没有 name 的数据来的时候，b+树就不知道下一步该查哪个节点，因为建立搜索树的时候 name 就是第一个比较因子，必须要先根据 name 来搜索才能知道下一步去哪里查询。比如当 (张三,F) 这样的数据来检索时，b+树可以用 name 来指定搜索方向，但下一个字段 age 的缺失，所以只能把名字等于张三的数据都找到，然后再匹配性别是 F 的数据了， 这个是非常重要的性质，即<strong>索引的最左匹配特性</strong>。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">MySQL</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">收藏</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/03/13/MySQL 索引原理/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-MySQL 作图建库" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/03/MySQL 作图建库/">MySQL 作图建库</a>
    </h1>
  

        
        <a href="/2018/02/03/MySQL 作图建库/" class="archive-article-date">
  	<time datetime="2018-02-03T03:59:36.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-02-03</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>workbench 是 MySQL 自带的数据库可视化工具，相比另一款常用的数据库可视化工具 Navicat 最大的优势就是它是免费的。两者的操作逻辑没有太大区别，不过 workbench 英文的界面对初学者不是太友好。我花了一点时间学习了如何作图，希望能为以后节省时间。</p>
<p>E-R 图是描述数据库关系最常用的方式。优点是直观、详尽。workbench 当然也提供了这种图表的绘制方式，不过在里面叫 EER 图。经过我的一番考证，这个 EER 图就是我们常说的 E-R 图。</p>
<h2 id="一、已有数据库，自动生成-EER-图："><a href="#一、已有数据库，自动生成-EER-图：" class="headerlink" title="一、已有数据库，自动生成 EER 图："></a>一、已有数据库，自动生成 EER 图：</h2><p>①、首先在 mysql workbench 里选中 Database——&gt; reverse engineering</p>
<p>②、然后选择你建立的连接（也就是数据库）</p>
<p>③、接下来一路 next，直到最后选择导出的数据库</p>
<p>④、自动生成的 E-R 图大概长相如图：</p>
<p><img src="/2018/02/03/MySQL 作图建库/ER 图 1.png"></p>
<h2 id="二、先画-EER-图，然后自动生成数据库："><a href="#二、先画-EER-图，然后自动生成数据库：" class="headerlink" title="二、先画 EER 图，然后自动生成数据库："></a>二、先画 EER 图，然后自动生成数据库：</h2><p>①、启动软件过后，注意不需要连接数据库（我第一次就是直接连接数据库了所以找不到设计 ER 模型的地方）</p>
<p>②、点击”+” ,进入模型设计界面</p>
<p><img src="/2018/02/03/MySQL 作图建库/作图第一步.png"></p>
<p>③、双击 Add Diagram 进入如下设计界面</p>
<p>④、点击工具栏表格，并在设计区域点击，就会出现一个 table1 并双击它</p>
<p>⑤、最后 执行 “File”-&gt;”Export” 按钮，选择 Forward Engineer SQL CREATE Script (ctrl+shift+G). 这样就可以把模型导出为 SQL 脚本文件。现在执行这个 SQL 文件就 OK 了</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">MySQL</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/02/03/MySQL 作图建库/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-Java 中的异常" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/29/Java 中的异常/">Java 中的异常</a>
    </h1>
  

        
        <a href="/2017/12/29/Java 中的异常/" class="archive-article-date">
  	<time datetime="2017-12-29T11:43:59.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-12-29</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>
<p>异常是 Java 中非常基础但重要的一块内容，异常的概念理解起来简单，但系统讲起来却并不容易。专门抽了一个下午将它整理出来，以备所需。</p>
<h2 id="一、异常的分类"><a href="#一、异常的分类" class="headerlink" title="一、异常的分类"></a>一、异常的分类</h2><p>Java 中的异常是指程序在编译或者运行中遇到的问题。</p>
<p>Java 中的异常都继承自 Throwable 类。Throwable 是 java 语言中所有错误和异常的超类，它表示可抛（万物皆可抛）。它有两个子类：Error 和 Exception。</p>
<ul>
<li>Error：Error 为错误，是程序无法处理的。如 OutOfMemoryError、ThreadDeath 等，出现这种情况只能听之任之，交由 JVM 处理。一般情况下 JVM 也没法子，只好终止线程。</li>
<li>Exception：Exception 是程序可以处理的异常。它有很多子类，比如 IOException,RuntimeException,SQLException 等等。其中 RuntimeException 比较特殊，它表示程序运行中        发生的异常，在编译时可以不接受检查。而其它异常编译时就要接受检查，对于抛出异常的部分，要么 throw 给子类，要么用 try…catch 处理。</li>
</ul>
<p>常见异常继承关系：</p>
<p><img src="/2017/12/29/Java 中的异常/常见异常继承关系.png" width="70%" length="70%"></p>
<h2 id="二、常见的异常"><a href="#二、常见的异常" class="headerlink" title="二、常见的异常"></a>二、常见的异常</h2><p>记住常见的异常可以让我们更高效地调试程序代码，有助于提高开发效率。</p>
<h3 id="runtimeException-子类"><a href="#runtimeException-子类" class="headerlink" title="runtimeException 子类"></a>runtimeException 子类</h3><ul>
<li>ArrayIndexOutOfBoundsException：数组索引越界异常。当对数组的索引值为负数或大于等于数组大小时抛出</li>
<li>ArithmeticException：算术条件异常。譬如：整数除零等</li>
<li>NullPointerException：空指针异常。当应用试图在要求使用对象的地方使用了 null 时，抛出该异常。譬如：调用 null 对象的实例方法、访问  null 对象的属性、计算 null 对象的长度、使用 throw 语句抛出 null 等等</li>
<li>ClassNotFoundException：找不到类异常。当应用试图根据字符串形式的类名构造类，而在遍历 CLASSPAH 之后找不到对应名称的 class 文件时，抛出该异常</li>
<li>NegativeArraySizeException：数组长度为负异常</li>
</ul>
<h3 id="IOException-子类"><a href="#IOException-子类" class="headerlink" title="IOException 子类"></a>IOException 子类</h3><ul>
<li>IOException：操作输入流和输出流时可能出现的异常</li>
<li>EOFException：文件已结束异常</li>
<li>FileNotFoundException：文件未找到异常</li>
</ul>
<h3 id="其它-Exception-子类"><a href="#其它-Exception-子类" class="headerlink" title="其它 Exception 子类"></a>其它 Exception 子类</h3><ul>
<li>ClassCastException：类型转换异常类</li>
<li>ArrayStoreException：数组中包含不兼容的值抛出的异常</li>
<li>SQLException：操作数据库异常类</li>
</ul>
<h2 id="三、异常处理的机制"><a href="#三、异常处理的机制" class="headerlink" title="三、异常处理的机制"></a>三、异常处理的机制</h2><p>Java 中异常抛出后有两种处理方式：try…catch…finally 机制和 throws 继续抛出机制。</p>
<h3 id="try…catch…finally-机制"><a href="#try…catch…finally-机制" class="headerlink" title="try…catch…finally 机制"></a>try…catch…finally 机制</h3><p>try…catch…finally 是 java 中的关键字，使用方式如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">     抛出异常的代码</span><br><span class="line">&#125;<span class="keyword">catch</span>(异常类)&#123;</span><br><span class="line">     处理语句</span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">     处理完后执行语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在使用 try…catch…finally 时，若 try 中某一语句抛出了异常，则 try 后面的代码会被屏蔽，直接进行 catch 中的语句。catch 中语句执行到 return(返回语句) 时，会先看看有没有 finally 块，若有，则优先执行 finally 块中语句。<em>如果 catch 块和 finally 块都有 return 语句，则执行 finally 块中的。</em></p>
<p>抛出异常的代码可能抛出多种异常，处理异常的 catch 也可以有多个 catch，分别处理不同的异常。在执行时，会依次查找 catch 语句，直到找到第一个能 catch 某异常的代码块。</p>
<h3 id="throw-和-throws-机制"><a href="#throw-和-throws-机制" class="headerlink" title="throw 和 throws 机制"></a>throw 和 throws 机制</h3><p>throws 用在方法声明中，表示这个方法将会抛出某一异常。使用该方法的时候必须对该异常进行处理（try…catch 或 throw）throw 用在语句中，表示抛出一个异常。抛出异常后方法会出栈，方法中后面的代码将不会执行。</p>
<h2 id="四、注意事项"><a href="#四、注意事项" class="headerlink" title="四、注意事项"></a>四、注意事项</h2><ul>
<li>throws 只是再次抛出了某个异常，并没有真正处理异常。在使用中，需要有代码去真正处理抛出的异常</li>
<li>如果子类重写了父类的方法，则子类能够抛出的异常只能是父类的子集（父类所有异常类及它们的子类集合）</li>
<li>对于 runtimeException 异常及其子类，程序可以选择显式处理也可以不处理，交给程序调用者去处理；对于其它 exception（编译时异常），程序必须要显式处理（try…catch）或抛出（throws），交给调用者处理</li>
</ul>
<h2 id="五、异常处理规约"><a href="#五、异常处理规约" class="headerlink" title="五、异常处理规约"></a>五、异常处理规约</h2><p>摘自阿里 JAVA 开发手册，个人觉得有助于良好的代码风格形成。</p>
<p>1.【强制】不要捕获 Java 类库中定义的继承自 RuntimeException 的运行时异常类，如：IndexOutOfBoundsException/NullPointerException，这类异常由程序员预检查来规避，保证程序健壮性。<br>正例：if(obj != null) {…}<br>反例：try { obj.method() } catch(NullPointerException e){…}</p>
<p>2.【强制】异常不要用来做流程控制，条件控制，因为异常的处理效率比条件分支低。</p>
<p>3.【强制】对大段代码进行 try-catch，这是不负责任的表现。catch 时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。对于非稳定代码的 catch 尽可能进行区分异常类型，再做对应的异常处理。</p>
<p>4.【强制】捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理解的内容。</p>
<p>5.【强制】有 try 块放到了事务代码中，catch 异常后，如果需要回滚事务，一定要注意手动回滚事务。</p>
<p>6.【强制】finally 块必须对资源对象、流对象进行关闭，有异常也要做 try-catch。<br>说明：如果 JDK7，可以使用 try-with-resources 方式。</p>
<p>7.【强制】不能在 finally 块中使用 return，finally 块中的 return 返回后方法结束执行，不会再执行 try 块中的 return 语句。</p>
<p>8.【强制】捕获异常与抛异常，必须是完全匹配，或者捕获异常是抛异常的父类。<br>说明：如果预期对方抛的是绣球，实际接到的是铅球，就会产生意外情况。</p>
<p>9.【推荐】方法的返回值可以为 null，不强制返回空集合，或者空对象等，必须添加注释充分说明什么情况下会返回 null 值。调用方需要进行 null 判断防止 NPE 问题。<br>说明：本规约明确防止 NPE 是调用者的责任。即使被调用方法返回空集合或者空对象，对调用者来说，也并非高枕无忧，必须考虑到远程调用失败，运行时异常等场景返回 null 的情况。</p>
<p>10.【推荐】防止 NPE，是程序员的基本修养，注意 NPE 产生的场景：<br>1） 返回类型为包装数据类型，有可能是 null，返回 int 值时注意判空。<br>反例：public int f(){ return Integer 对象}; 如果为 null，自动解箱抛 NPE。<br>2） 数据库的查询结果可能为 null。<br>3） 集合里的元素即使 isNotEmpty，取出的数据元素也可能为 null。<br>4） 远程调用返回对象，一律要求进行 NPE 判断。<br>5） 对于 Session 中获取的数据，建议 NPE 检查，避免空指针。<br>6） 级联调用 obj.getA().getB().getC()；一连串调用，易产生 NPE。</p>
<p>11.【推荐】在代码中使用“抛异常”还是“返回错误码”，对于公司外的 http/api 开放接口必须使用“错误码”；而应用内部推荐异常抛出；跨应用间 RPC 调用优先考虑使用 Result 方式，封装 isSuccess、“错误码”、“错误简短信息”。<br>说明：关于 RPC 方法返回方式使用 Result 方式的理由：<br>1）使用抛异常返回方式，调用方如果没有捕获到就会产生运行时错误。<br>2）如果不加栈信息，只是 new 自定义异常，加入自己的理解的 error message，对于调用端解决问题的帮助不会太多。如果加了栈信息，在频繁调用出错的情况下，数据序列化和传输的性能损耗也是问题。</p>
<p>12.【推荐】定义时区分 unchecked/checked 异常，避免直接使用 RuntimeException 抛出，更不允许抛出 Exception 或者 Throwable，应使用有业务含义的自定义异常。推荐业界已定义过的自定义异常，如：DAOException/ServiceException 等。</p>
<p>13.【参考】避免出现重复的代码（Don’t Repeat Yourself），即 DRY 原则。<br>说明：随意复制和粘贴代码，必然会导致代码的重复，在以后需要修改时，需要修改所有的副本，容易遗漏。必要时抽取共性方法，或者抽象公共类，甚至是共用模块。<br>正例：一个类中有多个 public 方法，都需要进行数行相同的参数校验操作，这个时候请抽取：private boolean checkParam(DTO dto){…}</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color5">Java</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/12/29/Java 中的异常/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
    </nav>
  


          </div>
        </div>
      </div>
      <script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-right">
    		<!-- &copy; 2019 huzb -->
		<span id="busuanzi_container_site_pv">本站总访问量		<span id="busuanzi_value_site_pv"></span>次</span>
    	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		toc_hide_index: true,
		root: "/",
		innerArchive: true,
		showTags: true
	}
</script>
<script>!function (t) {
    function n(e) {
      if (r[e]) return r[e].exports;
      var i = r[e] = {exports: {}, id: e, loaded: !1};
      return t[e].call(i.exports, i, i.exports, n), i.loaded = !0, i.exports
    }

    var r = {};
    n.m = t, n.c = r, n.p = "./", n(0)
  }([function (t, n, r) {
    r(195), t.exports = r(191)
  }, function (t, n, r) {
    var e = r(3), i = r(52), o = r(27), u = r(28), c = r(53), f = "prototype", a = function (t, n, r) {
      var s, l, h, v, p = t & a.F, d = t & a.G, y = t & a.S, g = t & a.P, b = t & a.B,
        m = d ? e : y ? e[n] || (e[n] = {}) : (e[n] || {})[f], x = d ? i : i[n] || (i[n] = {}), w = x[f] || (x[f] = {});
      d && (r = n);
      for (s in r) l = !p && m && void 0 !== m[s], h = (l ? m : r)[s], v = b && l ? c(h, e) : g && "function" == typeof h ? c(Function.call, h) : h, m && u(m, s, h, t & a.U), x[s] != h && o(x, s, v), g && w[s] != h && (w[s] = h)
    };
    e.core = i, a.F = 1, a.G = 2, a.S = 4, a.P = 8, a.B = 16, a.W = 32, a.U = 64, a.R = 128, t.exports = a
  }, function (t, n, r) {
    var e = r(6);
    t.exports = function (t) {
      if (!e(t)) throw TypeError(t + " is not an object!");
      return t
    }
  }, function (t, n) {
    var r = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = r)
  }, function (t, n) {
    t.exports = function (t) {
      try {
        return !!t()
      } catch (t) {
        return !0
      }
    }
  }, function (t, n) {
    var r = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = r)
  }, function (t, n) {
    t.exports = function (t) {
      return "object" == typeof t ? null !== t : "function" == typeof t
    }
  }, function (t, n, r) {
    var e = r(126)("wks"), i = r(76), o = r(3).Symbol, u = "function" == typeof o;
    (t.exports = function (t) {
      return e[t] || (e[t] = u && o[t] || (u ? o : i)("Symbol." + t))
    }).store = e
  }, function (t, n) {
    var r = {}.hasOwnProperty;
    t.exports = function (t, n) {
      return r.call(t, n)
    }
  }, function (t, n, r) {
    var e = r(94), i = r(33);
    t.exports = function (t) {
      return e(i(t))
    }
  }, function (t, n, r) {
    t.exports = !r(4)(function () {
      return 7 != Object.defineProperty({}, "a", {
        get: function () {
          return 7
        }
      }).a
    })
  }, function (t, n, r) {
    var e = r(2), i = r(167), o = r(50), u = Object.defineProperty;
    n.f = r(10) ? Object.defineProperty : function (t, n, r) {
      if (e(t), n = o(n, !0), e(r), i) try {
        return u(t, n, r)
      } catch (t) {
      }
      if ("get" in r || "set" in r) throw TypeError("Accessors not supported!");
      return "value" in r && (t[n] = r.value), t
    }
  }, function (t, n, r) {
    t.exports = !r(18)(function () {
      return 7 != Object.defineProperty({}, "a", {
        get: function () {
          return 7
        }
      }).a
    })
  }, function (t, n, r) {
    var e = r(14), i = r(22);
    t.exports = r(12) ? function (t, n, r) {
      return e.f(t, n, i(1, r))
    } : function (t, n, r) {
      return t[n] = r, t
    }
  }, function (t, n, r) {
    var e = r(20), i = r(58), o = r(42), u = Object.defineProperty;
    n.f = r(12) ? Object.defineProperty : function (t, n, r) {
      if (e(t), n = o(n, !0), e(r), i) try {
        return u(t, n, r)
      } catch (t) {
      }
      if ("get" in r || "set" in r) throw TypeError("Accessors not supported!");
      return "value" in r && (t[n] = r.value), t
    }
  }, function (t, n, r) {
    var e = r(40)("wks"), i = r(23), o = r(5).Symbol, u = "function" == typeof o;
    (t.exports = function (t) {
      return e[t] || (e[t] = u && o[t] || (u ? o : i)("Symbol." + t))
    }).store = e
  }, function (t, n, r) {
    var e = r(67), i = Math.min;
    t.exports = function (t) {
      return t > 0 ? i(e(t), 9007199254740991) : 0
    }
  }, function (t, n, r) {
    var e = r(46);
    t.exports = function (t) {
      return Object(e(t))
    }
  }, function (t, n) {
    t.exports = function (t) {
      try {
        return !!t()
      } catch (t) {
        return !0
      }
    }
  }, function (t, n, r) {
    var e = r(63), i = r(34);
    t.exports = Object.keys || function (t) {
      return e(t, i)
    }
  }, function (t, n, r) {
    var e = r(21);
    t.exports = function (t) {
      if (!e(t)) throw TypeError(t + " is not an object!");
      return t
    }
  }, function (t, n) {
    t.exports = function (t) {
      return "object" == typeof t ? null !== t : "function" == typeof t
    }
  }, function (t, n) {
    t.exports = function (t, n) {
      return {enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: n}
    }
  }, function (t, n) {
    var r = 0, e = Math.random();
    t.exports = function (t) {
      return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++r + e).toString(36))
    }
  }, function (t, n) {
    var r = {}.hasOwnProperty;
    t.exports = function (t, n) {
      return r.call(t, n)
    }
  }, function (t, n) {
    var r = t.exports = {version: "2.4.0"};
    "number" == typeof __e && (__e = r)
  }, function (t, n) {
    t.exports = function (t) {
      if ("function" != typeof t) throw TypeError(t + " is not a function!");
      return t
    }
  }, function (t, n, r) {
    var e = r(11), i = r(66);
    t.exports = r(10) ? function (t, n, r) {
      return e.f(t, n, i(1, r))
    } : function (t, n, r) {
      return t[n] = r, t
    }
  }, function (t, n, r) {
    var e = r(3), i = r(27), o = r(24), u = r(76)("src"), c = "toString", f = Function[c], a = ("" + f).split(c);
    r(52).inspectSource = function (t) {
      return f.call(t)
    }, (t.exports = function (t, n, r, c) {
      var f = "function" == typeof r;
      f && (o(r, "name") || i(r, "name", n)), t[n] !== r && (f && (o(r, u) || i(r, u, t[n] ? "" + t[n] : a.join(String(n)))), t === e ? t[n] = r : c ? t[n] ? t[n] = r : i(t, n, r) : (delete t[n], i(t, n, r)))
    })(Function.prototype, c, function () {
      return "function" == typeof this && this[u] || f.call(this)
    })
  }, function (t, n, r) {
    var e = r(1), i = r(4), o = r(46), u = function (t, n, r, e) {
      var i = String(o(t)), u = "<" + n;
      return "" !== r && (u += " " + r + '="' + String(e).replace(/"/g, "&quot;") + '"'), u + ">" + i + "</" + n + ">"
    };
    t.exports = function (t, n) {
      var r = {};
      r[t] = n(u), e(e.P + e.F * i(function () {
        var n = ""[t]('"');
        return n !== n.toLowerCase() || n.split('"').length > 3
      }), "String", r)
    }
  }, function (t, n, r) {
    var e = r(115), i = r(46);
    t.exports = function (t) {
      return e(i(t))
    }
  }, function (t, n, r) {
    var e = r(116), i = r(66), o = r(30), u = r(50), c = r(24), f = r(167), a = Object.getOwnPropertyDescriptor;
    n.f = r(10) ? a : function (t, n) {
      if (t = o(t), n = u(n, !0), f) try {
        return a(t, n)
      } catch (t) {
      }
      if (c(t, n)) return i(!e.f.call(t, n), t[n])
    }
  }, function (t, n, r) {
    var e = r(24), i = r(17), o = r(145)("IE_PROTO"), u = Object.prototype;
    t.exports = Object.getPrototypeOf || function (t) {
      return t = i(t), e(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? u : null
    }
  }, function (t, n) {
    t.exports = function (t) {
      if (void 0 == t) throw TypeError("Can't call method on  " + t);
      return t
    }
  }, function (t, n) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
  }, function (t, n) {
    t.exports = {}
  }, function (t, n) {
    t.exports = !0
  }, function (t, n) {
    n.f = {}.propertyIsEnumerable
  }, function (t, n, r) {
    var e = r(14).f, i = r(8), o = r(15)("toStringTag");
    t.exports = function (t, n, r) {
      t && !i(t = r ? t : t.prototype, o) && e(t, o, {configurable: !0, value: n})
    }
  }, function (t, n, r) {
    var e = r(40)("keys"), i = r(23);
    t.exports = function (t) {
      return e[t] || (e[t] = i(t))
    }
  }, function (t, n, r) {
    var e = r(5), i = "__core-js_shared__", o = e[i] || (e[i] = {});
    t.exports = function (t) {
      return o[t] || (o[t] = {})
    }
  }, function (t, n) {
    var r = Math.ceil, e = Math.floor;
    t.exports = function (t) {
      return isNaN(t = +t) ? 0 : (t > 0 ? e : r)(t)
    }
  }, function (t, n, r) {
    var e = r(21);
    t.exports = function (t, n) {
      if (!e(t)) return t;
      var r, i;
      if (n && "function" == typeof(r = t.toString) && !e(i = r.call(t))) return i;
      if ("function" == typeof(r = t.valueOf) && !e(i = r.call(t))) return i;
      if (!n && "function" == typeof(r = t.toString) && !e(i = r.call(t))) return i;
      throw TypeError("Can't convert object to primitive value")
    }
  }, function (t, n, r) {
    var e = r(5), i = r(25), o = r(36), u = r(44), c = r(14).f;
    t.exports = function (t) {
      var n = i.Symbol || (i.Symbol = o ? {} : e.Symbol || {});
      "_" == t.charAt(0) || t in n || c(n, t, {value: u.f(t)})
    }
  }, function (t, n, r) {
    n.f = r(15)
  }, function (t, n) {
    var r = {}.toString;
    t.exports = function (t) {
      return r.call(t).slice(8, -1)
    }
  }, function (t, n) {
    t.exports = function (t) {
      if (void 0 == t) throw TypeError("Can't call method on  " + t);
      return t
    }
  }, function (t, n, r) {
    var e = r(4);
    t.exports = function (t, n) {
      return !!t && e(function () {
        n ? t.call(null, function () {
        }, 1) : t.call(null)
      })
    }
  }, function (t, n, r) {
    var e = r(53), i = r(115), o = r(17), u = r(16), c = r(203);
    t.exports = function (t, n) {
      var r = 1 == t, f = 2 == t, a = 3 == t, s = 4 == t, l = 6 == t, h = 5 == t || l, v = n || c;
      return function (n, c, p) {
        for (var d, y, g = o(n), b = i(g), m = e(c, p, 3), x = u(b.length), w = 0, S = r ? v(n, x) : f ? v(n, 0) : void 0; x > w; w++) if ((h || w in b) && (d = b[w], y = m(d, w, g), t)) if (r) S[w] = y; else if (y) switch (t) {
          case 3:
            return !0;
          case 5:
            return d;
          case 6:
            return w;
          case 2:
            S.push(d)
        } else if (s) return !1;
        return l ? -1 : a || s ? s : S
      }
    }
  }, function (t, n, r) {
    var e = r(1), i = r(52), o = r(4);
    t.exports = function (t, n) {
      var r = (i.Object || {})[t] || Object[t], u = {};
      u[t] = n(r), e(e.S + e.F * o(function () {
        r(1)
      }), "Object", u)
    }
  }, function (t, n, r) {
    var e = r(6);
    t.exports = function (t, n) {
      if (!e(t)) return t;
      var r, i;
      if (n && "function" == typeof(r = t.toString) && !e(i = r.call(t))) return i;
      if ("function" == typeof(r = t.valueOf) && !e(i = r.call(t))) return i;
      if (!n && "function" == typeof(r = t.toString) && !e(i = r.call(t))) return i;
      throw TypeError("Can't convert object to primitive value")
    }
  }, function (t, n, r) {
    var e = r(5), i = r(25), o = r(91), u = r(13), c = "prototype", f = function (t, n, r) {
      var a, s, l, h = t & f.F, v = t & f.G, p = t & f.S, d = t & f.P, y = t & f.B, g = t & f.W,
        b = v ? i : i[n] || (i[n] = {}), m = b[c], x = v ? e : p ? e[n] : (e[n] || {})[c];
      v && (r = n);
      for (a in r) (s = !h && x && void 0 !== x[a]) && a in b || (l = s ? x[a] : r[a], b[a] = v && "function" != typeof x[a] ? r[a] : y && s ? o(l, e) : g && x[a] == l ? function (t) {
        var n = function (n, r, e) {
          if (this instanceof t) {
            switch (arguments.length) {
              case 0:
                return new t;
              case 1:
                return new t(n);
              case 2:
                return new t(n, r)
            }
            return new t(n, r, e)
          }
          return t.apply(this, arguments)
        };
        return n[c] = t[c], n
      }(l) : d && "function" == typeof l ? o(Function.call, l) : l, d && ((b.virtual || (b.virtual = {}))[a] = l, t & f.R && m && !m[a] && u(m, a, l)))
    };
    f.F = 1, f.G = 2, f.S = 4, f.P = 8, f.B = 16, f.W = 32, f.U = 64, f.R = 128, t.exports = f
  }, function (t, n) {
    var r = t.exports = {version: "2.4.0"};
    "number" == typeof __e && (__e = r)
  }, function (t, n, r) {
    var e = r(26);
    t.exports = function (t, n, r) {
      if (e(t), void 0 === n) return t;
      switch (r) {
        case 1:
          return function (r) {
            return t.call(n, r)
          };
        case 2:
          return function (r, e) {
            return t.call(n, r, e)
          };
        case 3:
          return function (r, e, i) {
            return t.call(n, r, e, i)
          }
      }
      return function () {
        return t.apply(n, arguments)
      }
    }
  }, function (t, n, r) {
    var e = r(183), i = r(1), o = r(126)("metadata"), u = o.store || (o.store = new (r(186))), c = function (t, n, r) {
      var i = u.get(t);
      if (!i) {
        if (!r) return;
        u.set(t, i = new e)
      }
      var o = i.get(n);
      if (!o) {
        if (!r) return;
        i.set(n, o = new e)
      }
      return o
    }, f = function (t, n, r) {
      var e = c(n, r, !1);
      return void 0 !== e && e.has(t)
    }, a = function (t, n, r) {
      var e = c(n, r, !1);
      return void 0 === e ? void 0 : e.get(t)
    }, s = function (t, n, r, e) {
      c(r, e, !0).set(t, n)
    }, l = function (t, n) {
      var r = c(t, n, !1), e = [];
      return r && r.forEach(function (t, n) {
        e.push(n)
      }), e
    }, h = function (t) {
      return void 0 === t || "symbol" == typeof t ? t : String(t)
    }, v = function (t) {
      i(i.S, "Reflect", t)
    };
    t.exports = {store: u, map: c, has: f, get: a, set: s, keys: l, key: h, exp: v}
  }, function (t, n, r) {
    "use strict";
    if (r(10)) {
      var e = r(69), i = r(3), o = r(4), u = r(1), c = r(127), f = r(152), a = r(53), s = r(68), l = r(66), h = r(27),
        v = r(73), p = r(67), d = r(16), y = r(75), g = r(50), b = r(24), m = r(180), x = r(114), w = r(6), S = r(17),
        _ = r(137), O = r(70), E = r(32), P = r(71).f, j = r(154), F = r(76), M = r(7), A = r(48), N = r(117),
        T = r(146), I = r(155), k = r(80), L = r(123), R = r(74), C = r(130), D = r(160), U = r(11), W = r(31), G = U.f,
        B = W.f, V = i.RangeError, z = i.TypeError, q = i.Uint8Array, K = "ArrayBuffer", J = "Shared" + K,
        Y = "BYTES_PER_ELEMENT", H = "prototype", $ = Array[H], X = f.ArrayBuffer, Q = f.DataView, Z = A(0), tt = A(2),
        nt = A(3), rt = A(4), et = A(5), it = A(6), ot = N(!0), ut = N(!1), ct = I.values, ft = I.keys, at = I.entries,
        st = $.lastIndexOf, lt = $.reduce, ht = $.reduceRight, vt = $.join, pt = $.sort, dt = $.slice, yt = $.toString,
        gt = $.toLocaleString, bt = M("iterator"), mt = M("toStringTag"), xt = F("typed_constructor"),
        wt = F("def_constructor"), St = c.CONSTR, _t = c.TYPED, Ot = c.VIEW, Et = "Wrong length!",
        Pt = A(1, function (t, n) {
          return Tt(T(t, t[wt]), n)
        }), jt = o(function () {
          return 1 === new q(new Uint16Array([1]).buffer)[0]
        }), Ft = !!q && !!q[H].set && o(function () {
          new q(1).set({})
        }), Mt = function (t, n) {
          if (void 0 === t) throw z(Et);
          var r = +t, e = d(t);
          if (n && !m(r, e)) throw V(Et);
          return e
        }, At = function (t, n) {
          var r = p(t);
          if (r < 0 || r % n) throw V("Wrong offset!");
          return r
        }, Nt = function (t) {
          if (w(t) && _t in t) return t;
          throw z(t + " is not a typed array!")
        }, Tt = function (t, n) {
          if (!(w(t) && xt in t)) throw z("It is not a typed array constructor!");
          return new t(n)
        }, It = function (t, n) {
          return kt(T(t, t[wt]), n)
        }, kt = function (t, n) {
          for (var r = 0, e = n.length, i = Tt(t, e); e > r;) i[r] = n[r++];
          return i
        }, Lt = function (t, n, r) {
          G(t, n, {
            get: function () {
              return this._d[r]
            }
          })
        }, Rt = function (t) {
          var n, r, e, i, o, u, c = S(t), f = arguments.length, s = f > 1 ? arguments[1] : void 0, l = void 0 !== s,
            h = j(c);
          if (void 0 != h && !_(h)) {
            for (u = h.call(c), e = [], n = 0; !(o = u.next()).done; n++) e.push(o.value);
            c = e
          }
          for (l && f > 2 && (s = a(s, arguments[2], 2)), n = 0, r = d(c.length), i = Tt(this, r); r > n; n++) i[n] = l ? s(c[n], n) : c[n];
          return i
        }, Ct = function () {
          for (var t = 0, n = arguments.length, r = Tt(this, n); n > t;) r[t] = arguments[t++];
          return r
        }, Dt = !!q && o(function () {
          gt.call(new q(1))
        }), Ut = function () {
          return gt.apply(Dt ? dt.call(Nt(this)) : Nt(this), arguments)
        }, Wt = {
          copyWithin: function (t, n) {
            return D.call(Nt(this), t, n, arguments.length > 2 ? arguments[2] : void 0)
          }, every: function (t) {
            return rt(Nt(this), t, arguments.length > 1 ? arguments[1] : void 0)
          }, fill: function (t) {
            return C.apply(Nt(this), arguments)
          }, filter: function (t) {
            return It(this, tt(Nt(this), t, arguments.length > 1 ? arguments[1] : void 0))
          }, find: function (t) {
            return et(Nt(this), t, arguments.length > 1 ? arguments[1] : void 0)
          }, findIndex: function (t) {
            return it(Nt(this), t, arguments.length > 1 ? arguments[1] : void 0)
          }, forEach: function (t) {
            Z(Nt(this), t, arguments.length > 1 ? arguments[1] : void 0)
          }, indexOf: function (t) {
            return ut(Nt(this), t, arguments.length > 1 ? arguments[1] : void 0)
          }, includes: function (t) {
            return ot(Nt(this), t, arguments.length > 1 ? arguments[1] : void 0)
          }, join: function (t) {
            return vt.apply(Nt(this), arguments)
          }, lastIndexOf: function (t) {
            return st.apply(Nt(this), arguments)
          }, map: function (t) {
            return Pt(Nt(this), t, arguments.length > 1 ? arguments[1] : void 0)
          }, reduce: function (t) {
            return lt.apply(Nt(this), arguments)
          }, reduceRight: function (t) {
            return ht.apply(Nt(this), arguments)
          }, reverse: function () {
            for (var t, n = this, r = Nt(n).length, e = Math.floor(r / 2), i = 0; i < e;) t = n[i], n[i++] = n[--r], n[r] = t;
            return n
          }, some: function (t) {
            return nt(Nt(this), t, arguments.length > 1 ? arguments[1] : void 0)
          }, sort: function (t) {
            return pt.call(Nt(this), t)
          }, subarray: function (t, n) {
            var r = Nt(this), e = r.length, i = y(t, e);
            return new (T(r, r[wt]))(r.buffer, r.byteOffset + i * r.BYTES_PER_ELEMENT, d((void 0 === n ? e : y(n, e)) - i))
          }
        }, Gt = function (t, n) {
          return It(this, dt.call(Nt(this), t, n))
        }, Bt = function (t) {
          Nt(this);
          var n = At(arguments[1], 1), r = this.length, e = S(t), i = d(e.length), o = 0;
          if (i + n > r) throw V(Et);
          for (; o < i;) this[n + o] = e[o++]
        }, Vt = {
          entries: function () {
            return at.call(Nt(this))
          }, keys: function () {
            return ft.call(Nt(this))
          }, values: function () {
            return ct.call(Nt(this))
          }
        }, zt = function (t, n) {
          return w(t) && t[_t] && "symbol" != typeof n && n in t && String(+n) == String(n)
        }, qt = function (t, n) {
          return zt(t, n = g(n, !0)) ? l(2, t[n]) : B(t, n)
        }, Kt = function (t, n, r) {
          return !(zt(t, n = g(n, !0)) && w(r) && b(r, "value")) || b(r, "get") || b(r, "set") || r.configurable || b(r, "writable") && !r.writable || b(r, "enumerable") && !r.enumerable ? G(t, n, r) : (t[n] = r.value, t)
        };
      St || (W.f = qt, U.f = Kt), u(u.S + u.F * !St, "Object", {
        getOwnPropertyDescriptor: qt,
        defineProperty: Kt
      }), o(function () {
        yt.call({})
      }) && (yt = gt = function () {
        return vt.call(this)
      });
      var Jt = v({}, Wt);
      v(Jt, Vt), h(Jt, bt, Vt.values), v(Jt, {
        slice: Gt, set: Bt, constructor: function () {
        }, toString: yt, toLocaleString: Ut
      }), Lt(Jt, "buffer", "b"), Lt(Jt, "byteOffset", "o"), Lt(Jt, "byteLength", "l"), Lt(Jt, "length", "e"), G(Jt, mt, {
        get: function () {
          return this[_t]
        }
      }), t.exports = function (t, n, r, f) {
        f = !!f;
        var a = t + (f ? "Clamped" : "") + "Array", l = "Uint8Array" != a, v = "get" + t, p = "set" + t, y = i[a],
          g = y || {}, b = y && E(y), m = !y || !c.ABV, S = {}, _ = y && y[H], j = function (t, r) {
            var e = t._d;
            return e.v[v](r * n + e.o, jt)
          }, F = function (t, r, e) {
            var i = t._d;
            f && (e = (e = Math.round(e)) < 0 ? 0 : e > 255 ? 255 : 255 & e), i.v[p](r * n + i.o, e, jt)
          }, M = function (t, n) {
            G(t, n, {
              get: function () {
                return j(this, n)
              }, set: function (t) {
                return F(this, n, t)
              }, enumerable: !0
            })
          };
        m ? (y = r(function (t, r, e, i) {
          s(t, y, a, "_d");
          var o, u, c, f, l = 0, v = 0;
          if (w(r)) {
            if (!(r instanceof X || (f = x(r)) == K || f == J)) return _t in r ? kt(y, r) : Rt.call(y, r);
            o = r, v = At(e, n);
            var p = r.byteLength;
            if (void 0 === i) {
              if (p % n) throw V(Et);
              if ((u = p - v) < 0) throw V(Et)
            } else if ((u = d(i) * n) + v > p) throw V(Et);
            c = u / n
          } else c = Mt(r, !0), u = c * n, o = new X(u);
          for (h(t, "_d", {b: o, o: v, l: u, e: c, v: new Q(o)}); l < c;) M(t, l++)
        }), _ = y[H] = O(Jt), h(_, "constructor", y)) : L(function (t) {
          new y(null), new y(t)
        }, !0) || (y = r(function (t, r, e, i) {
          s(t, y, a);
          var o;
          return w(r) ? r instanceof X || (o = x(r)) == K || o == J ? void 0 !== i ? new g(r, At(e, n), i) : void 0 !== e ? new g(r, At(e, n)) : new g(r) : _t in r ? kt(y, r) : Rt.call(y, r) : new g(Mt(r, l))
        }), Z(b !== Function.prototype ? P(g).concat(P(b)) : P(g), function (t) {
          t in y || h(y, t, g[t])
        }), y[H] = _, e || (_.constructor = y));
        var A = _[bt], N = !!A && ("values" == A.name || void 0 == A.name), T = Vt.values;
        h(y, xt, !0), h(_, _t, a), h(_, Ot, !0), h(_, wt, y), (f ? new y(1)[mt] == a : mt in _) || G(_, mt, {
          get: function () {
            return a
          }
        }), S[a] = y, u(u.G + u.W + u.F * (y != g), S), u(u.S, a, {
          BYTES_PER_ELEMENT: n,
          from: Rt,
          of: Ct
        }), Y in _ || h(_, Y, n), u(u.P, a, Wt), R(a), u(u.P + u.F * Ft, a, {set: Bt}), u(u.P + u.F * !N, a, Vt), u(u.P + u.F * (_.toString != yt), a, {toString: yt}), u(u.P + u.F * o(function () {
          new y(1).slice()
        }), a, {slice: Gt}), u(u.P + u.F * (o(function () {
          return [1, 2].toLocaleString() != new y([1, 2]).toLocaleString()
        }) || !o(function () {
          _.toLocaleString.call([1, 2])
        })), a, {toLocaleString: Ut}), k[a] = N ? A : T, e || N || h(_, bt, T)
      }
    } else t.exports = function () {
    }
  }, function (t, n) {
    var r = {}.toString;
    t.exports = function (t) {
      return r.call(t).slice(8, -1)
    }
  }, function (t, n, r) {
    var e = r(21), i = r(5).document, o = e(i) && e(i.createElement);
    t.exports = function (t) {
      return o ? i.createElement(t) : {}
    }
  }, function (t, n, r) {
    t.exports = !r(12) && !r(18)(function () {
      return 7 != Object.defineProperty(r(57)("div"), "a", {
        get: function () {
          return 7
        }
      }).a
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(36), i = r(51), o = r(64), u = r(13), c = r(8), f = r(35), a = r(96), s = r(38), l = r(103),
      h = r(15)("iterator"), v = !([].keys && "next" in [].keys()), p = "keys", d = "values", y = function () {
        return this
      };
    t.exports = function (t, n, r, g, b, m, x) {
      a(r, n, g);
      var w, S, _, O = function (t) {
          if (!v && t in F) return F[t];
          switch (t) {
            case p:
            case d:
              return function () {
                return new r(this, t)
              }
          }
          return function () {
            return new r(this, t)
          }
        }, E = n + " Iterator", P = b == d, j = !1, F = t.prototype, M = F[h] || F["@@iterator"] || b && F[b],
        A = M || O(b), N = b ? P ? O("entries") : A : void 0, T = "Array" == n ? F.entries || M : M;
      if (T && (_ = l(T.call(new t))) !== Object.prototype && (s(_, E, !0), e || c(_, h) || u(_, h, y)), P && M && M.name !== d && (j = !0, A = function () {
          return M.call(this)
        }), e && !x || !v && !j && F[h] || u(F, h, A), f[n] = A, f[E] = y, b) if (w = {
          values: P ? A : O(d),
          keys: m ? A : O(p),
          entries: N
        }, x) for (S in w) S in F || o(F, S, w[S]); else i(i.P + i.F * (v || j), n, w);
      return w
    }
  }, function (t, n, r) {
    var e = r(20), i = r(100), o = r(34), u = r(39)("IE_PROTO"), c = function () {
    }, f = "prototype", a = function () {
      var t, n = r(57)("iframe"), e = o.length;
      for (n.style.display = "none", r(93).appendChild(n), n.src = "javascript:", t = n.contentWindow.document, t.open(), t.write("<script>document.F=Object<\/script>"), t.close(), a = t.F; e--;) delete a[f][o[e]];
      return a()
    };
    t.exports = Object.create || function (t, n) {
      var r;
      return null !== t ? (c[f] = e(t), r = new c, c[f] = null, r[u] = t) : r = a(), void 0 === n ? r : i(r, n)
    }
  }, function (t, n, r) {
    var e = r(63), i = r(34).concat("length", "prototype");
    n.f = Object.getOwnPropertyNames || function (t) {
      return e(t, i)
    }
  }, function (t, n) {
    n.f = Object.getOwnPropertySymbols
  }, function (t, n, r) {
    var e = r(8), i = r(9), o = r(90)(!1), u = r(39)("IE_PROTO");
    t.exports = function (t, n) {
      var r, c = i(t), f = 0, a = [];
      for (r in c) r != u && e(c, r) && a.push(r);
      for (; n.length > f;) e(c, r = n[f++]) && (~o(a, r) || a.push(r));
      return a
    }
  }, function (t, n, r) {
    t.exports = r(13)
  }, function (t, n, r) {
    var e = r(76)("meta"), i = r(6), o = r(24), u = r(11).f, c = 0, f = Object.isExtensible || function () {
      return !0
    }, a = !r(4)(function () {
      return f(Object.preventExtensions({}))
    }), s = function (t) {
      u(t, e, {value: {i: "O" + ++c, w: {}}})
    }, l = function (t, n) {
      if (!i(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
      if (!o(t, e)) {
        if (!f(t)) return "F";
        if (!n) return "E";
        s(t)
      }
      return t[e].i
    }, h = function (t, n) {
      if (!o(t, e)) {
        if (!f(t)) return !0;
        if (!n) return !1;
        s(t)
      }
      return t[e].w
    }, v = function (t) {
      return a && p.NEED && f(t) && !o(t, e) && s(t), t
    }, p = t.exports = {KEY: e, NEED: !1, fastKey: l, getWeak: h, onFreeze: v}
  }, function (t, n) {
    t.exports = function (t, n) {
      return {enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: n}
    }
  }, function (t, n) {
    var r = Math.ceil, e = Math.floor;
    t.exports = function (t) {
      return isNaN(t = +t) ? 0 : (t > 0 ? e : r)(t)
    }
  }, function (t, n) {
    t.exports = function (t, n, r, e) {
      if (!(t instanceof n) || void 0 !== e && e in t) throw TypeError(r + ": incorrect invocation!");
      return t
    }
  }, function (t, n) {
    t.exports = !1
  }, function (t, n, r) {
    var e = r(2), i = r(173), o = r(133), u = r(145)("IE_PROTO"), c = function () {
    }, f = "prototype", a = function () {
      var t, n = r(132)("iframe"), e = o.length;
      for (n.style.display = "none", r(135).appendChild(n), n.src = "javascript:", t = n.contentWindow.document, t.open(), t.write("<script>document.F=Object<\/script>"), t.close(), a = t.F; e--;) delete a[f][o[e]];
      return a()
    };
    t.exports = Object.create || function (t, n) {
      var r;
      return null !== t ? (c[f] = e(t), r = new c, c[f] = null, r[u] = t) : r = a(), void 0 === n ? r : i(r, n)
    }
  }, function (t, n, r) {
    var e = r(175), i = r(133).concat("length", "prototype");
    n.f = Object.getOwnPropertyNames || function (t) {
      return e(t, i)
    }
  }, function (t, n, r) {
    var e = r(175), i = r(133);
    t.exports = Object.keys || function (t) {
      return e(t, i)
    }
  }, function (t, n, r) {
    var e = r(28);
    t.exports = function (t, n, r) {
      for (var i in n) e(t, i, n[i], r);
      return t
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(3), i = r(11), o = r(10), u = r(7)("species");
    t.exports = function (t) {
      var n = e[t];
      o && n && !n[u] && i.f(n, u, {
        configurable: !0, get: function () {
          return this
        }
      })
    }
  }, function (t, n, r) {
    var e = r(67), i = Math.max, o = Math.min;
    t.exports = function (t, n) {
      return t = e(t), t < 0 ? i(t + n, 0) : o(t, n)
    }
  }, function (t, n) {
    var r = 0, e = Math.random();
    t.exports = function (t) {
      return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++r + e).toString(36))
    }
  }, function (t, n, r) {
    var e = r(33);
    t.exports = function (t) {
      return Object(e(t))
    }
  }, function (t, n, r) {
    var e = r(7)("unscopables"), i = Array.prototype;
    void 0 == i[e] && r(27)(i, e, {}), t.exports = function (t) {
      i[e][t] = !0
    }
  }, function (t, n, r) {
    var e = r(53), i = r(169), o = r(137), u = r(2), c = r(16), f = r(154), a = {}, s = {},
      n = t.exports = function (t, n, r, l, h) {
        var v, p, d, y, g = h ? function () {
          return t
        } : f(t), b = e(r, l, n ? 2 : 1), m = 0;
        if ("function" != typeof g) throw TypeError(t + " is not iterable!");
        if (o(g)) {
          for (v = c(t.length); v > m; m++) if ((y = n ? b(u(p = t[m])[0], p[1]) : b(t[m])) === a || y === s) return y
        } else for (d = g.call(t); !(p = d.next()).done;) if ((y = i(d, b, p.value, n)) === a || y === s) return y
      };
    n.BREAK = a, n.RETURN = s
  }, function (t, n) {
    t.exports = {}
  }, function (t, n, r) {
    var e = r(11).f, i = r(24), o = r(7)("toStringTag");
    t.exports = function (t, n, r) {
      t && !i(t = r ? t : t.prototype, o) && e(t, o, {configurable: !0, value: n})
    }
  }, function (t, n, r) {
    var e = r(1), i = r(46), o = r(4), u = r(150), c = "[" + u + "]", f = "​", a = RegExp("^" + c + c + "*"),
      s = RegExp(c + c + "*$"), l = function (t, n, r) {
        var i = {}, c = o(function () {
          return !!u[t]() || f[t]() != f
        }), a = i[t] = c ? n(h) : u[t];
        r && (i[r] = a), e(e.P + e.F * c, "String", i)
      }, h = l.trim = function (t, n) {
        return t = String(i(t)), 1 & n && (t = t.replace(a, "")), 2 & n && (t = t.replace(s, "")), t
      };
    t.exports = l
  }, function (t, n, r) {
    t.exports = {default: r(86), __esModule: !0}
  }, function (t, n, r) {
    t.exports = {default: r(87), __esModule: !0}
  }, function (t, n, r) {
    "use strict";

    function e(t) {
      return t && t.__esModule ? t : {default: t}
    }

    n.__esModule = !0;
    var i = r(84), o = e(i), u = r(83), c = e(u),
      f = "function" == typeof c.default && "symbol" == typeof o.default ? function (t) {
        return typeof t
      } : function (t) {
        return t && "function" == typeof c.default && t.constructor === c.default && t !== c.default.prototype ? "symbol" : typeof t
      };
    n.default = "function" == typeof c.default && "symbol" === f(o.default) ? function (t) {
      return void 0 === t ? "undefined" : f(t)
    } : function (t) {
      return t && "function" == typeof c.default && t.constructor === c.default && t !== c.default.prototype ? "symbol" : void 0 === t ? "undefined" : f(t)
    }
  }, function (t, n, r) {
    r(110), r(108), r(111), r(112), t.exports = r(25).Symbol
  }, function (t, n, r) {
    r(109), r(113), t.exports = r(44).f("iterator")
  }, function (t, n) {
    t.exports = function (t) {
      if ("function" != typeof t) throw TypeError(t + " is not a function!");
      return t
    }
  }, function (t, n) {
    t.exports = function () {
    }
  }, function (t, n, r) {
    var e = r(9), i = r(106), o = r(105);
    t.exports = function (t) {
      return function (n, r, u) {
        var c, f = e(n), a = i(f.length), s = o(u, a);
        if (t && r != r) {
          for (; a > s;) if ((c = f[s++]) != c) return !0
        } else for (; a > s; s++) if ((t || s in f) && f[s] === r) return t || s || 0;
        return !t && -1
      }
    }
  }, function (t, n, r) {
    var e = r(88);
    t.exports = function (t, n, r) {
      if (e(t), void 0 === n) return t;
      switch (r) {
        case 1:
          return function (r) {
            return t.call(n, r)
          };
        case 2:
          return function (r, e) {
            return t.call(n, r, e)
          };
        case 3:
          return function (r, e, i) {
            return t.call(n, r, e, i)
          }
      }
      return function () {
        return t.apply(n, arguments)
      }
    }
  }, function (t, n, r) {
    var e = r(19), i = r(62), o = r(37);
    t.exports = function (t) {
      var n = e(t), r = i.f;
      if (r) for (var u, c = r(t), f = o.f, a = 0; c.length > a;) f.call(t, u = c[a++]) && n.push(u);
      return n
    }
  }, function (t, n, r) {
    t.exports = r(5).document && document.documentElement
  }, function (t, n, r) {
    var e = r(56);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) {
      return "String" == e(t) ? t.split("") : Object(t)
    }
  }, function (t, n, r) {
    var e = r(56);
    t.exports = Array.isArray || function (t) {
      return "Array" == e(t)
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(60), i = r(22), o = r(38), u = {};
    r(13)(u, r(15)("iterator"), function () {
      return this
    }), t.exports = function (t, n, r) {
      t.prototype = e(u, {next: i(1, r)}), o(t, n + " Iterator")
    }
  }, function (t, n) {
    t.exports = function (t, n) {
      return {value: n, done: !!t}
    }
  }, function (t, n, r) {
    var e = r(19), i = r(9);
    t.exports = function (t, n) {
      for (var r, o = i(t), u = e(o), c = u.length, f = 0; c > f;) if (o[r = u[f++]] === n) return r
    }
  }, function (t, n, r) {
    var e = r(23)("meta"), i = r(21), o = r(8), u = r(14).f, c = 0, f = Object.isExtensible || function () {
      return !0
    }, a = !r(18)(function () {
      return f(Object.preventExtensions({}))
    }), s = function (t) {
      u(t, e, {value: {i: "O" + ++c, w: {}}})
    }, l = function (t, n) {
      if (!i(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
      if (!o(t, e)) {
        if (!f(t)) return "F";
        if (!n) return "E";
        s(t)
      }
      return t[e].i
    }, h = function (t, n) {
      if (!o(t, e)) {
        if (!f(t)) return !0;
        if (!n) return !1;
        s(t)
      }
      return t[e].w
    }, v = function (t) {
      return a && p.NEED && f(t) && !o(t, e) && s(t), t
    }, p = t.exports = {KEY: e, NEED: !1, fastKey: l, getWeak: h, onFreeze: v}
  }, function (t, n, r) {
    var e = r(14), i = r(20), o = r(19);
    t.exports = r(12) ? Object.defineProperties : function (t, n) {
      i(t);
      for (var r, u = o(n), c = u.length, f = 0; c > f;) e.f(t, r = u[f++], n[r]);
      return t
    }
  }, function (t, n, r) {
    var e = r(37), i = r(22), o = r(9), u = r(42), c = r(8), f = r(58), a = Object.getOwnPropertyDescriptor;
    n.f = r(12) ? a : function (t, n) {
      if (t = o(t), n = u(n, !0), f) try {
        return a(t, n)
      } catch (t) {
      }
      if (c(t, n)) return i(!e.f.call(t, n), t[n])
    }
  }, function (t, n, r) {
    var e = r(9), i = r(61).f, o = {}.toString,
      u = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],
      c = function (t) {
        try {
          return i(t)
        } catch (t) {
          return u.slice()
        }
      };
    t.exports.f = function (t) {
      return u && "[object Window]" == o.call(t) ? c(t) : i(e(t))
    }
  }, function (t, n, r) {
    var e = r(8), i = r(77), o = r(39)("IE_PROTO"), u = Object.prototype;
    t.exports = Object.getPrototypeOf || function (t) {
      return t = i(t), e(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? u : null
    }
  }, function (t, n, r) {
    var e = r(41), i = r(33);
    t.exports = function (t) {
      return function (n, r) {
        var o, u, c = String(i(n)), f = e(r), a = c.length;
        return f < 0 || f >= a ? t ? "" : void 0 : (o = c.charCodeAt(f), o < 55296 || o > 56319 || f + 1 === a || (u = c.charCodeAt(f + 1)) < 56320 || u > 57343 ? t ? c.charAt(f) : o : t ? c.slice(f, f + 2) : u - 56320 + (o - 55296 << 10) + 65536)
      }
    }
  }, function (t, n, r) {
    var e = r(41), i = Math.max, o = Math.min;
    t.exports = function (t, n) {
      return t = e(t), t < 0 ? i(t + n, 0) : o(t, n)
    }
  }, function (t, n, r) {
    var e = r(41), i = Math.min;
    t.exports = function (t) {
      return t > 0 ? i(e(t), 9007199254740991) : 0
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(89), i = r(97), o = r(35), u = r(9);
    t.exports = r(59)(Array, "Array", function (t, n) {
      this._t = u(t), this._i = 0, this._k = n
    }, function () {
      var t = this._t, n = this._k, r = this._i++;
      return !t || r >= t.length ? (this._t = void 0, i(1)) : "keys" == n ? i(0, r) : "values" == n ? i(0, t[r]) : i(0, [r, t[r]])
    }, "values"), o.Arguments = o.Array, e("keys"), e("values"), e("entries")
  }, function (t, n) {
  }, function (t, n, r) {
    "use strict";
    var e = r(104)(!0);
    r(59)(String, "String", function (t) {
      this._t = String(t), this._i = 0
    }, function () {
      var t, n = this._t, r = this._i;
      return r >= n.length ? {value: void 0, done: !0} : (t = e(n, r), this._i += t.length, {value: t, done: !1})
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(5), i = r(8), o = r(12), u = r(51), c = r(64), f = r(99).KEY, a = r(18), s = r(40), l = r(38), h = r(23),
      v = r(15), p = r(44), d = r(43), y = r(98), g = r(92), b = r(95), m = r(20), x = r(9), w = r(42), S = r(22),
      _ = r(60), O = r(102), E = r(101), P = r(14), j = r(19), F = E.f, M = P.f, A = O.f, N = e.Symbol, T = e.JSON,
      I = T && T.stringify, k = "prototype", L = v("_hidden"), R = v("toPrimitive"), C = {}.propertyIsEnumerable,
      D = s("symbol-registry"), U = s("symbols"), W = s("op-symbols"), G = Object[k], B = "function" == typeof N,
      V = e.QObject, z = !V || !V[k] || !V[k].findChild, q = o && a(function () {
        return 7 != _(M({}, "a", {
          get: function () {
            return M(this, "a", {value: 7}).a
          }
        })).a
      }) ? function (t, n, r) {
        var e = F(G, n);
        e && delete G[n], M(t, n, r), e && t !== G && M(G, n, e)
      } : M, K = function (t) {
        var n = U[t] = _(N[k]);
        return n._k = t, n
      }, J = B && "symbol" == typeof N.iterator ? function (t) {
        return "symbol" == typeof t
      } : function (t) {
        return t instanceof N
      }, Y = function (t, n, r) {
        return t === G && Y(W, n, r), m(t), n = w(n, !0), m(r), i(U, n) ? (r.enumerable ? (i(t, L) && t[L][n] && (t[L][n] = !1), r = _(r, {enumerable: S(0, !1)})) : (i(t, L) || M(t, L, S(1, {})), t[L][n] = !0), q(t, n, r)) : M(t, n, r)
      }, H = function (t, n) {
        m(t);
        for (var r, e = g(n = x(n)), i = 0, o = e.length; o > i;) Y(t, r = e[i++], n[r]);
        return t
      }, $ = function (t, n) {
        return void 0 === n ? _(t) : H(_(t), n)
      }, X = function (t) {
        var n = C.call(this, t = w(t, !0));
        return !(this === G && i(U, t) && !i(W, t)) && (!(n || !i(this, t) || !i(U, t) || i(this, L) && this[L][t]) || n)
      }, Q = function (t, n) {
        if (t = x(t), n = w(n, !0), t !== G || !i(U, n) || i(W, n)) {
          var r = F(t, n);
          return !r || !i(U, n) || i(t, L) && t[L][n] || (r.enumerable = !0), r
        }
      }, Z = function (t) {
        for (var n, r = A(x(t)), e = [], o = 0; r.length > o;) i(U, n = r[o++]) || n == L || n == f || e.push(n);
        return e
      }, tt = function (t) {
        for (var n, r = t === G, e = A(r ? W : x(t)), o = [], u = 0; e.length > u;) !i(U, n = e[u++]) || r && !i(G, n) || o.push(U[n]);
        return o
      };
    B || (N = function () {
      if (this instanceof N) throw TypeError("Symbol is not a constructor!");
      var t = h(arguments.length > 0 ? arguments[0] : void 0), n = function (r) {
        this === G && n.call(W, r), i(this, L) && i(this[L], t) && (this[L][t] = !1), q(this, t, S(1, r))
      };
      return o && z && q(G, t, {configurable: !0, set: n}), K(t)
    }, c(N[k], "toString", function () {
      return this._k
    }), E.f = Q, P.f = Y, r(61).f = O.f = Z, r(37).f = X, r(62).f = tt, o && !r(36) && c(G, "propertyIsEnumerable", X, !0), p.f = function (t) {
      return K(v(t))
    }), u(u.G + u.W + u.F * !B, {Symbol: N});
    for (var nt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), rt = 0; nt.length > rt;) v(nt[rt++]);
    for (var nt = j(v.store), rt = 0; nt.length > rt;) d(nt[rt++]);
    u(u.S + u.F * !B, "Symbol", {
      for: function (t) {
        return i(D, t += "") ? D[t] : D[t] = N(t)
      }, keyFor: function (t) {
        if (J(t)) return y(D, t);
        throw TypeError(t + " is not a symbol!")
      }, useSetter: function () {
        z = !0
      }, useSimple: function () {
        z = !1
      }
    }), u(u.S + u.F * !B, "Object", {
      create: $,
      defineProperty: Y,
      defineProperties: H,
      getOwnPropertyDescriptor: Q,
      getOwnPropertyNames: Z,
      getOwnPropertySymbols: tt
    }), T && u(u.S + u.F * (!B || a(function () {
      var t = N();
      return "[null]" != I([t]) || "{}" != I({a: t}) || "{}" != I(Object(t))
    })), "JSON", {
      stringify: function (t) {
        if (void 0 !== t && !J(t)) {
          for (var n, r, e = [t], i = 1; arguments.length > i;) e.push(arguments[i++]);
          return n = e[1], "function" == typeof n && (r = n), !r && b(n) || (n = function (t, n) {
            if (r && (n = r.call(this, t, n)), !J(n)) return n
          }), e[1] = n, I.apply(T, e)
        }
      }
    }), N[k][R] || r(13)(N[k], R, N[k].valueOf), l(N, "Symbol"), l(Math, "Math", !0), l(e.JSON, "JSON", !0)
  }, function (t, n, r) {
    r(43)("asyncIterator")
  }, function (t, n, r) {
    r(43)("observable")
  }, function (t, n, r) {
    r(107);
    for (var e = r(5), i = r(13), o = r(35), u = r(15)("toStringTag"), c = ["NodeList", "DOMTokenList", "MediaList", "StyleSheetList", "CSSRuleList"], f = 0; f < 5; f++) {
      var a = c[f], s = e[a], l = s && s.prototype;
      l && !l[u] && i(l, u, a), o[a] = o.Array
    }
  }, function (t, n, r) {
    var e = r(45), i = r(7)("toStringTag"), o = "Arguments" == e(function () {
      return arguments
    }()), u = function (t, n) {
      try {
        return t[n]
      } catch (t) {
      }
    };
    t.exports = function (t) {
      var n, r, c;
      return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof(r = u(n = Object(t), i)) ? r : o ? e(n) : "Object" == (c = e(n)) && "function" == typeof n.callee ? "Arguments" : c
    }
  }, function (t, n, r) {
    var e = r(45);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) {
      return "String" == e(t) ? t.split("") : Object(t)
    }
  }, function (t, n) {
    n.f = {}.propertyIsEnumerable
  }, function (t, n, r) {
    var e = r(30), i = r(16), o = r(75);
    t.exports = function (t) {
      return function (n, r, u) {
        var c, f = e(n), a = i(f.length), s = o(u, a);
        if (t && r != r) {
          for (; a > s;) if ((c = f[s++]) != c) return !0
        } else for (; a > s; s++) if ((t || s in f) && f[s] === r) return t || s || 0;
        return !t && -1
      }
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(3), i = r(1), o = r(28), u = r(73), c = r(65), f = r(79), a = r(68), s = r(6), l = r(4), h = r(123),
      v = r(81), p = r(136);
    t.exports = function (t, n, r, d, y, g) {
      var b = e[t], m = b, x = y ? "set" : "add", w = m && m.prototype, S = {}, _ = function (t) {
        var n = w[t];
        o(w, t, "delete" == t ? function (t) {
          return !(g && !s(t)) && n.call(this, 0 === t ? 0 : t)
        } : "has" == t ? function (t) {
          return !(g && !s(t)) && n.call(this, 0 === t ? 0 : t)
        } : "get" == t ? function (t) {
          return g && !s(t) ? void 0 : n.call(this, 0 === t ? 0 : t)
        } : "add" == t ? function (t) {
          return n.call(this, 0 === t ? 0 : t), this
        } : function (t, r) {
          return n.call(this, 0 === t ? 0 : t, r), this
        })
      };
      if ("function" == typeof m && (g || w.forEach && !l(function () {
          (new m).entries().next()
        }))) {
        var O = new m, E = O[x](g ? {} : -0, 1) != O, P = l(function () {
          O.has(1)
        }), j = h(function (t) {
          new m(t)
        }), F = !g && l(function () {
          for (var t = new m, n = 5; n--;) t[x](n, n);
          return !t.has(-0)
        });
        j || (m = n(function (n, r) {
          a(n, m, t);
          var e = p(new b, n, m);
          return void 0 != r && f(r, y, e[x], e), e
        }), m.prototype = w, w.constructor = m), (P || F) && (_("delete"), _("has"), y && _("get")), (F || E) && _(x), g && w.clear && delete w.clear
      } else m = d.getConstructor(n, t, y, x), u(m.prototype, r), c.NEED = !0;
      return v(m, t), S[t] = m, i(i.G + i.W + i.F * (m != b), S), g || d.setStrong(m, t, y), m
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(27), i = r(28), o = r(4), u = r(46), c = r(7);
    t.exports = function (t, n, r) {
      var f = c(t), a = r(u, f, ""[t]), s = a[0], l = a[1];
      o(function () {
        var n = {};
        return n[f] = function () {
          return 7
        }, 7 != ""[t](n)
      }) && (i(String.prototype, t, s), e(RegExp.prototype, f, 2 == n ? function (t, n) {
        return l.call(t, this, n)
      } : function (t) {
        return l.call(t, this)
      }))
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(2);
    t.exports = function () {
      var t = e(this), n = "";
      return t.global && (n += "g"), t.ignoreCase && (n += "i"), t.multiline && (n += "m"), t.unicode && (n += "u"), t.sticky && (n += "y"), n
    }
  }, function (t, n) {
    t.exports = function (t, n, r) {
      var e = void 0 === r;
      switch (n.length) {
        case 0:
          return e ? t() : t.call(r);
        case 1:
          return e ? t(n[0]) : t.call(r, n[0]);
        case 2:
          return e ? t(n[0], n[1]) : t.call(r, n[0], n[1]);
        case 3:
          return e ? t(n[0], n[1], n[2]) : t.call(r, n[0], n[1], n[2]);
        case 4:
          return e ? t(n[0], n[1], n[2], n[3]) : t.call(r, n[0], n[1], n[2], n[3])
      }
      return t.apply(r, n)
    }
  }, function (t, n, r) {
    var e = r(6), i = r(45), o = r(7)("match");
    t.exports = function (t) {
      var n;
      return e(t) && (void 0 !== (n = t[o]) ? !!n : "RegExp" == i(t))
    }
  }, function (t, n, r) {
    var e = r(7)("iterator"), i = !1;
    try {
      var o = [7][e]();
      o.return = function () {
        i = !0
      }, Array.from(o, function () {
        throw 2
      })
    } catch (t) {
    }
    t.exports = function (t, n) {
      if (!n && !i) return !1;
      var r = !1;
      try {
        var o = [7], u = o[e]();
        u.next = function () {
          return {done: r = !0}
        }, o[e] = function () {
          return u
        }, t(o)
      } catch (t) {
      }
      return r
    }
  }, function (t, n, r) {
    t.exports = r(69) || !r(4)(function () {
      var t = Math.random();
      __defineSetter__.call(null, t, function () {
      }), delete r(3)[t]
    })
  }, function (t, n) {
    n.f = Object.getOwnPropertySymbols
  }, function (t, n, r) {
    var e = r(3), i = "__core-js_shared__", o = e[i] || (e[i] = {});
    t.exports = function (t) {
      return o[t] || (o[t] = {})
    }
  }, function (t, n, r) {
    for (var e, i = r(3), o = r(27), u = r(76), c = u("typed_array"), f = u("view"), a = !(!i.ArrayBuffer || !i.DataView), s = a, l = 0, h = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); l < 9;) (e = i[h[l++]]) ? (o(e.prototype, c, !0), o(e.prototype, f, !0)) : s = !1;
    t.exports = {ABV: a, CONSTR: s, TYPED: c, VIEW: f}
  }, function (t, n) {
    "use strict";
    var r = {
      versions: function () {
        var t = window.navigator.userAgent;
        return {
          trident: t.indexOf("Trident") > -1,
          presto: t.indexOf("Presto") > -1,
          webKit: t.indexOf("AppleWebKit") > -1,
          gecko: t.indexOf("Gecko") > -1 && -1 == t.indexOf("KHTML"),
          mobile: !!t.match(/AppleWebKit.*Mobile.*/),
          ios: !!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),
          android: t.indexOf("Android") > -1 || t.indexOf("Linux") > -1,
          iPhone: t.indexOf("iPhone") > -1 || t.indexOf("Mac") > -1,
          iPad: t.indexOf("iPad") > -1,
          webApp: -1 == t.indexOf("Safari"),
          weixin: -1 == t.indexOf("MicroMessenger")
        }
      }()
    };
    t.exports = r
  }, function (t, n, r) {
    "use strict";
    var e = r(85), i = function (t) {
      return t && t.__esModule ? t : {default: t}
    }(e), o = function () {
      function t(t, n, e) {
        return n || e ? String.fromCharCode(n || e) : r[t] || t
      }

      function n(t) {
        return e[t]
      }

      var r = {"&quot;": '"', "&lt;": "<", "&gt;": ">", "&amp;": "&", "&nbsp;": " "}, e = {};
      for (var u in r) e[r[u]] = u;
      return r["&apos;"] = "'", e["'"] = "&#39;", {
        encode: function (t) {
          return t ? ("" + t).replace(/['<> "&]/g, n).replace(/\r?\n/g, "<br/>").replace(/\s/g, "&nbsp;") : ""
        }, decode: function (n) {
          return n ? ("" + n).replace(/<br\s*\/?>/gi, "\n").replace(/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g, t).replace(/\u00a0/g, " ") : ""
        }, encodeBase16: function (t) {
          if (!t) return t;
          t += "";
          for (var n = [], r = 0, e = t.length; e > r; r++) n.push(t.charCodeAt(r).toString(16).toUpperCase());
          return n.join("")
        }, encodeBase16forJSON: function (t) {
          if (!t) return t;
          t = t.replace(/[\u4E00-\u9FBF]/gi, function (t) {
            return escape(t).replace("%u", "\\u")
          });
          for (var n = [], r = 0, e = t.length; e > r; r++) n.push(t.charCodeAt(r).toString(16).toUpperCase());
          return n.join("")
        }, decodeBase16: function (t) {
          if (!t) return t;
          t += "";
          for (var n = [], r = 0, e = t.length; e > r; r += 2) n.push(String.fromCharCode("0x" + t.slice(r, r + 2)));
          return n.join("")
        }, encodeObject: function (t) {
          if (t instanceof Array) for (var n = 0, r = t.length; r > n; n++) t[n] = o.encodeObject(t[n]); else if ("object" == (void 0 === t ? "undefined" : (0, i.default)(t))) for (var e in t) t[e] = o.encodeObject(t[e]); else if ("string" == typeof t) return o.encode(t);
          return t
        }, loadScript: function (t) {
          var n = document.createElement("script");
          document.getElementsByTagName("body")[0].appendChild(n), n.setAttribute("src", t)
        }, addLoadEvent: function (t) {
          var n = window.onload;
          "function" != typeof window.onload ? window.onload = t : window.onload = function () {
            n(), t()
          }
        }
      }
    }();
    t.exports = o
  }, function (t, n, r) {
    "use strict";
    var e = r(17), i = r(75), o = r(16);
    t.exports = function (t) {
      for (var n = e(this), r = o(n.length), u = arguments.length, c = i(u > 1 ? arguments[1] : void 0, r), f = u > 2 ? arguments[2] : void 0, a = void 0 === f ? r : i(f, r); a > c;) n[c++] = t;
      return n
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(11), i = r(66);
    t.exports = function (t, n, r) {
      n in t ? e.f(t, n, i(0, r)) : t[n] = r
    }
  }, function (t, n, r) {
    var e = r(6), i = r(3).document, o = e(i) && e(i.createElement);
    t.exports = function (t) {
      return o ? i.createElement(t) : {}
    }
  }, function (t, n) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
  }, function (t, n, r) {
    var e = r(7)("match");
    t.exports = function (t) {
      var n = /./;
      try {
        "/./"[t](n)
      } catch (r) {
        try {
          return n[e] = !1, !"/./"[t](n)
        } catch (t) {
        }
      }
      return !0
    }
  }, function (t, n, r) {
    t.exports = r(3).document && document.documentElement
  }, function (t, n, r) {
    var e = r(6), i = r(144).set;
    t.exports = function (t, n, r) {
      var o, u = n.constructor;
      return u !== r && "function" == typeof u && (o = u.prototype) !== r.prototype && e(o) && i && i(t, o), t
    }
  }, function (t, n, r) {
    var e = r(80), i = r(7)("iterator"), o = Array.prototype;
    t.exports = function (t) {
      return void 0 !== t && (e.Array === t || o[i] === t)
    }
  }, function (t, n, r) {
    var e = r(45);
    t.exports = Array.isArray || function (t) {
      return "Array" == e(t)
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(70), i = r(66), o = r(81), u = {};
    r(27)(u, r(7)("iterator"), function () {
      return this
    }), t.exports = function (t, n, r) {
      t.prototype = e(u, {next: i(1, r)}), o(t, n + " Iterator")
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(69), i = r(1), o = r(28), u = r(27), c = r(24), f = r(80), a = r(139), s = r(81), l = r(32),
      h = r(7)("iterator"), v = !([].keys && "next" in [].keys()), p = "keys", d = "values", y = function () {
        return this
      };
    t.exports = function (t, n, r, g, b, m, x) {
      a(r, n, g);
      var w, S, _, O = function (t) {
          if (!v && t in F) return F[t];
          switch (t) {
            case p:
            case d:
              return function () {
                return new r(this, t)
              }
          }
          return function () {
            return new r(this, t)
          }
        }, E = n + " Iterator", P = b == d, j = !1, F = t.prototype, M = F[h] || F["@@iterator"] || b && F[b],
        A = M || O(b), N = b ? P ? O("entries") : A : void 0, T = "Array" == n ? F.entries || M : M;
      if (T && (_ = l(T.call(new t))) !== Object.prototype && (s(_, E, !0), e || c(_, h) || u(_, h, y)), P && M && M.name !== d && (j = !0, A = function () {
          return M.call(this)
        }), e && !x || !v && !j && F[h] || u(F, h, A), f[n] = A, f[E] = y, b) if (w = {
          values: P ? A : O(d),
          keys: m ? A : O(p),
          entries: N
        }, x) for (S in w) S in F || o(F, S, w[S]); else i(i.P + i.F * (v || j), n, w);
      return w
    }
  }, function (t, n) {
    var r = Math.expm1;
    t.exports = !r || r(10) > 22025.465794806718 || r(10) < 22025.465794806718 || -2e-17 != r(-2e-17) ? function (t) {
      return 0 == (t = +t) ? t : t > -1e-6 && t < 1e-6 ? t + t * t / 2 : Math.exp(t) - 1
    } : r
  }, function (t, n) {
    t.exports = Math.sign || function (t) {
      return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
    }
  }, function (t, n, r) {
    var e = r(3), i = r(151).set, o = e.MutationObserver || e.WebKitMutationObserver, u = e.process, c = e.Promise,
      f = "process" == r(45)(u);
    t.exports = function () {
      var t, n, r, a = function () {
        var e, i;
        for (f && (e = u.domain) && e.exit(); t;) {
          i = t.fn, t = t.next;
          try {
            i()
          } catch (e) {
            throw t ? r() : n = void 0, e
          }
        }
        n = void 0, e && e.enter()
      };
      if (f) r = function () {
        u.nextTick(a)
      }; else if (o) {
        var s = !0, l = document.createTextNode("");
        new o(a).observe(l, {characterData: !0}), r = function () {
          l.data = s = !s
        }
      } else if (c && c.resolve) {
        var h = c.resolve();
        r = function () {
          h.then(a)
        }
      } else r = function () {
        i.call(e, a)
      };
      return function (e) {
        var i = {fn: e, next: void 0};
        n && (n.next = i), t || (t = i, r()), n = i
      }
    }
  }, function (t, n, r) {
    var e = r(6), i = r(2), o = function (t, n) {
      if (i(t), !e(n) && null !== n) throw TypeError(n + ": can't set as prototype!")
    };
    t.exports = {
      set: Object.setPrototypeOf || ("__proto__" in {} ? function (t, n, e) {
        try {
          e = r(53)(Function.call, r(31).f(Object.prototype, "__proto__").set, 2), e(t, []), n = !(t instanceof Array)
        } catch (t) {
          n = !0
        }
        return function (t, r) {
          return o(t, r), n ? t.__proto__ = r : e(t, r), t
        }
      }({}, !1) : void 0), check: o
    }
  }, function (t, n, r) {
    var e = r(126)("keys"), i = r(76);
    t.exports = function (t) {
      return e[t] || (e[t] = i(t))
    }
  }, function (t, n, r) {
    var e = r(2), i = r(26), o = r(7)("species");
    t.exports = function (t, n) {
      var r, u = e(t).constructor;
      return void 0 === u || void 0 == (r = e(u)[o]) ? n : i(r)
    }
  }, function (t, n, r) {
    var e = r(67), i = r(46);
    t.exports = function (t) {
      return function (n, r) {
        var o, u, c = String(i(n)), f = e(r), a = c.length;
        return f < 0 || f >= a ? t ? "" : void 0 : (o = c.charCodeAt(f), o < 55296 || o > 56319 || f + 1 === a || (u = c.charCodeAt(f + 1)) < 56320 || u > 57343 ? t ? c.charAt(f) : o : t ? c.slice(f, f + 2) : u - 56320 + (o - 55296 << 10) + 65536)
      }
    }
  }, function (t, n, r) {
    var e = r(122), i = r(46);
    t.exports = function (t, n, r) {
      if (e(n)) throw TypeError("String#" + r + " doesn't accept regex!");
      return String(i(t))
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(67), i = r(46);
    t.exports = function (t) {
      var n = String(i(this)), r = "", o = e(t);
      if (o < 0 || o == 1 / 0) throw RangeError("Count can't be negative");
      for (; o > 0; (o >>>= 1) && (n += n)) 1 & o && (r += n);
      return r
    }
  }, function (t, n) {
    t.exports = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"
  }, function (t, n, r) {
    var e, i, o, u = r(53), c = r(121), f = r(135), a = r(132), s = r(3), l = s.process, h = s.setImmediate,
      v = s.clearImmediate, p = s.MessageChannel, d = 0, y = {}, g = "onreadystatechange", b = function () {
        var t = +this;
        if (y.hasOwnProperty(t)) {
          var n = y[t];
          delete y[t], n()
        }
      }, m = function (t) {
        b.call(t.data)
      };
    h && v || (h = function (t) {
      for (var n = [], r = 1; arguments.length > r;) n.push(arguments[r++]);
      return y[++d] = function () {
        c("function" == typeof t ? t : Function(t), n)
      }, e(d), d
    }, v = function (t) {
      delete y[t]
    }, "process" == r(45)(l) ? e = function (t) {
      l.nextTick(u(b, t, 1))
    } : p ? (i = new p, o = i.port2, i.port1.onmessage = m, e = u(o.postMessage, o, 1)) : s.addEventListener && "function" == typeof postMessage && !s.importScripts ? (e = function (t) {
      s.postMessage(t + "", "*")
    }, s.addEventListener("message", m, !1)) : e = g in a("script") ? function (t) {
      f.appendChild(a("script"))[g] = function () {
        f.removeChild(this), b.call(t)
      }
    } : function (t) {
      setTimeout(u(b, t, 1), 0)
    }), t.exports = {set: h, clear: v}
  }, function (t, n, r) {
    "use strict";
    var e = r(3), i = r(10), o = r(69), u = r(127), c = r(27), f = r(73), a = r(4), s = r(68), l = r(67), h = r(16),
      v = r(71).f, p = r(11).f, d = r(130), y = r(81), g = "ArrayBuffer", b = "DataView", m = "prototype",
      x = "Wrong length!", w = "Wrong index!", S = e[g], _ = e[b], O = e.Math, E = e.RangeError, P = e.Infinity, j = S,
      F = O.abs, M = O.pow, A = O.floor, N = O.log, T = O.LN2, I = "buffer", k = "byteLength", L = "byteOffset",
      R = i ? "_b" : I, C = i ? "_l" : k, D = i ? "_o" : L, U = function (t, n, r) {
        var e, i, o, u = Array(r), c = 8 * r - n - 1, f = (1 << c) - 1, a = f >> 1,
          s = 23 === n ? M(2, -24) - M(2, -77) : 0, l = 0, h = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for (t = F(t), t != t || t === P ? (i = t != t ? 1 : 0, e = f) : (e = A(N(t) / T), t * (o = M(2, -e)) < 1 && (e--, o *= 2), t += e + a >= 1 ? s / o : s * M(2, 1 - a), t * o >= 2 && (e++, o /= 2), e + a >= f ? (i = 0, e = f) : e + a >= 1 ? (i = (t * o - 1) * M(2, n), e += a) : (i = t * M(2, a - 1) * M(2, n), e = 0)); n >= 8; u[l++] = 255 & i, i /= 256, n -= 8) ;
        for (e = e << n | i, c += n; c > 0; u[l++] = 255 & e, e /= 256, c -= 8) ;
        return u[--l] |= 128 * h, u
      }, W = function (t, n, r) {
        var e, i = 8 * r - n - 1, o = (1 << i) - 1, u = o >> 1, c = i - 7, f = r - 1, a = t[f--], s = 127 & a;
        for (a >>= 7; c > 0; s = 256 * s + t[f], f--, c -= 8) ;
        for (e = s & (1 << -c) - 1, s >>= -c, c += n; c > 0; e = 256 * e + t[f], f--, c -= 8) ;
        if (0 === s) s = 1 - u; else {
          if (s === o) return e ? NaN : a ? -P : P;
          e += M(2, n), s -= u
        }
        return (a ? -1 : 1) * e * M(2, s - n)
      }, G = function (t) {
        return t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0]
      }, B = function (t) {
        return [255 & t]
      }, V = function (t) {
        return [255 & t, t >> 8 & 255]
      }, z = function (t) {
        return [255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255]
      }, q = function (t) {
        return U(t, 52, 8)
      }, K = function (t) {
        return U(t, 23, 4)
      }, J = function (t, n, r) {
        p(t[m], n, {
          get: function () {
            return this[r]
          }
        })
      }, Y = function (t, n, r, e) {
        var i = +r, o = l(i);
        if (i != o || o < 0 || o + n > t[C]) throw E(w);
        var u = t[R]._b, c = o + t[D], f = u.slice(c, c + n);
        return e ? f : f.reverse()
      }, H = function (t, n, r, e, i, o) {
        var u = +r, c = l(u);
        if (u != c || c < 0 || c + n > t[C]) throw E(w);
        for (var f = t[R]._b, a = c + t[D], s = e(+i), h = 0; h < n; h++) f[a + h] = s[o ? h : n - h - 1]
      }, $ = function (t, n) {
        s(t, S, g);
        var r = +n, e = h(r);
        if (r != e) throw E(x);
        return e
      };
    if (u.ABV) {
      if (!a(function () {
          new S
        }) || !a(function () {
          new S(.5)
        })) {
        S = function (t) {
          return new j($(this, t))
        };
        for (var X, Q = S[m] = j[m], Z = v(j), tt = 0; Z.length > tt;) (X = Z[tt++]) in S || c(S, X, j[X]);
        o || (Q.constructor = S)
      }
      var nt = new _(new S(2)), rt = _[m].setInt8;
      nt.setInt8(0, 2147483648), nt.setInt8(1, 2147483649), !nt.getInt8(0) && nt.getInt8(1) || f(_[m], {
        setInt8: function (t, n) {
          rt.call(this, t, n << 24 >> 24)
        }, setUint8: function (t, n) {
          rt.call(this, t, n << 24 >> 24)
        }
      }, !0)
    } else S = function (t) {
      var n = $(this, t);
      this._b = d.call(Array(n), 0), this[C] = n
    }, _ = function (t, n, r) {
      s(this, _, b), s(t, S, b);
      var e = t[C], i = l(n);
      if (i < 0 || i > e) throw E("Wrong offset!");
      if (r = void 0 === r ? e - i : h(r), i + r > e) throw E(x);
      this[R] = t, this[D] = i, this[C] = r
    }, i && (J(S, k, "_l"), J(_, I, "_b"), J(_, k, "_l"), J(_, L, "_o")), f(_[m], {
      getInt8: function (t) {
        return Y(this, 1, t)[0] << 24 >> 24
      }, getUint8: function (t) {
        return Y(this, 1, t)[0]
      }, getInt16: function (t) {
        var n = Y(this, 2, t, arguments[1]);
        return (n[1] << 8 | n[0]) << 16 >> 16
      }, getUint16: function (t) {
        var n = Y(this, 2, t, arguments[1]);
        return n[1] << 8 | n[0]
      }, getInt32: function (t) {
        return G(Y(this, 4, t, arguments[1]))
      }, getUint32: function (t) {
        return G(Y(this, 4, t, arguments[1])) >>> 0
      }, getFloat32: function (t) {
        return W(Y(this, 4, t, arguments[1]), 23, 4)
      }, getFloat64: function (t) {
        return W(Y(this, 8, t, arguments[1]), 52, 8)
      }, setInt8: function (t, n) {
        H(this, 1, t, B, n)
      }, setUint8: function (t, n) {
        H(this, 1, t, B, n)
      }, setInt16: function (t, n) {
        H(this, 2, t, V, n, arguments[2])
      }, setUint16: function (t, n) {
        H(this, 2, t, V, n, arguments[2])
      }, setInt32: function (t, n) {
        H(this, 4, t, z, n, arguments[2])
      }, setUint32: function (t, n) {
        H(this, 4, t, z, n, arguments[2])
      }, setFloat32: function (t, n) {
        H(this, 4, t, K, n, arguments[2])
      }, setFloat64: function (t, n) {
        H(this, 8, t, q, n, arguments[2])
      }
    });
    y(S, g), y(_, b), c(_[m], u.VIEW, !0), n[g] = S, n[b] = _
  }, function (t, n, r) {
    var e = r(3), i = r(52), o = r(69), u = r(182), c = r(11).f;
    t.exports = function (t) {
      var n = i.Symbol || (i.Symbol = o ? {} : e.Symbol || {});
      "_" == t.charAt(0) || t in n || c(n, t, {value: u.f(t)})
    }
  }, function (t, n, r) {
    var e = r(114), i = r(7)("iterator"), o = r(80);
    t.exports = r(52).getIteratorMethod = function (t) {
      if (void 0 != t) return t[i] || t["@@iterator"] || o[e(t)]
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(78), i = r(170), o = r(80), u = r(30);
    t.exports = r(140)(Array, "Array", function (t, n) {
      this._t = u(t), this._i = 0, this._k = n
    }, function () {
      var t = this._t, n = this._k, r = this._i++;
      return !t || r >= t.length ? (this._t = void 0, i(1)) : "keys" == n ? i(0, r) : "values" == n ? i(0, t[r]) : i(0, [r, t[r]])
    }, "values"), o.Arguments = o.Array, e("keys"), e("values"), e("entries")
  }, function (t, n) {
    function r(t, n) {
      t.classList ? t.classList.add(n) : t.className += " " + n
    }

    t.exports = r
  }, function (t, n) {
    function r(t, n) {
      if (t.classList) t.classList.remove(n); else {
        var r = new RegExp("(^|\\b)" + n.split(" ").join("|") + "(\\b|$)", "gi");
        t.className = t.className.replace(r, " ")
      }
    }

    t.exports = r
  }, function (t, n) {
    function r() {
      throw new Error("setTimeout has not been defined")
    }

    function e() {
      throw new Error("clearTimeout has not been defined")
    }

    function i(t) {
      if (s === setTimeout) return setTimeout(t, 0);
      if ((s === r || !s) && setTimeout) return s = setTimeout, setTimeout(t, 0);
      try {
        return s(t, 0)
      } catch (n) {
        try {
          return s.call(null, t, 0)
        } catch (n) {
          return s.call(this, t, 0)
        }
      }
    }

    function o(t) {
      if (l === clearTimeout) return clearTimeout(t);
      if ((l === e || !l) && clearTimeout) return l = clearTimeout, clearTimeout(t);
      try {
        return l(t)
      } catch (n) {
        try {
          return l.call(null, t)
        } catch (n) {
          return l.call(this, t)
        }
      }
    }

    function u() {
      d && v && (d = !1, v.length ? p = v.concat(p) : y = -1, p.length && c())
    }

    function c() {
      if (!d) {
        var t = i(u);
        d = !0;
        for (var n = p.length; n;) {
          for (v = p, p = []; ++y < n;) v && v[y].run();
          y = -1, n = p.length
        }
        v = null, d = !1, o(t)
      }
    }

    function f(t, n) {
      this.fun = t, this.array = n
    }

    function a() {
    }

    var s, l, h = t.exports = {};
    !function () {
      try {
        s = "function" == typeof setTimeout ? setTimeout : r
      } catch (t) {
        s = r
      }
      try {
        l = "function" == typeof clearTimeout ? clearTimeout : e
      } catch (t) {
        l = e
      }
    }();
    var v, p = [], d = !1, y = -1;
    h.nextTick = function (t) {
      var n = new Array(arguments.length - 1);
      if (arguments.length > 1) for (var r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
      p.push(new f(t, n)), 1 !== p.length || d || i(c)
    }, f.prototype.run = function () {
      this.fun.apply(null, this.array)
    }, h.title = "browser", h.browser = !0, h.env = {}, h.argv = [], h.version = "", h.versions = {}, h.on = a, h.addListener = a, h.once = a, h.off = a, h.removeListener = a, h.removeAllListeners = a, h.emit = a, h.prependListener = a, h.prependOnceListener = a, h.listeners = function (t) {
      return []
    }, h.binding = function (t) {
      throw new Error("process.binding is not supported")
    }, h.cwd = function () {
      return "/"
    }, h.chdir = function (t) {
      throw new Error("process.chdir is not supported")
    }, h.umask = function () {
      return 0
    }
  }, function (t, n, r) {
    var e = r(45);
    t.exports = function (t, n) {
      if ("number" != typeof t && "Number" != e(t)) throw TypeError(n);
      return +t
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(17), i = r(75), o = r(16);
    t.exports = [].copyWithin || function (t, n) {
      var r = e(this), u = o(r.length), c = i(t, u), f = i(n, u), a = arguments.length > 2 ? arguments[2] : void 0,
        s = Math.min((void 0 === a ? u : i(a, u)) - f, u - c), l = 1;
      for (f < c && c < f + s && (l = -1, f += s - 1, c += s - 1); s-- > 0;) f in r ? r[c] = r[f] : delete r[c], c += l, f += l;
      return r
    }
  }, function (t, n, r) {
    var e = r(79);
    t.exports = function (t, n) {
      var r = [];
      return e(t, !1, r.push, r, n), r
    }
  }, function (t, n, r) {
    var e = r(26), i = r(17), o = r(115), u = r(16);
    t.exports = function (t, n, r, c, f) {
      e(n);
      var a = i(t), s = o(a), l = u(a.length), h = f ? l - 1 : 0, v = f ? -1 : 1;
      if (r < 2) for (; ;) {
        if (h in s) {
          c = s[h], h += v;
          break
        }
        if (h += v, f ? h < 0 : l <= h) throw TypeError("Reduce of empty array with no initial value")
      }
      for (; f ? h >= 0 : l > h; h += v) h in s && (c = n(c, s[h], h, a));
      return c
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(26), i = r(6), o = r(121), u = [].slice, c = {}, f = function (t, n, r) {
      if (!(n in c)) {
        for (var e = [], i = 0; i < n; i++) e[i] = "a[" + i + "]";
        c[n] = Function("F,a", "return new F(" + e.join(",") + ")")
      }
      return c[n](t, r)
    };
    t.exports = Function.bind || function (t) {
      var n = e(this), r = u.call(arguments, 1), c = function () {
        var e = r.concat(u.call(arguments));
        return this instanceof c ? f(n, e.length, e) : o(n, e, t)
      };
      return i(n.prototype) && (c.prototype = n.prototype), c
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(11).f, i = r(70), o = r(73), u = r(53), c = r(68), f = r(46), a = r(79), s = r(140), l = r(170),
      h = r(74), v = r(10), p = r(65).fastKey, d = v ? "_s" : "size", y = function (t, n) {
        var r, e = p(n);
        if ("F" !== e) return t._i[e];
        for (r = t._f; r; r = r.n) if (r.k == n) return r
      };
    t.exports = {
      getConstructor: function (t, n, r, s) {
        var l = t(function (t, e) {
          c(t, l, n, "_i"), t._i = i(null), t._f = void 0, t._l = void 0, t[d] = 0, void 0 != e && a(e, r, t[s], t)
        });
        return o(l.prototype, {
          clear: function () {
            for (var t = this, n = t._i, r = t._f; r; r = r.n) r.r = !0, r.p && (r.p = r.p.n = void 0), delete n[r.i];
            t._f = t._l = void 0, t[d] = 0
          }, delete: function (t) {
            var n = this, r = y(n, t);
            if (r) {
              var e = r.n, i = r.p;
              delete n._i[r.i], r.r = !0, i && (i.n = e), e && (e.p = i), n._f == r && (n._f = e), n._l == r && (n._l = i), n[d]--
            }
            return !!r
          }, forEach: function (t) {
            c(this, l, "forEach");
            for (var n, r = u(t, arguments.length > 1 ? arguments[1] : void 0, 3); n = n ? n.n : this._f;) for (r(n.v, n.k, this); n && n.r;) n = n.p
          }, has: function (t) {
            return !!y(this, t)
          }
        }), v && e(l.prototype, "size", {
          get: function () {
            return f(this[d])
          }
        }), l
      }, def: function (t, n, r) {
        var e, i, o = y(t, n);
        return o ? o.v = r : (t._l = o = {
          i: i = p(n, !0),
          k: n,
          v: r,
          p: e = t._l,
          n: void 0,
          r: !1
        }, t._f || (t._f = o), e && (e.n = o), t[d]++, "F" !== i && (t._i[i] = o)), t
      }, getEntry: y, setStrong: function (t, n, r) {
        s(t, n, function (t, n) {
          this._t = t, this._k = n, this._l = void 0
        }, function () {
          for (var t = this, n = t._k, r = t._l; r && r.r;) r = r.p;
          return t._t && (t._l = r = r ? r.n : t._t._f) ? "keys" == n ? l(0, r.k) : "values" == n ? l(0, r.v) : l(0, [r.k, r.v]) : (t._t = void 0, l(1))
        }, r ? "entries" : "values", !r, !0), h(n)
      }
    }
  }, function (t, n, r) {
    var e = r(114), i = r(161);
    t.exports = function (t) {
      return function () {
        if (e(this) != t) throw TypeError(t + "#toJSON isn't generic");
        return i(this)
      }
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(73), i = r(65).getWeak, o = r(2), u = r(6), c = r(68), f = r(79), a = r(48), s = r(24), l = a(5),
      h = a(6), v = 0, p = function (t) {
        return t._l || (t._l = new d)
      }, d = function () {
        this.a = []
      }, y = function (t, n) {
        return l(t.a, function (t) {
          return t[0] === n
        })
      };
    d.prototype = {
      get: function (t) {
        var n = y(this, t);
        if (n) return n[1]
      }, has: function (t) {
        return !!y(this, t)
      }, set: function (t, n) {
        var r = y(this, t);
        r ? r[1] = n : this.a.push([t, n])
      }, delete: function (t) {
        var n = h(this.a, function (n) {
          return n[0] === t
        });
        return ~n && this.a.splice(n, 1), !!~n
      }
    }, t.exports = {
      getConstructor: function (t, n, r, o) {
        var a = t(function (t, e) {
          c(t, a, n, "_i"), t._i = v++, t._l = void 0, void 0 != e && f(e, r, t[o], t)
        });
        return e(a.prototype, {
          delete: function (t) {
            if (!u(t)) return !1;
            var n = i(t);
            return !0 === n ? p(this).delete(t) : n && s(n, this._i) && delete n[this._i]
          }, has: function (t) {
            if (!u(t)) return !1;
            var n = i(t);
            return !0 === n ? p(this).has(t) : n && s(n, this._i)
          }
        }), a
      }, def: function (t, n, r) {
        var e = i(o(n), !0);
        return !0 === e ? p(t).set(n, r) : e[t._i] = r, t
      }, ufstore: p
    }
  }, function (t, n, r) {
    t.exports = !r(10) && !r(4)(function () {
      return 7 != Object.defineProperty(r(132)("div"), "a", {
        get: function () {
          return 7
        }
      }).a
    })
  }, function (t, n, r) {
    var e = r(6), i = Math.floor;
    t.exports = function (t) {
      return !e(t) && isFinite(t) && i(t) === t
    }
  }, function (t, n, r) {
    var e = r(2);
    t.exports = function (t, n, r, i) {
      try {
        return i ? n(e(r)[0], r[1]) : n(r)
      } catch (n) {
        var o = t.return;
        throw void 0 !== o && e(o.call(t)), n
      }
    }
  }, function (t, n) {
    t.exports = function (t, n) {
      return {value: n, done: !!t}
    }
  }, function (t, n) {
    t.exports = Math.log1p || function (t) {
      return (t = +t) > -1e-8 && t < 1e-8 ? t - t * t / 2 : Math.log(1 + t)
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(72), i = r(125), o = r(116), u = r(17), c = r(115), f = Object.assign;
    t.exports = !f || r(4)(function () {
      var t = {}, n = {}, r = Symbol(), e = "abcdefghijklmnopqrst";
      return t[r] = 7, e.split("").forEach(function (t) {
        n[t] = t
      }), 7 != f({}, t)[r] || Object.keys(f({}, n)).join("") != e
    }) ? function (t, n) {
      for (var r = u(t), f = arguments.length, a = 1, s = i.f, l = o.f; f > a;) for (var h, v = c(arguments[a++]), p = s ? e(v).concat(s(v)) : e(v), d = p.length, y = 0; d > y;) l.call(v, h = p[y++]) && (r[h] = v[h]);
      return r
    } : f
  }, function (t, n, r) {
    var e = r(11), i = r(2), o = r(72);
    t.exports = r(10) ? Object.defineProperties : function (t, n) {
      i(t);
      for (var r, u = o(n), c = u.length, f = 0; c > f;) e.f(t, r = u[f++], n[r]);
      return t
    }
  }, function (t, n, r) {
    var e = r(30), i = r(71).f, o = {}.toString,
      u = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],
      c = function (t) {
        try {
          return i(t)
        } catch (t) {
          return u.slice()
        }
      };
    t.exports.f = function (t) {
      return u && "[object Window]" == o.call(t) ? c(t) : i(e(t))
    }
  }, function (t, n, r) {
    var e = r(24), i = r(30), o = r(117)(!1), u = r(145)("IE_PROTO");
    t.exports = function (t, n) {
      var r, c = i(t), f = 0, a = [];
      for (r in c) r != u && e(c, r) && a.push(r);
      for (; n.length > f;) e(c, r = n[f++]) && (~o(a, r) || a.push(r));
      return a
    }
  }, function (t, n, r) {
    var e = r(72), i = r(30), o = r(116).f;
    t.exports = function (t) {
      return function (n) {
        for (var r, u = i(n), c = e(u), f = c.length, a = 0, s = []; f > a;) o.call(u, r = c[a++]) && s.push(t ? [r, u[r]] : u[r]);
        return s
      }
    }
  }, function (t, n, r) {
    var e = r(71), i = r(125), o = r(2), u = r(3).Reflect;
    t.exports = u && u.ownKeys || function (t) {
      var n = e.f(o(t)), r = i.f;
      return r ? n.concat(r(t)) : n
    }
  }, function (t, n, r) {
    var e = r(3).parseFloat, i = r(82).trim;
    t.exports = 1 / e(r(150) + "-0") != -1 / 0 ? function (t) {
      var n = i(String(t), 3), r = e(n);
      return 0 === r && "-" == n.charAt(0) ? -0 : r
    } : e
  }, function (t, n, r) {
    var e = r(3).parseInt, i = r(82).trim, o = r(150), u = /^[\-+]?0[xX]/;
    t.exports = 8 !== e(o + "08") || 22 !== e(o + "0x16") ? function (t, n) {
      var r = i(String(t), 3);
      return e(r, n >>> 0 || (u.test(r) ? 16 : 10))
    } : e
  }, function (t, n) {
    t.exports = Object.is || function (t, n) {
      return t === n ? 0 !== t || 1 / t == 1 / n : t != t && n != n
    }
  }, function (t, n, r) {
    var e = r(16), i = r(149), o = r(46);
    t.exports = function (t, n, r, u) {
      var c = String(o(t)), f = c.length, a = void 0 === r ? " " : String(r), s = e(n);
      if (s <= f || "" == a) return c;
      var l = s - f, h = i.call(a, Math.ceil(l / a.length));
      return h.length > l && (h = h.slice(0, l)), u ? h + c : c + h
    }
  }, function (t, n, r) {
    n.f = r(7)
  }, function (t, n, r) {
    "use strict";
    var e = r(164);
    t.exports = r(118)("Map", function (t) {
      return function () {
        return t(this, arguments.length > 0 ? arguments[0] : void 0)
      }
    }, {
      get: function (t) {
        var n = e.getEntry(this, t);
        return n && n.v
      }, set: function (t, n) {
        return e.def(this, 0 === t ? 0 : t, n)
      }
    }, e, !0)
  }, function (t, n, r) {
    r(10) && "g" != /./g.flags && r(11).f(RegExp.prototype, "flags", {configurable: !0, get: r(120)})
  }, function (t, n, r) {
    "use strict";
    var e = r(164);
    t.exports = r(118)("Set", function (t) {
      return function () {
        return t(this, arguments.length > 0 ? arguments[0] : void 0)
      }
    }, {
      add: function (t) {
        return e.def(this, t = 0 === t ? 0 : t, t)
      }
    }, e)
  }, function (t, n, r) {
    "use strict";
    var e, i = r(48)(0), o = r(28), u = r(65), c = r(172), f = r(166), a = r(6), s = u.getWeak, l = Object.isExtensible,
      h = f.ufstore, v = {}, p = function (t) {
        return function () {
          return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
      }, d = {
        get: function (t) {
          if (a(t)) {
            var n = s(t);
            return !0 === n ? h(this).get(t) : n ? n[this._i] : void 0
          }
        }, set: function (t, n) {
          return f.def(this, t, n)
        }
      }, y = t.exports = r(118)("WeakMap", p, d, f, !0, !0);
    7 != (new y).set((Object.freeze || Object)(v), 7).get(v) && (e = f.getConstructor(p), c(e.prototype, d), u.NEED = !0, i(["delete", "has", "get", "set"], function (t) {
      var n = y.prototype, r = n[t];
      o(n, t, function (n, i) {
        if (a(n) && !l(n)) {
          this._f || (this._f = new e);
          var o = this._f[t](n, i);
          return "set" == t ? this : o
        }
        return r.call(this, n, i)
      })
    }))
  }, , , , function (t, n) {
    "use strict";

    function r() {
      var t = document.querySelector("#page-nav");
      if (t && !document.querySelector("#page-nav .extend.prev") && (t.innerHTML = '<a class="extend prev disabled" rel="prev">&laquo; Prev</a>' + t.innerHTML), t && !document.querySelector("#page-nav .extend.next") && (t.innerHTML = t.innerHTML + '<a class="extend next disabled" rel="next">Next &raquo;</a>'), yiliaConfig && yiliaConfig.open_in_new) {
        document.querySelectorAll(".article-entry a:not(.article-more-a)").forEach(function (t) {
          var n = t.getAttribute("target");
          n && "" !== n || t.setAttribute("target", "_blank")
        })
      }
      if (yiliaConfig && yiliaConfig.toc_hide_index) {
        document.querySelectorAll(".toc-number").forEach(function (t) {
          t.style.display = "none"
        })
      }
      var n = document.querySelector("#js-aboutme");
      n && 0 !== n.length && (n.innerHTML = n.innerText)
    }

    t.exports = {init: r}
  }, function (t, n, r) {
    "use strict";

    function e(t) {
      return t && t.__esModule ? t : {default: t}
    }

    function i(t, n) {
      var r = /\/|index.html/g;
      return t.replace(r, "") === n.replace(r, "")
    }

    function o() {
      for (var t = document.querySelectorAll(".js-header-menu li a"), n = window.location.pathname, r = 0, e = t.length; r < e; r++) {
        var o = t[r];
        i(n, o.getAttribute("href")) && (0, h.default)(o, "active")
      }
    }

    function u(t) {
      for (var n = t.offsetLeft, r = t.offsetParent; null !== r;) n += r.offsetLeft, r = r.offsetParent;
      return n
    }

    function c(t) {
      for (var n = t.offsetTop, r = t.offsetParent; null !== r;) n += r.offsetTop, r = r.offsetParent;
      return n
    }

    function f(t, n, r, e, i) {
      var o = u(t), f = c(t) - n;
      if (f - r <= i) {
        var a = t.$newDom;
        a || (a = t.cloneNode(!0), (0, d.default)(t, a), t.$newDom = a, a.style.position = "fixed", a.style.top = (r || f) + "px", a.style.left = o + "px", a.style.zIndex = e || 2, a.style.width = "100%", a.style.color = "#fff"), a.style.visibility = "visible", t.style.visibility = "hidden"
      } else {
        t.style.visibility = "visible";
        var s = t.$newDom;
        s && (s.style.visibility = "hidden")
      }
    }

    function a() {
      var t = document.querySelector(".js-overlay"), n = document.querySelector(".js-header-menu");
      f(t, document.body.scrollTop, -63, 2, 0), f(n, document.body.scrollTop, 1, 3, 0)
    }

    function s() {
      document.querySelector("#container").addEventListener("scroll", function (t) {
        a()
      }), window.addEventListener("scroll", function (t) {
        a()
      }), a()
    }

    var l = r(156), h = e(l), v = r(157), p = (e(v), r(382)), d = e(p), y = r(128), g = e(y), b = r(190), m = e(b),
      x = r(129);
    (function () {
      g.default.versions.mobile && window.screen.width < 800 && (o(), s())
    })(), (0, x.addLoadEvent)(function () {
      m.default.init()
    }), t.exports = {}
  }, , , , function (t, n, r) {
    (function (t) {
      "use strict";

      function n(t, n, r) {
        t[n] || Object[e](t, n, {writable: !0, configurable: !0, value: r})
      }

      if (r(381), r(391), r(198), t._babelPolyfill) throw new Error("only one instance of babel-polyfill is allowed");
      t._babelPolyfill = !0;
      var e = "defineProperty";
      n(String.prototype, "padLeft", "".padStart), n(String.prototype, "padRight", "".padEnd), "pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function (t) {
        [][t] && n(Array, t, Function.call.bind([][t]))
      })
    }).call(n, function () {
      return this
    }())
  }, , , function (t, n, r) {
    r(210), t.exports = r(52).RegExp.escape
  }, , , , function (t, n, r) {
    var e = r(6), i = r(138), o = r(7)("species");
    t.exports = function (t) {
      var n;
      return i(t) && (n = t.constructor, "function" != typeof n || n !== Array && !i(n.prototype) || (n = void 0), e(n) && null === (n = n[o]) && (n = void 0)), void 0 === n ? Array : n
    }
  }, function (t, n, r) {
    var e = r(202);
    t.exports = function (t, n) {
      return new (e(t))(n)
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(2), i = r(50), o = "number";
    t.exports = function (t) {
      if ("string" !== t && t !== o && "default" !== t) throw TypeError("Incorrect hint");
      return i(e(this), t != o)
    }
  }, function (t, n, r) {
    var e = r(72), i = r(125), o = r(116);
    t.exports = function (t) {
      var n = e(t), r = i.f;
      if (r) for (var u, c = r(t), f = o.f, a = 0; c.length > a;) f.call(t, u = c[a++]) && n.push(u);
      return n
    }
  }, function (t, n, r) {
    var e = r(72), i = r(30);
    t.exports = function (t, n) {
      for (var r, o = i(t), u = e(o), c = u.length, f = 0; c > f;) if (o[r = u[f++]] === n) return r
    }
  }, function (t, n, r) {
    "use strict";
    var e = r(208), i = r(121), o = r(26);
    t.exports = function () {
      for (var t = o(this), n = arguments.length, r = Array(n), u = 0, c = e._, f = !1; n > u;) (r[u] = arguments[u++]) === c && (f = !0);
      return function () {
        var e, o = this, u = arguments.length, a = 0, s = 0;
        if (!f && !u) return i(t, r, o);
        if (e = r.slice(), f) for (; n > a; a++) e[a] === c && (e[a] = arguments[s++]);
        for (; u > s;) e.push(arguments[s++]);
        return i(t, e, o)
      }
    }
  }, function (t, n, r) {
    t.exports = r(3)
  }, function (t, n) {
    t.exports = function (t, n) {
      var r = n === Object(n) ? function (t) {
        return n[t]
      } : n;
      return function (n) {
        return String(n).replace(t, r)
      }
    }
  }, function (t, n, r) {
    var e = r(1), i = r(209)(/[\\^$*+?.()|[\]{}]/g, "\\$&");
    e(e.S, "RegExp", {
      escape: function (t) {
        return i(t)
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.P, "Array", {copyWithin: r(160)}), r(78)("copyWithin")
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(48)(4);
    e(e.P + e.F * !r(47)([].every, !0), "Array", {
      every: function (t) {
        return i(this, t, arguments[1])
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.P, "Array", {fill: r(130)}), r(78)("fill")
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(48)(2);
    e(e.P + e.F * !r(47)([].filter, !0), "Array", {
      filter: function (t) {
        return i(this, t, arguments[1])
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(48)(6), o = "findIndex", u = !0;
    o in [] && Array(1)[o](function () {
      u = !1
    }), e(e.P + e.F * u, "Array", {
      findIndex: function (t) {
        return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
      }
    }), r(78)(o)
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(48)(5), o = "find", u = !0;
    o in [] && Array(1)[o](function () {
      u = !1
    }), e(e.P + e.F * u, "Array", {
      find: function (t) {
        return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
      }
    }), r(78)(o)
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(48)(0), o = r(47)([].forEach, !0);
    e(e.P + e.F * !o, "Array", {
      forEach: function (t) {
        return i(this, t, arguments[1])
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(53), i = r(1), o = r(17), u = r(169), c = r(137), f = r(16), a = r(131), s = r(154);
    i(i.S + i.F * !r(123)(function (t) {
      Array.from(t)
    }), "Array", {
      from: function (t) {
        var n, r, i, l, h = o(t), v = "function" == typeof this ? this : Array, p = arguments.length,
          d = p > 1 ? arguments[1] : void 0, y = void 0 !== d, g = 0, b = s(h);
        if (y && (d = e(d, p > 2 ? arguments[2] : void 0, 2)), void 0 == b || v == Array && c(b)) for (n = f(h.length), r = new v(n); n > g; g++) a(r, g, y ? d(h[g], g) : h[g]); else for (l = b.call(h), r = new v; !(i = l.next()).done; g++) a(r, g, y ? u(l, d, [i.value, g], !0) : i.value);
        return r.length = g, r
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(117)(!1), o = [].indexOf, u = !!o && 1 / [1].indexOf(1, -0) < 0;
    e(e.P + e.F * (u || !r(47)(o)), "Array", {
      indexOf: function (t) {
        return u ? o.apply(this, arguments) || 0 : i(this, t, arguments[1])
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Array", {isArray: r(138)})
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(30), o = [].join;
    e(e.P + e.F * (r(115) != Object || !r(47)(o)), "Array", {
      join: function (t) {
        return o.call(i(this), void 0 === t ? "," : t)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(30), o = r(67), u = r(16), c = [].lastIndexOf, f = !!c && 1 / [1].lastIndexOf(1, -0) < 0;
    e(e.P + e.F * (f || !r(47)(c)), "Array", {
      lastIndexOf: function (t) {
        if (f) return c.apply(this, arguments) || 0;
        var n = i(this), r = u(n.length), e = r - 1;
        for (arguments.length > 1 && (e = Math.min(e, o(arguments[1]))), e < 0 && (e = r + e); e >= 0; e--) if (e in n && n[e] === t) return e || 0;
        return -1
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(48)(1);
    e(e.P + e.F * !r(47)([].map, !0), "Array", {
      map: function (t) {
        return i(this, t, arguments[1])
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(131);
    e(e.S + e.F * r(4)(function () {
      function t() {
      }

      return !(Array.of.call(t) instanceof t)
    }), "Array", {
      of: function () {
        for (var t = 0, n = arguments.length, r = new ("function" == typeof this ? this : Array)(n); n > t;) i(r, t, arguments[t++]);
        return r.length = n, r
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(162);
    e(e.P + e.F * !r(47)([].reduceRight, !0), "Array", {
      reduceRight: function (t) {
        return i(this, t, arguments.length, arguments[1], !0)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(162);
    e(e.P + e.F * !r(47)([].reduce, !0), "Array", {
      reduce: function (t) {
        return i(this, t, arguments.length, arguments[1], !1)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(135), o = r(45), u = r(75), c = r(16), f = [].slice;
    e(e.P + e.F * r(4)(function () {
      i && f.call(i)
    }), "Array", {
      slice: function (t, n) {
        var r = c(this.length), e = o(this);
        if (n = void 0 === n ? r : n, "Array" == e) return f.call(this, t, n);
        for (var i = u(t, r), a = u(n, r), s = c(a - i), l = Array(s), h = 0; h < s; h++) l[h] = "String" == e ? this.charAt(i + h) : this[i + h];
        return l
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(48)(3);
    e(e.P + e.F * !r(47)([].some, !0), "Array", {
      some: function (t) {
        return i(this, t, arguments[1])
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(26), o = r(17), u = r(4), c = [].sort, f = [1, 2, 3];
    e(e.P + e.F * (u(function () {
      f.sort(void 0)
    }) || !u(function () {
      f.sort(null)
    }) || !r(47)(c)), "Array", {
      sort: function (t) {
        return void 0 === t ? c.call(o(this)) : c.call(o(this), i(t))
      }
    })
  }, function (t, n, r) {
    r(74)("Array")
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Date", {
      now: function () {
        return (new Date).getTime()
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(4), o = Date.prototype.getTime, u = function (t) {
      return t > 9 ? t : "0" + t
    };
    e(e.P + e.F * (i(function () {
      return "0385-07-25T07:06:39.999Z" != new Date(-5e13 - 1).toISOString()
    }) || !i(function () {
      new Date(NaN).toISOString()
    })), "Date", {
      toISOString: function () {
        if (!isFinite(o.call(this))) throw RangeError("Invalid time value");
        var t = this, n = t.getUTCFullYear(), r = t.getUTCMilliseconds(), e = n < 0 ? "-" : n > 9999 ? "+" : "";
        return e + ("00000" + Math.abs(n)).slice(e ? -6 : -4) + "-" + u(t.getUTCMonth() + 1) + "-" + u(t.getUTCDate()) + "T" + u(t.getUTCHours()) + ":" + u(t.getUTCMinutes()) + ":" + u(t.getUTCSeconds()) + "." + (r > 99 ? r : "0" + u(r)) + "Z"
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(17), o = r(50);
    e(e.P + e.F * r(4)(function () {
      return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({
        toISOString: function () {
          return 1
        }
      })
    }), "Date", {
      toJSON: function (t) {
        var n = i(this), r = o(n);
        return "number" != typeof r || isFinite(r) ? n.toISOString() : null
      }
    })
  }, function (t, n, r) {
    var e = r(7)("toPrimitive"), i = Date.prototype;
    e in i || r(27)(i, e, r(204))
  }, function (t, n, r) {
    var e = Date.prototype, i = "Invalid Date", o = "toString", u = e[o], c = e.getTime;
    new Date(NaN) + "" != i && r(28)(e, o, function () {
      var t = c.call(this);
      return t === t ? u.call(this) : i
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.P, "Function", {bind: r(163)})
  }, function (t, n, r) {
    "use strict";
    var e = r(6), i = r(32), o = r(7)("hasInstance"), u = Function.prototype;
    o in u || r(11).f(u, o, {
      value: function (t) {
        if ("function" != typeof this || !e(t)) return !1;
        if (!e(this.prototype)) return t instanceof this;
        for (; t = i(t);) if (this.prototype === t) return !0;
        return !1
      }
    })
  }, function (t, n, r) {
    var e = r(11).f, i = r(66), o = r(24), u = Function.prototype, c = "name", f = Object.isExtensible || function () {
      return !0
    };
    c in u || r(10) && e(u, c, {
      configurable: !0, get: function () {
        try {
          var t = this, n = ("" + t).match(/^\s*function ([^ (]*)/)[1];
          return o(t, c) || !f(t) || e(t, c, i(5, n)), n
        } catch (t) {
          return ""
        }
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(171), o = Math.sqrt, u = Math.acosh;
    e(e.S + e.F * !(u && 710 == Math.floor(u(Number.MAX_VALUE)) && u(1 / 0) == 1 / 0), "Math", {
      acosh: function (t) {
        return (t = +t) < 1 ? NaN : t > 94906265.62425156 ? Math.log(t) + Math.LN2 : i(t - 1 + o(t - 1) * o(t + 1))
      }
    })
  }, function (t, n, r) {
    function e(t) {
      return isFinite(t = +t) && 0 != t ? t < 0 ? -e(-t) : Math.log(t + Math.sqrt(t * t + 1)) : t
    }

    var i = r(1), o = Math.asinh;
    i(i.S + i.F * !(o && 1 / o(0) > 0), "Math", {asinh: e})
  }, function (t, n, r) {
    var e = r(1), i = Math.atanh;
    e(e.S + e.F * !(i && 1 / i(-0) < 0), "Math", {
      atanh: function (t) {
        return 0 == (t = +t) ? t : Math.log((1 + t) / (1 - t)) / 2
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(142);
    e(e.S, "Math", {
      cbrt: function (t) {
        return i(t = +t) * Math.pow(Math.abs(t), 1 / 3)
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Math", {
      clz32: function (t) {
        return (t >>>= 0) ? 31 - Math.floor(Math.log(t + .5) * Math.LOG2E) : 32
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = Math.exp;
    e(e.S, "Math", {
      cosh: function (t) {
        return (i(t = +t) + i(-t)) / 2
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(141);
    e(e.S + e.F * (i != Math.expm1), "Math", {expm1: i})
  }, function (t, n, r) {
    var e = r(1), i = r(142), o = Math.pow, u = o(2, -52), c = o(2, -23), f = o(2, 127) * (2 - c), a = o(2, -126),
      s = function (t) {
        return t + 1 / u - 1 / u
      };
    e(e.S, "Math", {
      fround: function (t) {
        var n, r, e = Math.abs(t), o = i(t);
        return e < a ? o * s(e / a / c) * a * c : (n = (1 + c / u) * e, r = n - (n - e), r > f || r != r ? o * (1 / 0) : o * r)
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = Math.abs;
    e(e.S, "Math", {
      hypot: function (t, n) {
        for (var r, e, o = 0, u = 0, c = arguments.length, f = 0; u < c;) r = i(arguments[u++]), f < r ? (e = f / r, o = o * e * e + 1, f = r) : r > 0 ? (e = r / f, o += e * e) : o += r;
        return f === 1 / 0 ? 1 / 0 : f * Math.sqrt(o)
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = Math.imul;
    e(e.S + e.F * r(4)(function () {
      return -5 != i(4294967295, 5) || 2 != i.length
    }), "Math", {
      imul: function (t, n) {
        var r = 65535, e = +t, i = +n, o = r & e, u = r & i;
        return 0 | o * u + ((r & e >>> 16) * u + o * (r & i >>> 16) << 16 >>> 0)
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Math", {
      log10: function (t) {
        return Math.log(t) / Math.LN10
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Math", {log1p: r(171)})
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Math", {
      log2: function (t) {
        return Math.log(t) / Math.LN2
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Math", {sign: r(142)})
  }, function (t, n, r) {
    var e = r(1), i = r(141), o = Math.exp;
    e(e.S + e.F * r(4)(function () {
      return -2e-17 != !Math.sinh(-2e-17)
    }), "Math", {
      sinh: function (t) {
        return Math.abs(t = +t) < 1 ? (i(t) - i(-t)) / 2 : (o(t - 1) - o(-t - 1)) * (Math.E / 2)
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(141), o = Math.exp;
    e(e.S, "Math", {
      tanh: function (t) {
        var n = i(t = +t), r = i(-t);
        return n == 1 / 0 ? 1 : r == 1 / 0 ? -1 : (n - r) / (o(t) + o(-t))
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Math", {
      trunc: function (t) {
        return (t > 0 ? Math.floor : Math.ceil)(t)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(3), i = r(24), o = r(45), u = r(136), c = r(50), f = r(4), a = r(71).f, s = r(31).f, l = r(11).f,
      h = r(82).trim, v = "Number", p = e[v], d = p, y = p.prototype, g = o(r(70)(y)) == v,
      b = "trim" in String.prototype, m = function (t) {
        var n = c(t, !1);
        if ("string" == typeof n && n.length > 2) {
          n = b ? n.trim() : h(n, 3);
          var r, e, i, o = n.charCodeAt(0);
          if (43 === o || 45 === o) {
            if (88 === (r = n.charCodeAt(2)) || 120 === r) return NaN
          } else if (48 === o) {
            switch (n.charCodeAt(1)) {
              case 66:
              case 98:
                e = 2, i = 49;
                break;
              case 79:
              case 111:
                e = 8, i = 55;
                break;
              default:
                return +n
            }
            for (var u, f = n.slice(2), a = 0, s = f.length; a < s; a++) if ((u = f.charCodeAt(a)) < 48 || u > i) return NaN;
            return parseInt(f, e)
          }
        }
        return +n
      };
    if (!p(" 0o1") || !p("0b1") || p("+0x1")) {
      p = function (t) {
        var n = arguments.length < 1 ? 0 : t, r = this;
        return r instanceof p && (g ? f(function () {
          y.valueOf.call(r)
        }) : o(r) != v) ? u(new d(m(n)), r, p) : m(n)
      };
      for (var x, w = r(10) ? a(d) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), S = 0; w.length > S; S++) i(d, x = w[S]) && !i(p, x) && l(p, x, s(d, x));
      p.prototype = y, y.constructor = p, r(28)(e, v, p)
    }
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Number", {EPSILON: Math.pow(2, -52)})
  }, function (t, n, r) {
    var e = r(1), i = r(3).isFinite;
    e(e.S, "Number", {
      isFinite: function (t) {
        return "number" == typeof t && i(t)
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Number", {isInteger: r(168)})
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Number", {
      isNaN: function (t) {
        return t != t
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(168), o = Math.abs;
    e(e.S, "Number", {
      isSafeInteger: function (t) {
        return i(t) && o(t) <= 9007199254740991
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Number", {MAX_SAFE_INTEGER: 9007199254740991})
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Number", {MIN_SAFE_INTEGER: -9007199254740991})
  }, function (t, n, r) {
    var e = r(1), i = r(178);
    e(e.S + e.F * (Number.parseFloat != i), "Number", {parseFloat: i})
  }, function (t, n, r) {
    var e = r(1), i = r(179);
    e(e.S + e.F * (Number.parseInt != i), "Number", {parseInt: i})
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(67), o = r(159), u = r(149), c = 1..toFixed, f = Math.floor, a = [0, 0, 0, 0, 0, 0],
      s = "Number.toFixed: incorrect invocation!", l = "0", h = function (t, n) {
        for (var r = -1, e = n; ++r < 6;) e += t * a[r], a[r] = e % 1e7, e = f(e / 1e7)
      }, v = function (t) {
        for (var n = 6, r = 0; --n >= 0;) r += a[n], a[n] = f(r / t), r = r % t * 1e7
      }, p = function () {
        for (var t = 6, n = ""; --t >= 0;) if ("" !== n || 0 === t || 0 !== a[t]) {
          var r = String(a[t]);
          n = "" === n ? r : n + u.call(l, 7 - r.length) + r
        }
        return n
      }, d = function (t, n, r) {
        return 0 === n ? r : n % 2 == 1 ? d(t, n - 1, r * t) : d(t * t, n / 2, r)
      }, y = function (t) {
        for (var n = 0, r = t; r >= 4096;) n += 12, r /= 4096;
        for (; r >= 2;) n += 1, r /= 2;
        return n
      };
    e(e.P + e.F * (!!c && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !r(4)(function () {
      c.call({})
    })), "Number", {
      toFixed: function (t) {
        var n, r, e, c, f = o(this, s), a = i(t), g = "", b = l;
        if (a < 0 || a > 20) throw RangeError(s);
        if (f != f) return "NaN";
        if (f <= -1e21 || f >= 1e21) return String(f);
        if (f < 0 && (g = "-", f = -f), f > 1e-21) if (n = y(f * d(2, 69, 1)) - 69, r = n < 0 ? f * d(2, -n, 1) : f / d(2, n, 1), r *= 4503599627370496, (n = 52 - n) > 0) {
          for (h(0, r), e = a; e >= 7;) h(1e7, 0), e -= 7;
          for (h(d(10, e, 1), 0), e = n - 1; e >= 23;) v(1 << 23), e -= 23;
          v(1 << e), h(1, 1), v(2), b = p()
        } else h(0, r), h(1 << -n, 0), b = p() + u.call(l, a);
        return a > 0 ? (c = b.length, b = g + (c <= a ? "0." + u.call(l, a - c) + b : b.slice(0, c - a) + "." + b.slice(c - a))) : b = g + b, b
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(4), o = r(159), u = 1..toPrecision;
    e(e.P + e.F * (i(function () {
      return "1" !== u.call(1, void 0)
    }) || !i(function () {
      u.call({})
    })), "Number", {
      toPrecision: function (t) {
        var n = o(this, "Number#toPrecision: incorrect invocation!");
        return void 0 === t ? u.call(n) : u.call(n, t)
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S + e.F, "Object", {assign: r(172)})
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Object", {create: r(70)})
  }, function (t, n, r) {
    var e = r(1);
    e(e.S + e.F * !r(10), "Object", {defineProperties: r(173)})
  }, function (t, n, r) {
    var e = r(1);
    e(e.S + e.F * !r(10), "Object", {defineProperty: r(11).f})
  }, function (t, n, r) {
    var e = r(6), i = r(65).onFreeze;
    r(49)("freeze", function (t) {
      return function (n) {
        return t && e(n) ? t(i(n)) : n
      }
    })
  }, function (t, n, r) {
    var e = r(30), i = r(31).f;
    r(49)("getOwnPropertyDescriptor", function () {
      return function (t, n) {
        return i(e(t), n)
      }
    })
  }, function (t, n, r) {
    r(49)("getOwnPropertyNames", function () {
      return r(174).f
    })
  }, function (t, n, r) {
    var e = r(17), i = r(32);
    r(49)("getPrototypeOf", function () {
      return function (t) {
        return i(e(t))
      }
    })
  }, function (t, n, r) {
    var e = r(6);
    r(49)("isExtensible", function (t) {
      return function (n) {
        return !!e(n) && (!t || t(n))
      }
    })
  }, function (t, n, r) {
    var e = r(6);
    r(49)("isFrozen", function (t) {
      return function (n) {
        return !e(n) || !!t && t(n)
      }
    })
  }, function (t, n, r) {
    var e = r(6);
    r(49)("isSealed", function (t) {
      return function (n) {
        return !e(n) || !!t && t(n)
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Object", {is: r(180)})
  }, function (t, n, r) {
    var e = r(17), i = r(72);
    r(49)("keys", function () {
      return function (t) {
        return i(e(t))
      }
    })
  }, function (t, n, r) {
    var e = r(6), i = r(65).onFreeze;
    r(49)("preventExtensions", function (t) {
      return function (n) {
        return t && e(n) ? t(i(n)) : n
      }
    })
  }, function (t, n, r) {
    var e = r(6), i = r(65).onFreeze;
    r(49)("seal", function (t) {
      return function (n) {
        return t && e(n) ? t(i(n)) : n
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Object", {setPrototypeOf: r(144).set})
  }, function (t, n, r) {
    "use strict";
    var e = r(114), i = {};
    i[r(7)("toStringTag")] = "z", i + "" != "[object z]" && r(28)(Object.prototype, "toString", function () {
      return "[object " + e(this) + "]"
    }, !0)
  }, function (t, n, r) {
    var e = r(1), i = r(178);
    e(e.G + e.F * (parseFloat != i), {parseFloat: i})
  }, function (t, n, r) {
    var e = r(1), i = r(179);
    e(e.G + e.F * (parseInt != i), {parseInt: i})
  }, function (t, n, r) {
    "use strict";
    var e, i, o, u = r(69), c = r(3), f = r(53), a = r(114), s = r(1), l = r(6), h = r(26), v = r(68), p = r(79),
      d = r(146), y = r(151).set, g = r(143)(), b = "Promise", m = c.TypeError, x = c.process, w = c[b], x = c.process,
      S = "process" == a(x), _ = function () {
      }, O = !!function () {
        try {
          var t = w.resolve(1), n = (t.constructor = {})[r(7)("species")] = function (t) {
            t(_, _)
          };
          return (S || "function" == typeof PromiseRejectionEvent) && t.then(_) instanceof n
        } catch (t) {
        }
      }(), E = function (t, n) {
        return t === n || t === w && n === o
      }, P = function (t) {
        var n;
        return !(!l(t) || "function" != typeof(n = t.then)) && n
      }, j = function (t) {
        return E(w, t) ? new F(t) : new i(t)
      }, F = i = function (t) {
        var n, r;
        this.promise = new t(function (t, e) {
          if (void 0 !== n || void 0 !== r) throw m("Bad Promise constructor");
          n = t, r = e
        }), this.resolve = h(n), this.reject = h(r)
      }, M = function (t) {
        try {
          t()
        } catch (t) {
          return {error: t}
        }
      }, A = function (t, n) {
        if (!t._n) {
          t._n = !0;
          var r = t._c;
          g(function () {
            for (var e = t._v, i = 1 == t._s, o = 0; r.length > o;) !function (n) {
              var r, o, u = i ? n.ok : n.fail, c = n.resolve, f = n.reject, a = n.domain;
              try {
                u ? (i || (2 == t._h && I(t), t._h = 1), !0 === u ? r = e : (a && a.enter(), r = u(e), a && a.exit()), r === n.promise ? f(m("Promise-chain cycle")) : (o = P(r)) ? o.call(r, c, f) : c(r)) : f(e)
              } catch (t) {
                f(t)
              }
            }(r[o++]);
            t._c = [], t._n = !1, n && !t._h && N(t)
          })
        }
      }, N = function (t) {
        y.call(c, function () {
          var n, r, e, i = t._v;
          if (T(t) && (n = M(function () {
              S ? x.emit("unhandledRejection", i, t) : (r = c.onunhandledrejection) ? r({
                promise: t,
                reason: i
              }) : (e = c.console) && e.error && e.error("Unhandled promise rejection", i)
            }), t._h = S || T(t) ? 2 : 1), t._a = void 0, n) throw n.error
        })
      }, T = function (t) {
        if (1 == t._h) return !1;
        for (var n, r = t._a || t._c, e = 0; r.length > e;) if (n = r[e++], n.fail || !T(n.promise)) return !1;
        return !0
      }, I = function (t) {
        y.call(c, function () {
          var n;
          S ? x.emit("rejectionHandled", t) : (n = c.onrejectionhandled) && n({promise: t, reason: t._v})
        })
      }, k = function (t) {
        var n = this;
        n._d || (n._d = !0, n = n._w || n, n._v = t, n._s = 2, n._a || (n._a = n._c.slice()), A(n, !0))
      }, L = function (t) {
        var n, r = this;
        if (!r._d) {
          r._d = !0, r = r._w || r;
          try {
            if (r === t) throw m("Promise can't be resolved itself");
            (n = P(t)) ? g(function () {
              var e = {_w: r, _d: !1};
              try {
                n.call(t, f(L, e, 1), f(k, e, 1))
              } catch (t) {
                k.call(e, t)
              }
            }) : (r._v = t, r._s = 1, A(r, !1))
          } catch (t) {
            k.call({_w: r, _d: !1}, t)
          }
        }
      };
    O || (w = function (t) {
      v(this, w, b, "_h"), h(t), e.call(this);
      try {
        t(f(L, this, 1), f(k, this, 1))
      } catch (t) {
        k.call(this, t)
      }
    }, e = function (t) {
      this._c = [], this._a = void 0, this._s = 0, this._d = !1, this._v = void 0, this._h = 0, this._n = !1
    }, e.prototype = r(73)(w.prototype, {
      then: function (t, n) {
        var r = j(d(this, w));
        return r.ok = "function" != typeof t || t, r.fail = "function" == typeof n && n, r.domain = S ? x.domain : void 0, this._c.push(r), this._a && this._a.push(r), this._s && A(this, !1), r.promise
      }, catch: function (t) {
        return this.then(void 0, t)
      }
    }), F = function () {
      var t = new e;
      this.promise = t, this.resolve = f(L, t, 1), this.reject = f(k, t, 1)
    }), s(s.G + s.W + s.F * !O, {Promise: w}), r(81)(w, b), r(74)(b), o = r(52)[b], s(s.S + s.F * !O, b, {
      reject: function (t) {
        var n = j(this);
        return (0, n.reject)(t), n.promise
      }
    }), s(s.S + s.F * (u || !O), b, {
      resolve: function (t) {
        if (t instanceof w && E(t.constructor, this)) return t;
        var n = j(this);
        return (0, n.resolve)(t), n.promise
      }
    }), s(s.S + s.F * !(O && r(123)(function (t) {
      w.all(t).catch(_)
    })), b, {
      all: function (t) {
        var n = this, r = j(n), e = r.resolve, i = r.reject, o = M(function () {
          var r = [], o = 0, u = 1;
          p(t, !1, function (t) {
            var c = o++, f = !1;
            r.push(void 0), u++, n.resolve(t).then(function (t) {
              f || (f = !0, r[c] = t, --u || e(r))
            }, i)
          }), --u || e(r)
        });
        return o && i(o.error), r.promise
      }, race: function (t) {
        var n = this, r = j(n), e = r.reject, i = M(function () {
          p(t, !1, function (t) {
            n.resolve(t).then(r.resolve, e)
          })
        });
        return i && e(i.error), r.promise
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(26), o = r(2), u = (r(3).Reflect || {}).apply, c = Function.apply;
    e(e.S + e.F * !r(4)(function () {
      u(function () {
      })
    }), "Reflect", {
      apply: function (t, n, r) {
        var e = i(t), f = o(r);
        return u ? u(e, n, f) : c.call(e, n, f)
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(70), o = r(26), u = r(2), c = r(6), f = r(4), a = r(163), s = (r(3).Reflect || {}).construct,
      l = f(function () {
        function t() {
        }

        return !(s(function () {
        }, [], t) instanceof t)
      }), h = !f(function () {
        s(function () {
        })
      });
    e(e.S + e.F * (l || h), "Reflect", {
      construct: function (t, n) {
        o(t), u(n);
        var r = arguments.length < 3 ? t : o(arguments[2]);
        if (h && !l) return s(t, n, r);
        if (t == r) {
          switch (n.length) {
            case 0:
              return new t;
            case 1:
              return new t(n[0]);
            case 2:
              return new t(n[0], n[1]);
            case 3:
              return new t(n[0], n[1], n[2]);
            case 4:
              return new t(n[0], n[1], n[2], n[3])
          }
          var e = [null];
          return e.push.apply(e, n), new (a.apply(t, e))
        }
        var f = r.prototype, v = i(c(f) ? f : Object.prototype), p = Function.apply.call(t, v, n);
        return c(p) ? p : v
      }
    })
  }, function (t, n, r) {
    var e = r(11), i = r(1), o = r(2), u = r(50);
    i(i.S + i.F * r(4)(function () {
      Reflect.defineProperty(e.f({}, 1, {value: 1}), 1, {value: 2})
    }), "Reflect", {
      defineProperty: function (t, n, r) {
        o(t), n = u(n, !0), o(r);
        try {
          return e.f(t, n, r), !0
        } catch (t) {
          return !1
        }
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(31).f, o = r(2);
    e(e.S, "Reflect", {
      deleteProperty: function (t, n) {
        var r = i(o(t), n);
        return !(r && !r.configurable) && delete t[n]
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(2), o = function (t) {
      this._t = i(t), this._i = 0;
      var n, r = this._k = [];
      for (n in t) r.push(n)
    };
    r(139)(o, "Object", function () {
      var t, n = this, r = n._k;
      do {
        if (n._i >= r.length) return {value: void 0, done: !0}
      } while (!((t = r[n._i++]) in n._t));
      return {value: t, done: !1}
    }), e(e.S, "Reflect", {
      enumerate: function (t) {
        return new o(t)
      }
    })
  }, function (t, n, r) {
    var e = r(31), i = r(1), o = r(2);
    i(i.S, "Reflect", {
      getOwnPropertyDescriptor: function (t, n) {
        return e.f(o(t), n)
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(32), o = r(2);
    e(e.S, "Reflect", {
      getPrototypeOf: function (t) {
        return i(o(t))
      }
    })
  }, function (t, n, r) {
    function e(t, n) {
      var r, c, s = arguments.length < 3 ? t : arguments[2];
      return a(t) === s ? t[n] : (r = i.f(t, n)) ? u(r, "value") ? r.value : void 0 !== r.get ? r.get.call(s) : void 0 : f(c = o(t)) ? e(c, n, s) : void 0
    }

    var i = r(31), o = r(32), u = r(24), c = r(1), f = r(6), a = r(2);
    c(c.S, "Reflect", {get: e})
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Reflect", {
      has: function (t, n) {
        return n in t
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(2), o = Object.isExtensible;
    e(e.S, "Reflect", {
      isExtensible: function (t) {
        return i(t), !o || o(t)
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Reflect", {ownKeys: r(177)})
  }, function (t, n, r) {
    var e = r(1), i = r(2), o = Object.preventExtensions;
    e(e.S, "Reflect", {
      preventExtensions: function (t) {
        i(t);
        try {
          return o && o(t), !0
        } catch (t) {
          return !1
        }
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(144);
    i && e(e.S, "Reflect", {
      setPrototypeOf: function (t, n) {
        i.check(t, n);
        try {
          return i.set(t, n), !0
        } catch (t) {
          return !1
        }
      }
    })
  }, function (t, n, r) {
    function e(t, n, r) {
      var f, h, v = arguments.length < 4 ? t : arguments[3], p = o.f(s(t), n);
      if (!p) {
        if (l(h = u(t))) return e(h, n, r, v);
        p = a(0)
      }
      return c(p, "value") ? !(!1 === p.writable || !l(v) || (f = o.f(v, n) || a(0), f.value = r, i.f(v, n, f), 0)) : void 0 !== p.set && (p.set.call(v, r), !0)
    }

    var i = r(11), o = r(31), u = r(32), c = r(24), f = r(1), a = r(66), s = r(2), l = r(6);
    f(f.S, "Reflect", {set: e})
  }, function (t, n, r) {
    var e = r(3), i = r(136), o = r(11).f, u = r(71).f, c = r(122), f = r(120), a = e.RegExp, s = a, l = a.prototype,
      h = /a/g, v = /a/g, p = new a(h) !== h;
    if (r(10) && (!p || r(4)(function () {
        return v[r(7)("match")] = !1, a(h) != h || a(v) == v || "/a/i" != a(h, "i")
      }))) {
      a = function (t, n) {
        var r = this instanceof a, e = c(t), o = void 0 === n;
        return !r && e && t.constructor === a && o ? t : i(p ? new s(e && !o ? t.source : t, n) : s((e = t instanceof a) ? t.source : t, e && o ? f.call(t) : n), r ? this : l, a)
      };
      for (var d = u(s), y = 0; d.length > y;) !function (t) {
        t in a || o(a, t, {
          configurable: !0, get: function () {
            return s[t]
          }, set: function (n) {
            s[t] = n
          }
        })
      }(d[y++]);
      l.constructor = a, a.prototype = l, r(28)(e, "RegExp", a)
    }
    r(74)("RegExp")
  }, function (t, n, r) {
    r(119)("match", 1, function (t, n, r) {
      return [function (r) {
        "use strict";
        var e = t(this), i = void 0 == r ? void 0 : r[n];
        return void 0 !== i ? i.call(r, e) : new RegExp(r)[n](String(e))
      }, r]
    })
  }, function (t, n, r) {
    r(119)("replace", 2, function (t, n, r) {
      return [function (e, i) {
        "use strict";
        var o = t(this), u = void 0 == e ? void 0 : e[n];
        return void 0 !== u ? u.call(e, o, i) : r.call(String(o), e, i)
      }, r]
    })
  }, function (t, n, r) {
    r(119)("search", 1, function (t, n, r) {
      return [function (r) {
        "use strict";
        var e = t(this), i = void 0 == r ? void 0 : r[n];
        return void 0 !== i ? i.call(r, e) : new RegExp(r)[n](String(e))
      }, r]
    })
  }, function (t, n, r) {
    r(119)("split", 2, function (t, n, e) {
      "use strict";
      var i = r(122), o = e, u = [].push, c = "split", f = "length", a = "lastIndex";
      if ("c" == "abbc"[c](/(b)*/)[1] || 4 != "test"[c](/(?:)/, -1)[f] || 2 != "ab"[c](/(?:ab)*/)[f] || 4 != "."[c](/(.?)(.?)/)[f] || "."[c](/()()/)[f] > 1 || ""[c](/.?/)[f]) {
        var s = void 0 === /()??/.exec("")[1];
        e = function (t, n) {
          var r = String(this);
          if (void 0 === t && 0 === n) return [];
          if (!i(t)) return o.call(r, t, n);
          var e, c, l, h, v, p = [],
            d = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.unicode ? "u" : "") + (t.sticky ? "y" : ""),
            y = 0, g = void 0 === n ? 4294967295 : n >>> 0, b = new RegExp(t.source, d + "g");
          for (s || (e = new RegExp("^" + b.source + "$(?!\\s)", d)); (c = b.exec(r)) && !((l = c.index + c[0][f]) > y && (p.push(r.slice(y, c.index)), !s && c[f] > 1 && c[0].replace(e, function () {
            for (v = 1; v < arguments[f] - 2; v++) void 0 === arguments[v] && (c[v] = void 0)
          }), c[f] > 1 && c.index < r[f] && u.apply(p, c.slice(1)), h = c[0][f], y = l, p[f] >= g));) b[a] === c.index && b[a]++;
          return y === r[f] ? !h && b.test("") || p.push("") : p.push(r.slice(y)), p[f] > g ? p.slice(0, g) : p
        }
      } else "0"[c](void 0, 0)[f] && (e = function (t, n) {
        return void 0 === t && 0 === n ? [] : o.call(this, t, n)
      });
      return [function (r, i) {
        var o = t(this), u = void 0 == r ? void 0 : r[n];
        return void 0 !== u ? u.call(r, o, i) : e.call(String(o), r, i)
      }, e]
    })
  }, function (t, n, r) {
    "use strict";
    r(184);
    var e = r(2), i = r(120), o = r(10), u = "toString", c = /./[u], f = function (t) {
      r(28)(RegExp.prototype, u, t, !0)
    };
    r(4)(function () {
      return "/a/b" != c.call({source: "a", flags: "b"})
    }) ? f(function () {
      var t = e(this);
      return "/".concat(t.source, "/", "flags" in t ? t.flags : !o && t instanceof RegExp ? i.call(t) : void 0)
    }) : c.name != u && f(function () {
      return c.call(this)
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("anchor", function (t) {
      return function (n) {
        return t(this, "a", "name", n)
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("big", function (t) {
      return function () {
        return t(this, "big", "", "")
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("blink", function (t) {
      return function () {
        return t(this, "blink", "", "")
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("bold", function (t) {
      return function () {
        return t(this, "b", "", "")
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(147)(!1);
    e(e.P, "String", {
      codePointAt: function (t) {
        return i(this, t)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(16), o = r(148), u = "endsWith", c = ""[u];
    e(e.P + e.F * r(134)(u), "String", {
      endsWith: function (t) {
        var n = o(this, t, u), r = arguments.length > 1 ? arguments[1] : void 0, e = i(n.length),
          f = void 0 === r ? e : Math.min(i(r), e), a = String(t);
        return c ? c.call(n, a, f) : n.slice(f - a.length, f) === a
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("fixed", function (t) {
      return function () {
        return t(this, "tt", "", "")
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("fontcolor", function (t) {
      return function (n) {
        return t(this, "font", "color", n)
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("fontsize", function (t) {
      return function (n) {
        return t(this, "font", "size", n)
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(75), o = String.fromCharCode, u = String.fromCodePoint;
    e(e.S + e.F * (!!u && 1 != u.length), "String", {
      fromCodePoint: function (t) {
        for (var n, r = [], e = arguments.length, u = 0; e > u;) {
          if (n = +arguments[u++], i(n, 1114111) !== n) throw RangeError(n + " is not a valid code point");
          r.push(n < 65536 ? o(n) : o(55296 + ((n -= 65536) >> 10), n % 1024 + 56320))
        }
        return r.join("")
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(148), o = "includes";
    e(e.P + e.F * r(134)(o), "String", {
      includes: function (t) {
        return !!~i(this, t, o).indexOf(t, arguments.length > 1 ? arguments[1] : void 0)
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("italics", function (t) {
      return function () {
        return t(this, "i", "", "")
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(147)(!0);
    r(140)(String, "String", function (t) {
      this._t = String(t), this._i = 0
    }, function () {
      var t, n = this._t, r = this._i;
      return r >= n.length ? {value: void 0, done: !0} : (t = e(n, r), this._i += t.length, {value: t, done: !1})
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("link", function (t) {
      return function (n) {
        return t(this, "a", "href", n)
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(30), o = r(16);
    e(e.S, "String", {
      raw: function (t) {
        for (var n = i(t.raw), r = o(n.length), e = arguments.length, u = [], c = 0; r > c;) u.push(String(n[c++])), c < e && u.push(String(arguments[c]));
        return u.join("")
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.P, "String", {repeat: r(149)})
  }, function (t, n, r) {
    "use strict";
    r(29)("small", function (t) {
      return function () {
        return t(this, "small", "", "")
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(16), o = r(148), u = "startsWith", c = ""[u];
    e(e.P + e.F * r(134)(u), "String", {
      startsWith: function (t) {
        var n = o(this, t, u), r = i(Math.min(arguments.length > 1 ? arguments[1] : void 0, n.length)), e = String(t);
        return c ? c.call(n, e, r) : n.slice(r, r + e.length) === e
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("strike", function (t) {
      return function () {
        return t(this, "strike", "", "")
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("sub", function (t) {
      return function () {
        return t(this, "sub", "", "")
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(29)("sup", function (t) {
      return function () {
        return t(this, "sup", "", "")
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(82)("trim", function (t) {
      return function () {
        return t(this, 3)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(3), i = r(24), o = r(10), u = r(1), c = r(28), f = r(65).KEY, a = r(4), s = r(126), l = r(81), h = r(76),
      v = r(7), p = r(182), d = r(153), y = r(206), g = r(205), b = r(138), m = r(2), x = r(30), w = r(50), S = r(66),
      _ = r(70), O = r(174), E = r(31), P = r(11), j = r(72), F = E.f, M = P.f, A = O.f, N = e.Symbol, T = e.JSON,
      I = T && T.stringify, k = "prototype", L = v("_hidden"), R = v("toPrimitive"), C = {}.propertyIsEnumerable,
      D = s("symbol-registry"), U = s("symbols"), W = s("op-symbols"), G = Object[k], B = "function" == typeof N,
      V = e.QObject, z = !V || !V[k] || !V[k].findChild, q = o && a(function () {
        return 7 != _(M({}, "a", {
          get: function () {
            return M(this, "a", {value: 7}).a
          }
        })).a
      }) ? function (t, n, r) {
        var e = F(G, n);
        e && delete G[n], M(t, n, r), e && t !== G && M(G, n, e)
      } : M, K = function (t) {
        var n = U[t] = _(N[k]);
        return n._k = t, n
      }, J = B && "symbol" == typeof N.iterator ? function (t) {
        return "symbol" == typeof t
      } : function (t) {
        return t instanceof N
      }, Y = function (t, n, r) {
        return t === G && Y(W, n, r), m(t), n = w(n, !0), m(r), i(U, n) ? (r.enumerable ? (i(t, L) && t[L][n] && (t[L][n] = !1), r = _(r, {enumerable: S(0, !1)})) : (i(t, L) || M(t, L, S(1, {})), t[L][n] = !0), q(t, n, r)) : M(t, n, r)
      }, H = function (t, n) {
        m(t);
        for (var r, e = g(n = x(n)), i = 0, o = e.length; o > i;) Y(t, r = e[i++], n[r]);
        return t
      }, $ = function (t, n) {
        return void 0 === n ? _(t) : H(_(t), n)
      }, X = function (t) {
        var n = C.call(this, t = w(t, !0));
        return !(this === G && i(U, t) && !i(W, t)) && (!(n || !i(this, t) || !i(U, t) || i(this, L) && this[L][t]) || n)
      }, Q = function (t, n) {
        if (t = x(t), n = w(n, !0), t !== G || !i(U, n) || i(W, n)) {
          var r = F(t, n);
          return !r || !i(U, n) || i(t, L) && t[L][n] || (r.enumerable = !0), r
        }
      }, Z = function (t) {
        for (var n, r = A(x(t)), e = [], o = 0; r.length > o;) i(U, n = r[o++]) || n == L || n == f || e.push(n);
        return e
      }, tt = function (t) {
        for (var n, r = t === G, e = A(r ? W : x(t)), o = [], u = 0; e.length > u;) !i(U, n = e[u++]) || r && !i(G, n) || o.push(U[n]);
        return o
      };
    B || (N = function () {
      if (this instanceof N) throw TypeError("Symbol is not a constructor!");
      var t = h(arguments.length > 0 ? arguments[0] : void 0), n = function (r) {
        this === G && n.call(W, r), i(this, L) && i(this[L], t) && (this[L][t] = !1), q(this, t, S(1, r))
      };
      return o && z && q(G, t, {configurable: !0, set: n}), K(t)
    }, c(N[k], "toString", function () {
      return this._k
    }), E.f = Q, P.f = Y, r(71).f = O.f = Z, r(116).f = X, r(125).f = tt, o && !r(69) && c(G, "propertyIsEnumerable", X, !0), p.f = function (t) {
      return K(v(t))
    }), u(u.G + u.W + u.F * !B, {Symbol: N});
    for (var nt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), rt = 0; nt.length > rt;) v(nt[rt++]);
    for (var nt = j(v.store), rt = 0; nt.length > rt;) d(nt[rt++]);
    u(u.S + u.F * !B, "Symbol", {
      for: function (t) {
        return i(D, t += "") ? D[t] : D[t] = N(t)
      }, keyFor: function (t) {
        if (J(t)) return y(D, t);
        throw TypeError(t + " is not a symbol!")
      }, useSetter: function () {
        z = !0
      }, useSimple: function () {
        z = !1
      }
    }), u(u.S + u.F * !B, "Object", {
      create: $,
      defineProperty: Y,
      defineProperties: H,
      getOwnPropertyDescriptor: Q,
      getOwnPropertyNames: Z,
      getOwnPropertySymbols: tt
    }), T && u(u.S + u.F * (!B || a(function () {
      var t = N();
      return "[null]" != I([t]) || "{}" != I({a: t}) || "{}" != I(Object(t))
    })), "JSON", {
      stringify: function (t) {
        if (void 0 !== t && !J(t)) {
          for (var n, r, e = [t], i = 1; arguments.length > i;) e.push(arguments[i++]);
          return n = e[1], "function" == typeof n && (r = n), !r && b(n) || (n = function (t, n) {
            if (r && (n = r.call(this, t, n)), !J(n)) return n
          }), e[1] = n, I.apply(T, e)
        }
      }
    }), N[k][R] || r(27)(N[k], R, N[k].valueOf), l(N, "Symbol"), l(Math, "Math", !0), l(e.JSON, "JSON", !0)
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(127), o = r(152), u = r(2), c = r(75), f = r(16), a = r(6), s = r(3).ArrayBuffer, l = r(146),
      h = o.ArrayBuffer, v = o.DataView, p = i.ABV && s.isView, d = h.prototype.slice, y = i.VIEW, g = "ArrayBuffer";
    e(e.G + e.W + e.F * (s !== h), {ArrayBuffer: h}), e(e.S + e.F * !i.CONSTR, g, {
      isView: function (t) {
        return p && p(t) || a(t) && y in t
      }
    }), e(e.P + e.U + e.F * r(4)(function () {
      return !new h(2).slice(1, void 0).byteLength
    }), g, {
      slice: function (t, n) {
        if (void 0 !== d && void 0 === n) return d.call(u(this), t);
        for (var r = u(this).byteLength, e = c(t, r), i = c(void 0 === n ? r : n, r), o = new (l(this, h))(f(i - e)), a = new v(this), s = new v(o), p = 0; e < i;) s.setUint8(p++, a.getUint8(e++));
        return o
      }
    }), r(74)(g)
  }, function (t, n, r) {
    var e = r(1);
    e(e.G + e.W + e.F * !r(127).ABV, {DataView: r(152).DataView})
  }, function (t, n, r) {
    r(55)("Float32", 4, function (t) {
      return function (n, r, e) {
        return t(this, n, r, e)
      }
    })
  }, function (t, n, r) {
    r(55)("Float64", 8, function (t) {
      return function (n, r, e) {
        return t(this, n, r, e)
      }
    })
  }, function (t, n, r) {
    r(55)("Int16", 2, function (t) {
      return function (n, r, e) {
        return t(this, n, r, e)
      }
    })
  }, function (t, n, r) {
    r(55)("Int32", 4, function (t) {
      return function (n, r, e) {
        return t(this, n, r, e)
      }
    })
  }, function (t, n, r) {
    r(55)("Int8", 1, function (t) {
      return function (n, r, e) {
        return t(this, n, r, e)
      }
    })
  }, function (t, n, r) {
    r(55)("Uint16", 2, function (t) {
      return function (n, r, e) {
        return t(this, n, r, e)
      }
    })
  }, function (t, n, r) {
    r(55)("Uint32", 4, function (t) {
      return function (n, r, e) {
        return t(this, n, r, e)
      }
    })
  }, function (t, n, r) {
    r(55)("Uint8", 1, function (t) {
      return function (n, r, e) {
        return t(this, n, r, e)
      }
    })
  }, function (t, n, r) {
    r(55)("Uint8", 1, function (t) {
      return function (n, r, e) {
        return t(this, n, r, e)
      }
    }, !0)
  }, function (t, n, r) {
    "use strict";
    var e = r(166);
    r(118)("WeakSet", function (t) {
      return function () {
        return t(this, arguments.length > 0 ? arguments[0] : void 0)
      }
    }, {
      add: function (t) {
        return e.def(this, t, !0)
      }
    }, e, !1, !0)
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(117)(!0);
    e(e.P, "Array", {
      includes: function (t) {
        return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
      }
    }), r(78)("includes")
  }, function (t, n, r) {
    var e = r(1), i = r(143)(), o = r(3).process, u = "process" == r(45)(o);
    e(e.G, {
      asap: function (t) {
        var n = u && o.domain;
        i(n ? n.bind(t) : t)
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(45);
    e(e.S, "Error", {
      isError: function (t) {
        return "Error" === i(t)
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.P + e.R, "Map", {toJSON: r(165)("Map")})
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Math", {
      iaddh: function (t, n, r, e) {
        var i = t >>> 0, o = n >>> 0, u = r >>> 0;
        return o + (e >>> 0) + ((i & u | (i | u) & ~(i + u >>> 0)) >>> 31) | 0
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Math", {
      imulh: function (t, n) {
        var r = 65535, e = +t, i = +n, o = e & r, u = i & r, c = e >> 16, f = i >> 16,
          a = (c * u >>> 0) + (o * u >>> 16);
        return c * f + (a >> 16) + ((o * f >>> 0) + (a & r) >> 16)
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Math", {
      isubh: function (t, n, r, e) {
        var i = t >>> 0, o = n >>> 0, u = r >>> 0;
        return o - (e >>> 0) - ((~i & u | ~(i ^ u) & i - u >>> 0) >>> 31) | 0
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "Math", {
      umulh: function (t, n) {
        var r = 65535, e = +t, i = +n, o = e & r, u = i & r, c = e >>> 16, f = i >>> 16,
          a = (c * u >>> 0) + (o * u >>> 16);
        return c * f + (a >>> 16) + ((o * f >>> 0) + (a & r) >>> 16)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(17), o = r(26), u = r(11);
    r(10) && e(e.P + r(124), "Object", {
      __defineGetter__: function (t, n) {
        u.f(i(this), t, {get: o(n), enumerable: !0, configurable: !0})
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(17), o = r(26), u = r(11);
    r(10) && e(e.P + r(124), "Object", {
      __defineSetter__: function (t, n) {
        u.f(i(this), t, {set: o(n), enumerable: !0, configurable: !0})
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(176)(!0);
    e(e.S, "Object", {
      entries: function (t) {
        return i(t)
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(177), o = r(30), u = r(31), c = r(131);
    e(e.S, "Object", {
      getOwnPropertyDescriptors: function (t) {
        for (var n, r = o(t), e = u.f, f = i(r), a = {}, s = 0; f.length > s;) c(a, n = f[s++], e(r, n));
        return a
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(17), o = r(50), u = r(32), c = r(31).f;
    r(10) && e(e.P + r(124), "Object", {
      __lookupGetter__: function (t) {
        var n, r = i(this), e = o(t, !0);
        do {
          if (n = c(r, e)) return n.get
        } while (r = u(r))
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(17), o = r(50), u = r(32), c = r(31).f;
    r(10) && e(e.P + r(124), "Object", {
      __lookupSetter__: function (t) {
        var n, r = i(this), e = o(t, !0);
        do {
          if (n = c(r, e)) return n.set
        } while (r = u(r))
      }
    })
  }, function (t, n, r) {
    var e = r(1), i = r(176)(!1);
    e(e.S, "Object", {
      values: function (t) {
        return i(t)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(3), o = r(52), u = r(143)(), c = r(7)("observable"), f = r(26), a = r(2), s = r(68), l = r(73),
      h = r(27), v = r(79), p = v.RETURN, d = function (t) {
        return null == t ? void 0 : f(t)
      }, y = function (t) {
        var n = t._c;
        n && (t._c = void 0, n())
      }, g = function (t) {
        return void 0 === t._o
      }, b = function (t) {
        g(t) || (t._o = void 0, y(t))
      }, m = function (t, n) {
        a(t), this._c = void 0, this._o = t, t = new x(this);
        try {
          var r = n(t), e = r;
          null != r && ("function" == typeof r.unsubscribe ? r = function () {
            e.unsubscribe()
          } : f(r), this._c = r)
        } catch (n) {
          return void t.error(n)
        }
        g(this) && y(this)
      };
    m.prototype = l({}, {
      unsubscribe: function () {
        b(this)
      }
    });
    var x = function (t) {
      this._s = t
    };
    x.prototype = l({}, {
      next: function (t) {
        var n = this._s;
        if (!g(n)) {
          var r = n._o;
          try {
            var e = d(r.next);
            if (e) return e.call(r, t)
          } catch (t) {
            try {
              b(n)
            } finally {
              throw t
            }
          }
        }
      }, error: function (t) {
        var n = this._s;
        if (g(n)) throw t;
        var r = n._o;
        n._o = void 0;
        try {
          var e = d(r.error);
          if (!e) throw t;
          t = e.call(r, t)
        } catch (t) {
          try {
            y(n)
          } finally {
            throw t
          }
        }
        return y(n), t
      }, complete: function (t) {
        var n = this._s;
        if (!g(n)) {
          var r = n._o;
          n._o = void 0;
          try {
            var e = d(r.complete);
            t = e ? e.call(r, t) : void 0
          } catch (t) {
            try {
              y(n)
            } finally {
              throw t
            }
          }
          return y(n), t
        }
      }
    });
    var w = function (t) {
      s(this, w, "Observable", "_f")._f = f(t)
    };
    l(w.prototype, {
      subscribe: function (t) {
        return new m(t, this._f)
      }, forEach: function (t) {
        var n = this;
        return new (o.Promise || i.Promise)(function (r, e) {
          f(t);
          var i = n.subscribe({
            next: function (n) {
              try {
                return t(n)
              } catch (t) {
                e(t), i.unsubscribe()
              }
            }, error: e, complete: r
          })
        })
      }
    }), l(w, {
      from: function (t) {
        var n = "function" == typeof this ? this : w, r = d(a(t)[c]);
        if (r) {
          var e = a(r.call(t));
          return e.constructor === n ? e : new n(function (t) {
            return e.subscribe(t)
          })
        }
        return new n(function (n) {
          var r = !1;
          return u(function () {
            if (!r) {
              try {
                if (v(t, !1, function (t) {
                    if (n.next(t), r) return p
                  }) === p) return
              } catch (t) {
                if (r) throw t;
                return void n.error(t)
              }
              n.complete()
            }
          }), function () {
            r = !0
          }
        })
      }, of: function () {
        for (var t = 0, n = arguments.length, r = Array(n); t < n;) r[t] = arguments[t++];
        return new ("function" == typeof this ? this : w)(function (t) {
          var n = !1;
          return u(function () {
            if (!n) {
              for (var e = 0; e < r.length; ++e) if (t.next(r[e]), n) return;
              t.complete()
            }
          }), function () {
            n = !0
          }
        })
      }
    }), h(w.prototype, c, function () {
      return this
    }), e(e.G, {Observable: w}), r(74)("Observable")
  }, function (t, n, r) {
    var e = r(54), i = r(2), o = e.key, u = e.set;
    e.exp({
      defineMetadata: function (t, n, r, e) {
        u(t, n, i(r), o(e))
      }
    })
  }, function (t, n, r) {
    var e = r(54), i = r(2), o = e.key, u = e.map, c = e.store;
    e.exp({
      deleteMetadata: function (t, n) {
        var r = arguments.length < 3 ? void 0 : o(arguments[2]), e = u(i(n), r, !1);
        if (void 0 === e || !e.delete(t)) return !1;
        if (e.size) return !0;
        var f = c.get(n);
        return f.delete(r), !!f.size || c.delete(n)
      }
    })
  }, function (t, n, r) {
    var e = r(185), i = r(161), o = r(54), u = r(2), c = r(32), f = o.keys, a = o.key, s = function (t, n) {
      var r = f(t, n), o = c(t);
      if (null === o) return r;
      var u = s(o, n);
      return u.length ? r.length ? i(new e(r.concat(u))) : u : r
    };
    o.exp({
      getMetadataKeys: function (t) {
        return s(u(t), arguments.length < 2 ? void 0 : a(arguments[1]))
      }
    })
  }, function (t, n, r) {
    var e = r(54), i = r(2), o = r(32), u = e.has, c = e.get, f = e.key, a = function (t, n, r) {
      if (u(t, n, r)) return c(t, n, r);
      var e = o(n);
      return null !== e ? a(t, e, r) : void 0
    };
    e.exp({
      getMetadata: function (t, n) {
        return a(t, i(n), arguments.length < 3 ? void 0 : f(arguments[2]))
      }
    })
  }, function (t, n, r) {
    var e = r(54), i = r(2), o = e.keys, u = e.key;
    e.exp({
      getOwnMetadataKeys: function (t) {
        return o(i(t), arguments.length < 2 ? void 0 : u(arguments[1]))
      }
    })
  }, function (t, n, r) {
    var e = r(54), i = r(2), o = e.get, u = e.key;
    e.exp({
      getOwnMetadata: function (t, n) {
        return o(t, i(n), arguments.length < 3 ? void 0 : u(arguments[2]))
      }
    })
  }, function (t, n, r) {
    var e = r(54), i = r(2), o = r(32), u = e.has, c = e.key, f = function (t, n, r) {
      if (u(t, n, r)) return !0;
      var e = o(n);
      return null !== e && f(t, e, r)
    };
    e.exp({
      hasMetadata: function (t, n) {
        return f(t, i(n), arguments.length < 3 ? void 0 : c(arguments[2]))
      }
    })
  }, function (t, n, r) {
    var e = r(54), i = r(2), o = e.has, u = e.key;
    e.exp({
      hasOwnMetadata: function (t, n) {
        return o(t, i(n), arguments.length < 3 ? void 0 : u(arguments[2]))
      }
    })
  }, function (t, n, r) {
    var e = r(54), i = r(2), o = r(26), u = e.key, c = e.set;
    e.exp({
      metadata: function (t, n) {
        return function (r, e) {
          c(t, n, (void 0 !== e ? i : o)(r), u(e))
        }
      }
    })
  }, function (t, n, r) {
    var e = r(1);
    e(e.P + e.R, "Set", {toJSON: r(165)("Set")})
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(147)(!0);
    e(e.P, "String", {
      at: function (t) {
        return i(this, t)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(46), o = r(16), u = r(122), c = r(120), f = RegExp.prototype, a = function (t, n) {
      this._r = t, this._s = n
    };
    r(139)(a, "RegExp String", function () {
      var t = this._r.exec(this._s);
      return {value: t, done: null === t}
    }), e(e.P, "String", {
      matchAll: function (t) {
        if (i(this), !u(t)) throw TypeError(t + " is not a regexp!");
        var n = String(this), r = "flags" in f ? String(t.flags) : c.call(t),
          e = new RegExp(t.source, ~r.indexOf("g") ? r : "g" + r);
        return e.lastIndex = o(t.lastIndex), new a(e, n)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(181);
    e(e.P, "String", {
      padEnd: function (t) {
        return i(this, t, arguments.length > 1 ? arguments[1] : void 0, !1)
      }
    })
  }, function (t, n, r) {
    "use strict";
    var e = r(1), i = r(181);
    e(e.P, "String", {
      padStart: function (t) {
        return i(this, t, arguments.length > 1 ? arguments[1] : void 0, !0)
      }
    })
  }, function (t, n, r) {
    "use strict";
    r(82)("trimLeft", function (t) {
      return function () {
        return t(this, 1)
      }
    }, "trimStart")
  }, function (t, n, r) {
    "use strict";
    r(82)("trimRight", function (t) {
      return function () {
        return t(this, 2)
      }
    }, "trimEnd")
  }, function (t, n, r) {
    r(153)("asyncIterator")
  }, function (t, n, r) {
    r(153)("observable")
  }, function (t, n, r) {
    var e = r(1);
    e(e.S, "System", {global: r(3)})
  }, function (t, n, r) {
    for (var e = r(155), i = r(28), o = r(3), u = r(27), c = r(80), f = r(7), a = f("iterator"), s = f("toStringTag"), l = c.Array, h = ["NodeList", "DOMTokenList", "MediaList", "StyleSheetList", "CSSRuleList"], v = 0; v < 5; v++) {
      var p, d = h[v], y = o[d], g = y && y.prototype;
      if (g) {
        g[a] || u(g, a, l), g[s] || u(g, s, d), c[d] = l;
        for (p in e) g[p] || i(g, p, e[p], !0)
      }
    }
  }, function (t, n, r) {
    var e = r(1), i = r(151);
    e(e.G + e.B, {setImmediate: i.set, clearImmediate: i.clear})
  }, function (t, n, r) {
    var e = r(3), i = r(1), o = r(121), u = r(207), c = e.navigator, f = !!c && /MSIE .\./.test(c.userAgent),
      a = function (t) {
        return f ? function (n, r) {
          return t(o(u, [].slice.call(arguments, 2), "function" == typeof n ? n : Function(n)), r)
        } : t
      };
    i(i.G + i.B + i.F * f, {setTimeout: a(e.setTimeout), setInterval: a(e.setInterval)})
  }, function (t, n, r) {
    r(330), r(269), r(271), r(270), r(273), r(275), r(280), r(274), r(272), r(282), r(281), r(277), r(278), r(276), r(268), r(279), r(283), r(284), r(236), r(238), r(237), r(286), r(285), r(256), r(266), r(267), r(257), r(258), r(259), r(260), r(261), r(262), r(263), r(264), r(265), r(239), r(240), r(241), r(242), r(243), r(244), r(245), r(246), r(247), r(248), r(249), r(250), r(251), r(252), r(253), r(254), r(255), r(317), r(322), r(329), r(320), r(312), r(313), r(318), r(323), r(325), r(308), r(309), r(310), r(311), r(314), r(315), r(316), r(319), r(321), r(324), r(326), r(327), r(328), r(231), r(233), r(232), r(235), r(234), r(220), r(218), r(224), r(221), r(227), r(229), r(217), r(223), r(214), r(228), r(212), r(226), r(225), r(219), r(222), r(211), r(213), r(216), r(215), r(230), r(155), r(302),r(307),r(184),r(303),r(304),r(305),r(306),r(287),r(183),r(185),r(186),r(342),r(331),r(332),r(337),r(340),r(341),r(335),r(338),r(336),r(339),r(333),r(334),r(288),r(289),r(290),r(291),r(292),r(295),r(293),r(294),r(296),r(297),r(298),r(299),r(301),r(300),r(343),r(369),r(372),r(371),r(373),r(374),r(370),r(375),r(376),r(354),r(357),r(353),r(351),r(352),r(355),r(356),r(346),r(368),r(377),r(345),r(347),r(349),r(348),r(350),r(359),r(360),r(362),r(361),r(364),r(363),r(365),r(366),r(367),r(344),r(358),r(380),r(379),r(378),t.exports = r(52)
  }, function (t, n) {
    function r(t, n) {
      if ("string" == typeof n) return t.insertAdjacentHTML("afterend", n);
      var r = t.nextSibling;
      return r ? t.parentNode.insertBefore(n, r) : t.parentNode.appendChild(n)
    }

    t.exports = r
  }, , , , , , , , , function (t, n, r) {
    (function (n, r) {
      !function (n) {
        "use strict";

        function e(t, n, r, e) {
          var i = n && n.prototype instanceof o ? n : o, u = Object.create(i.prototype), c = new p(e || []);
          return u._invoke = s(t, r, c), u
        }

        function i(t, n, r) {
          try {
            return {type: "normal", arg: t.call(n, r)}
          } catch (t) {
            return {type: "throw", arg: t}
          }
        }

        function o() {
        }

        function u() {
        }

        function c() {
        }

        function f(t) {
          ["next", "throw", "return"].forEach(function (n) {
            t[n] = function (t) {
              return this._invoke(n, t)
            }
          })
        }

        function a(t) {
          function n(r, e, o, u) {
            var c = i(t[r], t, e);
            if ("throw" !== c.type) {
              var f = c.arg, a = f.value;
              return a && "object" == typeof a && m.call(a, "__await") ? Promise.resolve(a.__await).then(function (t) {
                n("next", t, o, u)
              }, function (t) {
                n("throw", t, o, u)
              }) : Promise.resolve(a).then(function (t) {
                f.value = t, o(f)
              }, u)
            }
            u(c.arg)
          }

          function e(t, r) {
            function e() {
              return new Promise(function (e, i) {
                n(t, r, e, i)
              })
            }

            return o = o ? o.then(e, e) : e()
          }

          "object" == typeof r && r.domain && (n = r.domain.bind(n));
          var o;
          this._invoke = e
        }

        function s(t, n, r) {
          var e = P;
          return function (o, u) {
            if (e === F) throw new Error("Generator is already running");
            if (e === M) {
              if ("throw" === o) throw u;
              return y()
            }
            for (r.method = o, r.arg = u; ;) {
              var c = r.delegate;
              if (c) {
                var f = l(c, r);
                if (f) {
                  if (f === A) continue;
                  return f
                }
              }
              if ("next" === r.method) r.sent = r._sent = r.arg; else if ("throw" === r.method) {
                if (e === P) throw e = M, r.arg;
                r.dispatchException(r.arg)
              } else "return" === r.method && r.abrupt("return", r.arg);
              e = F;
              var a = i(t, n, r);
              if ("normal" === a.type) {
                if (e = r.done ? M : j, a.arg === A) continue;
                return {value: a.arg, done: r.done}
              }
              "throw" === a.type && (e = M, r.method = "throw", r.arg = a.arg)
            }
          }
        }

        function l(t, n) {
          var r = t.iterator[n.method];
          if (r === g) {
            if (n.delegate = null, "throw" === n.method) {
              if (t.iterator.return && (n.method = "return", n.arg = g, l(t, n), "throw" === n.method)) return A;
              n.method = "throw", n.arg = new TypeError("The iterator does not provide a 'throw' method")
            }
            return A
          }
          var e = i(r, t.iterator, n.arg);
          if ("throw" === e.type) return n.method = "throw", n.arg = e.arg, n.delegate = null, A;
          var o = e.arg;
          return o ? o.done ? (n[t.resultName] = o.value, n.next = t.nextLoc, "return" !== n.method && (n.method = "next", n.arg = g), n.delegate = null, A) : o : (n.method = "throw", n.arg = new TypeError("iterator result is not an object"), n.delegate = null, A)
        }

        function h(t) {
          var n = {tryLoc: t[0]};
          1 in t && (n.catchLoc = t[1]), 2 in t && (n.finallyLoc = t[2], n.afterLoc = t[3]), this.tryEntries.push(n)
        }

        function v(t) {
          var n = t.completion || {};
          n.type = "normal", delete n.arg, t.completion = n
        }

        function p(t) {
          this.tryEntries = [{tryLoc: "root"}], t.forEach(h, this), this.reset(!0)
        }

        function d(t) {
          if (t) {
            var n = t[w];
            if (n) return n.call(t);
            if ("function" == typeof t.next) return t;
            if (!isNaN(t.length)) {
              var r = -1, e = function n() {
                for (; ++r < t.length;) if (m.call(t, r)) return n.value = t[r], n.done = !1, n;
                return n.value = g, n.done = !0, n
              };
              return e.next = e
            }
          }
          return {next: y}
        }

        function y() {
          return {value: g, done: !0}
        }

        var g, b = Object.prototype, m = b.hasOwnProperty, x = "function" == typeof Symbol ? Symbol : {},
          w = x.iterator || "@@iterator", S = x.asyncIterator || "@@asyncIterator",
          _ = x.toStringTag || "@@toStringTag", O = "object" == typeof t, E = n.regeneratorRuntime;
        if (E) return void(O && (t.exports = E));
        E = n.regeneratorRuntime = O ? t.exports : {}, E.wrap = e;
        var P = "suspendedStart", j = "suspendedYield", F = "executing", M = "completed", A = {}, N = {};
        N[w] = function () {
          return this
        };
        var T = Object.getPrototypeOf, I = T && T(T(d([])));
        I && I !== b && m.call(I, w) && (N = I);
        var k = c.prototype = o.prototype = Object.create(N);
        u.prototype = k.constructor = c, c.constructor = u, c[_] = u.displayName = "GeneratorFunction", E.isGeneratorFunction = function (t) {
          var n = "function" == typeof t && t.constructor;
          return !!n && (n === u || "GeneratorFunction" === (n.displayName || n.name))
        }, E.mark = function (t) {
          return Object.setPrototypeOf ? Object.setPrototypeOf(t, c) : (t.__proto__ = c, _ in t || (t[_] = "GeneratorFunction")), t.prototype = Object.create(k), t
        }, E.awrap = function (t) {
          return {__await: t}
        }, f(a.prototype), a.prototype[S] = function () {
          return this
        }, E.AsyncIterator = a, E.async = function (t, n, r, i) {
          var o = new a(e(t, n, r, i));
          return E.isGeneratorFunction(n) ? o : o.next().then(function (t) {
            return t.done ? t.value : o.next()
          })
        }, f(k), k[_] = "Generator", k.toString = function () {
          return "[object Generator]"
        }, E.keys = function (t) {
          var n = [];
          for (var r in t) n.push(r);
          return n.reverse(), function r() {
            for (; n.length;) {
              var e = n.pop();
              if (e in t) return r.value = e, r.done = !1, r
            }
            return r.done = !0, r
          }
        }, E.values = d, p.prototype = {
          constructor: p, reset: function (t) {
            if (this.prev = 0, this.next = 0, this.sent = this._sent = g, this.done = !1, this.delegate = null, this.method = "next", this.arg = g, this.tryEntries.forEach(v), !t) for (var n in this) "t" === n.charAt(0) && m.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = g)
          }, stop: function () {
            this.done = !0;
            var t = this.tryEntries[0], n = t.completion;
            if ("throw" === n.type) throw n.arg;
            return this.rval
          }, dispatchException: function (t) {
            function n(n, e) {
              return o.type = "throw", o.arg = t, r.next = n, e && (r.method = "next", r.arg = g), !!e
            }

            if (this.done) throw t;
            for (var r = this, e = this.tryEntries.length - 1; e >= 0; --e) {
              var i = this.tryEntries[e], o = i.completion;
              if ("root" === i.tryLoc) return n("end");
              if (i.tryLoc <= this.prev) {
                var u = m.call(i, "catchLoc"), c = m.call(i, "finallyLoc");
                if (u && c) {
                  if (this.prev < i.catchLoc) return n(i.catchLoc, !0);
                  if (this.prev < i.finallyLoc) return n(i.finallyLoc)
                } else if (u) {
                  if (this.prev < i.catchLoc) return n(i.catchLoc, !0)
                } else {
                  if (!c) throw new Error("try statement without catch or finally");
                  if (this.prev < i.finallyLoc) return n(i.finallyLoc)
                }
              }
            }
          }, abrupt: function (t, n) {
            for (var r = this.tryEntries.length - 1; r >= 0; --r) {
              var e = this.tryEntries[r];
              if (e.tryLoc <= this.prev && m.call(e, "finallyLoc") && this.prev < e.finallyLoc) {
                var i = e;
                break
              }
            }
            i && ("break" === t || "continue" === t) && i.tryLoc <= n && n <= i.finallyLoc && (i = null);
            var o = i ? i.completion : {};
            return o.type = t, o.arg = n, i ? (this.method = "next", this.next = i.finallyLoc, A) : this.complete(o)
          }, complete: function (t, n) {
            if ("throw" === t.type) throw t.arg;
            return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && n && (this.next = n), A
          }, finish: function (t) {
            for (var n = this.tryEntries.length - 1; n >= 0; --n) {
              var r = this.tryEntries[n];
              if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), v(r), A
            }
          }, catch: function (t) {
            for (var n = this.tryEntries.length - 1; n >= 0; --n) {
              var r = this.tryEntries[n];
              if (r.tryLoc === t) {
                var e = r.completion;
                if ("throw" === e.type) {
                  var i = e.arg;
                  v(r)
                }
                return i
              }
            }
            throw new Error("illegal catch attempt")
          }, delegateYield: function (t, n, r) {
            return this.delegate = {
              iterator: d(t),
              resultName: n,
              nextLoc: r
            }, "next" === this.method && (this.arg = g), A
          }
        }
      }("object" == typeof n ? n : "object" == typeof window ? window : "object" == typeof self ? self : this)
    }).call(n, function () {
      return this
    }(), r(158))
  }])</script>
<script src="/./main.0cf68a.js"></script>
<script>!function () {
    !function (e) {
      var t = document.createElement("script");
      document.getElementsByTagName("body")[0].appendChild(t), t.setAttribute("src", e)
    }("/slider.e37972.js")
  }()</script>
  <script>pangu.spacingPage();</script>
</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 50%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
        
      
      <li style="width: 50%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="搜索文章">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">标签:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Linux</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Java</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">计算机网络</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">MySQL</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">收藏</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Redis</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Spring</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">备忘录</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">读书笔记</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">密码学</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、请确保node版本大于6.2<br/>2、在博客根目录（注意不是yilia根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            3、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">本科毕业于电子科大，现电子科大研究生在读&lt;br&gt;坐标成都，一枚奋进的Java程序猿</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>